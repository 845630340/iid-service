[]--[]--2020-11-07 14:14:55.871 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Starting IIDApplication on JiangYuPengdeMacBook-Pro.local with PID 70583 (/Users/jiangyupeng/Java/Company/iid-service/out/production/classes started by jiangyupeng in /Users/jiangyupeng/Java/Company/iid-service)
[]--[]--2020-11-07 14:14:55.875 DEBUG--[  restartedMain]
                com.inspur.cloud.IIDApplication          : Running with Spring Boot v2.0.5.RELEASE, Spring v5.0.9.RELEASE
[]--[]--2020-11-07 14:14:55.875 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : The following profiles are active: prod
[]--[]--2020-11-07 14:14:55.998 INFO --[  restartedMain]
                o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2d46030e: startup date [Sat Nov 07 14:14:55 CST 2020]; root of context hierarchy
[]--[]--2020-11-07 14:14:56.787 INFO --[  restartedMain]
                o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'httpSessionManager' with a different definition: replacing [Generic bean: class [org.keycloak.adapters.springsecurity.management.HttpSessionManager]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/org.keycloak/keycloak-spring-security-adapter/4.6.0.Final/8a42a701686abd300fd73288f1e1ce9807a95dd1/keycloak-spring-security-adapter-4.6.0.Final.jar!/org/keycloak/adapters/springsecurity/management/HttpSessionManager.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=securityConfig; factoryMethodName=httpSessionManager; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/inspur/iam/adapter/config/SecurityConfig.class]]
[]--[]--2020-11-07 14:14:57.130 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-11-07 14:14:57.162 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-11-07 14:14:57.294 INFO --[  restartedMain]
                o.s.i.config.IntegrationRegistrar        : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
[]--[]--2020-11-07 14:14:57.646 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
[]--[]--2020-11-07 14:14:57.660 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
[]--[]--2020-11-07 14:14:57.775 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$6d1440c0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-11-07 14:14:57.877 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a6a88292] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-11-07 14:14:58.067 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$119a3dc1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-11-07 14:14:58.850 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8762 (http)
[]--[]--2020-11-07 14:14:58.870 INFO --[  restartedMain]
                org.apache.catalina.core.StandardService : Starting service [Tomcat]
[]--[]--2020-11-07 14:14:58.870 INFO --[  restartedMain]
                org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.34
[]--[]--2020-11-07 14:14:58.873 INFO --[localhost-startStop-1]
                o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/jiangyupeng/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
[]--[]--2020-11-07 14:14:58.958 INFO --[localhost-startStop-1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
[]--[]--2020-11-07 14:14:58.958 INFO --[localhost-startStop-1]
                o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2960 ms
[]--[]--2020-11-07 14:15:00.811 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'characterEncodingFilter' to: [/*]
[]--[]--2020-11-07 14:15:00.811 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'webMvcMetricsFilter' to: [/*]
[]--[]--2020-11-07 14:15:00.812 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
[]--[]--2020-11-07 14:15:00.812 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpPutFormContentFilter' to: [/*]
[]--[]--2020-11-07 14:15:00.813 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestContextFilter' to: [/*]
[]--[]--2020-11-07 14:15:00.813 INFO --[localhost-startStop-1]
                o.s.b.w.s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
[]--[]--2020-11-07 14:15:00.814 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'securityContextFilter' to urls: [/*]
[]--[]--2020-11-07 14:15:00.814 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpTraceFilter' to: [/*]
[]--[]--2020-11-07 14:15:00.814 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticationProcessingFilter was not registered (disabled)
[]--[]--2020-11-07 14:15:00.814 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakPreAuthActionsFilter was not registered (disabled)
[]--[]--2020-11-07 14:15:00.814 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticatedActionsFilter was not registered (disabled)
[]--[]--2020-11-07 14:15:00.815 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakSecurityContextRequestFilter was not registered (disabled)
[]--[]--2020-11-07 14:15:00.815 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestFilter' to: [/*]
[]--[]--2020-11-07 14:15:00.815 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'repeatedlyReadFilter' to: [/*]
[]--[]--2020-11-07 14:15:00.815 INFO --[localhost-startStop-1]
                o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
[]--[]--2020-11-07 14:15:00.838 DEBUG--[localhost-startStop-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.init()......
[]--[]--2020-11-07 14:15:01.039 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
[]--[]--2020-11-07 14:15:01.376 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
[]--[]--2020-11-07 14:15:01.441 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
[]--[]--2020-11-07 14:15:01.460 INFO --[  restartedMain]
                o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
[]--[]--2020-11-07 14:15:01.565 INFO --[  restartedMain]
                org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
[]--[]--2020-11-07 14:15:01.568 INFO --[  restartedMain]
                org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
[]--[]--2020-11-07 14:15:01.646 INFO --[  restartedMain]
                org.hibernate.annotations.common.Version : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
[]--[]--2020-11-07 14:15:01.955 INFO --[  restartedMain]
                org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
[]--[]--2020-11-07 14:15:02.193 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
[]--[]--2020-11-07 14:15:02.254 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] there is no iam folder in Resource!
[]--[]--2020-11-07 14:15:02.255 DEBUG--[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] projectPath: /Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/com.inspur.iam/iam-adapter-java/1.9.7/6706f5ae335155c33a45369c1400847f77286669
[]--[]--2020-11-07 14:15:02.255 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.LiquiabseInit] there is no liquibase-xml in local directory!
[]--[]--2020-11-07 14:15:02.269 DEBUG--[  restartedMain]
                com.inspur.iam.adapter.util.VersionUtil  : [VersionUtil.uploadVersion] adaper version: 1.9.7
[]--[]--2020-11-07 14:15:02.911 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 开始创建RestTemplate-->[tokenType=USER,timeZone=GMT,WriteDatesAsTimestamps=null,referer=https://console1.cloud.inspur.com/,connectionRequestTimeout=0,ConnectTimeout=0,ReadTimeout=0]
[]--[]--2020-11-07 14:15:02.919 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 创建RestTemplate完成-->org.keycloak.adapters.springsecurity.client.KeycloakRestTemplate@6cbe2396
[]--[]--2020-11-07 14:15:03.079 DEBUG--[  restartedMain]
                c.i.c.s.m.u.spring.SpringContextHolder   : 注入ApplicationContext到SpringContextHolder:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2d46030e: startup date [Sat Nov 07 14:14:55 CST 2020]; root of context hierarchy
[]--[]--2020-11-07 14:15:03.284 INFO --[  restartedMain]
                o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3aa0e1ca, org.springframework.security.web.context.SecurityContextPersistenceFilter@2cbee539, org.springframework.security.web.header.HeaderWriterFilter@661888e6, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@5f34bd2a, org.springframework.security.web.authentication.logout.LogoutFilter@3ae3d428, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@3295e58f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@67fd7317, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@76cdca63, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@719a5721, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@5dea7c48, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1f512a44, org.springframework.security.web.session.SessionManagementFilter@3fa125d0, org.springframework.security.web.access.ExceptionTranslationFilter@186f16a8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@17c5b17b]
[]--[]--2020-11-07 14:15:03.381 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService  'taskExecutor'
[]--[]--2020-11-07 14:15:03.493 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-11-07 14:15:03.598 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2d46030e: startup date [Sat Nov 07 14:14:55 CST 2020]; root of context hierarchy
[]--[]--2020-11-07 14:15:03.611 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Detected ResponseBodyAdvice bean in responseResultBodyAdvisor
[]--[]--2020-11-07 14:15:03.652 WARN --[  restartedMain]
                o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[]--[]--2020-11-07 14:15:03.727 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.device.controller.DeviceController.querySecretKeyList(int,int,java.lang.String,java.lang.String,java.lang.Integer,java.lang.String)
[]--[]--2020-11-07 14:15:03.728 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/download],methods=[GET]}" onto public void com.inspur.cloud.console.device.controller.DeviceController.downloadDevices(javax.servlet.http.HttpServletResponse,java.lang.String,java.lang.String,java.lang.String,java.lang.Integer) throws java.io.IOException
[]--[]--2020-11-07 14:15:03.728 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secret],methods=[GET]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecret(java.lang.String,java.lang.String,java.lang.String)
[]--[]--2020-11-07 14:15:03.729 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secrets],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecrets(org.springframework.web.multipart.MultipartFile,java.lang.String) throws java.io.IOException
[]--[]--2020-11-07 14:15:03.729 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/downloadDevice],methods=[GET]}" onto public void com.inspur.cloud.console.device.controller.DeviceController.downloadDevice(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-11-07 14:15:03.731 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictCache()
[]--[]--2020-11-07 14:15:03.731 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictGroupCache(java.lang.String)
[]--[]--2020-11-07 14:15:03.731 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}/items/{itemId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<com.inspur.cloud.console.dict.entity.DictItemBean> com.inspur.cloud.console.dict.controller.DictController.getDictItemByKey(java.lang.String,java.lang.String)
[]--[]--2020-11-07 14:15:03.732 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<?> com.inspur.cloud.console.dict.controller.DictController.getDict(java.lang.String)
[]--[]--2020-11-07 14:15:03.733 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<java.util.List<com.inspur.cloud.console.dict.entity.DictItemBean>> com.inspur.cloud.console.dict.controller.DictController.getDictItemByGroupId(java.lang.String)
[]--[]--2020-11-07 14:15:03.733 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/health-status],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.health.HealthController.healthStatus()
[]--[]--2020-11-07 14:15:03.736 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.queryProductList(int,int,java.lang.String)
[]--[]--2020-11-07 14:15:03.736 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.productList(java.lang.String,int,int)
[]--[]--2020-11-07 14:15:03.737 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.product.entity.ProductsVO> com.inspur.cloud.console.product.controller.ProductController.productList()
[]--[]--2020-11-07 14:15:03.737 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.addProduct(com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-11-07 14:15:03.738 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}],methods=[PUT]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.updateProduct(java.lang.String,com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-11-07 14:15:03.738 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail],methods=[GET]}" onto public com.inspur.cloud.console.product.entity.ProductDo com.inspur.cloud.console.product.controller.ProductController.productDetails(java.lang.String)
[]--[]--2020-11-07 14:15:03.738 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/metrics]}" onto public void com.inspur.cloud.console.prometheus.controller.MetricsController.metrics(javax.servlet.http.HttpServletResponse) throws java.io.IOException
[]--[]--2020-11-07 14:15:03.742 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.rootcert.controller.RootCertController.queryRootCertList(int,int,java.lang.String)
[]--[]--2020-11-07 14:15:03.743 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/rootCertList],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.rootcert.entity.RootCert> com.inspur.cloud.console.rootcert.controller.RootCertController.queryRootCertList()
[]--[]--2020-11-07 14:15:03.743 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/nameValid],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.nameValid(java.lang.String)
[]--[]--2020-11-07 14:15:03.743 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/create-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.createCA(com.inspur.cloud.console.rootcert.entity.CreateRootCertParams)
[]--[]--2020-11-07 14:15:03.744 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/import-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.importCA(com.inspur.cloud.console.rootcert.entity.ImportRootCertParams) throws java.io.IOException
[]--[]--2020-11-07 14:15:03.744 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/crt],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCaCrt(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-11-07 14:15:03.744 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/key],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCaKey(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-11-07 14:15:03.745 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/crt-key],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCaCrtAndCaKey(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-11-07 14:15:03.745 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/{certId}/detail],methods=[GET]}" onto public com.inspur.cloud.console.rootcert.entity.RootCert com.inspur.cloud.console.rootcert.controller.RootCertController.getDetail(java.lang.String)
[]--[]--2020-11-07 14:15:03.746 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/edit],methods=[PATCH]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.edit(com.inspur.cloud.console.rootcert.entity.RootCert)
[]--[]--2020-11-07 14:15:03.747 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/sm9/is-open],methods=[GET]}" onto public int com.inspur.cloud.console.usercert.controller.UserCertController.isOpenService()
[]--[]--2020-11-07 14:15:03.747 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/number],methods=[GET]}" onto public com.inspur.cloud.console.kgc.entity.ProductAndDeviceNum com.inspur.cloud.console.usercert.controller.UserCertController.calulateNumber()
[]--[]--2020-11-07 14:15:03.747 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/create-sm9],methods=[POST]}" onto public void com.inspur.cloud.console.usercert.controller.UserCertController.createSM9(com.inspur.cloud.console.rootcert.entity.RootCert)
[]--[]--2020-11-07 14:15:03.749 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
[]--[]--2020-11-07 14:15:03.750 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
[]--[]--2020-11-07 14:15:03.831 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-11-07 14:15:03.832 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-11-07 14:15:03.882 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in clientExceptionHandler
[]--[]--2020-11-07 14:15:03.882 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
[]--[]--2020-11-07 14:15:03.882 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected ResponseBodyAdvice implementation in responseResultBodyAdvisor
[]--[]--2020-11-07 14:15:03.883 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in commonControllerAdvice
[]--[]--2020-11-07 14:15:04.789 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskScheduler : Initializing ExecutorService  'taskScheduler'
[]--[]--2020-11-07 14:15:04.951 INFO --[  restartedMain]
                o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path ''
[]--[]--2020-11-07 14:15:04.963 INFO --[  restartedMain]
                o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping : Mapped "{[/prometheus],methods=[GET],produces=[text/plain;version=0.0.4;charset=utf-8]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
[]--[]--2020-11-07 14:15:05.104 INFO --[  restartedMain]
                o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[]--[]--2020-11-07 14:15:05.282 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
[]--[]--2020-11-07 14:15:05.284 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
[]--[]--2020-11-07 14:15:05.292 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
[]--[]--2020-11-07 14:15:05.298 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
[]--[]--2020-11-07 14:15:05.300 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
[]--[]--2020-11-07 14:15:05.335 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0
[]--[]--2020-11-07 14:15:05.336 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
[]--[]--2020-11-07 14:15:05.336 INFO --[  restartedMain]
                o.s.i.channel.PublishSubscribeChannel    : Channel 'i-id-service.errorChannel' has 1 subscriber(s).
[]--[]--2020-11-07 14:15:05.336 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : started _org.springframework.integration.errorLogger
[]--[]--2020-11-07 14:15:05.336 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
[]--[]--2020-11-07 14:15:05.419 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8762 (http) with context path ''
[]--[]--2020-11-07 14:15:05.424 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Started IIDApplication in 10.99 seconds (JVM running for 11.658)
[]--[]--2020-11-07 14:15:05.428 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...begin...
[]--[]--2020-11-07 14:15:05.493 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...end...
[]--[]--2020-11-07 14:15:05.853 INFO --[RMI TCP Connection(2)-127.0.0.1]
                o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [10.110.64.31:31675]
[]--[]--2020-11-07 14:15:05.858 INFO --[RMI TCP Connection(3)-127.0.0.1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
[]--[]--2020-11-07 14:15:05.858 INFO --[RMI TCP Connection(3)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
[]--[]--2020-11-07 14:15:05.882 INFO --[RMI TCP Connection(3)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 24 ms
[]--[]--2020-11-07 14:15:32.270 DEBUG--[      Thread-22]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] begin
[]--[]--2020-11-07 14:15:32.823 DEBUG--[      Thread-22]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] request success, responseBody: {"id":"e4e590c17448874b017448a48059000d","authUrl":"https://auth-cloud-dev.inspurcloud.cn/auth","realm":"picp","client":"bss-server","databaseName":"icp_iid","version":"1.9.7","createdAt":"2020-09-01T07:49:34Z","updatedAt":null}
[]--[]--2020-11-07 14:16:05.863 WARN --[RMI TCP Connection(2)-127.0.0.1]
                o.s.b.actuate.amqp.RabbitHealthIndicator : Rabbit health check failed
org.springframework.amqp.AmqpIOException: java.net.SocketTimeoutException: connect timed out
	at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:71)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:484)
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:628)
	at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:240)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:1816)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:1790)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:1771)
	at org.springframework.boot.actuate.amqp.RabbitHealthIndicator.getVersion(RabbitHealthIndicator.java:48)
	at org.springframework.boot.actuate.amqp.RabbitHealthIndicator.doHealthCheck(RabbitHealthIndicator.java:44)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:84)
	at org.springframework.boot.actuate.health.CompositeHealthIndicator.health(CompositeHealthIndicator.java:68)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:223)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:76)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:61)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:126)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:99)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)
	at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)
	at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)
	at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)
	at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)
	at sun.reflect.GeneratedMethodAccessor92.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.SocketTimeoutException: connect timed out
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.rabbitmq.client.impl.SocketFrameHandlerFactory.create(SocketFrameHandlerFactory.java:60)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1102)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1054)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:994)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:457)
	... 42 common frames omitted
[]--[]--2020-11-07 14:16:06.022 INFO --[RMI TCP Connection(2)-127.0.0.1]
                io.lettuce.core.EpollProvider            : Starting without optional epoll library
[]--[]--2020-11-07 14:16:06.024 INFO --[RMI TCP Connection(2)-127.0.0.1]
                io.lettuce.core.KqueueProvider           : Starting without optional kqueue library
[]--[]--2020-11-07 14:16:47.552 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-begin-1604729807552
[]--[]--2020-11-07 14:16:47.554 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : SecurityContextUtil.cleanSecurityContext()
[]--[]--2020-11-07 14:16:47.556 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] auth: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@357b6908: Principal: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@1a5520e9; Granted Authorities: ROLE_ACCOUNT_ADMIN, ROLE_RDS_ADMIN, ROLE_UMA_AUTHORIZATION, ROLE_OFFLINE_ACCESS
[]--[]--2020-11-07 14:16:47.556 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] is KeycloakAuthenticationToken
[]--[]--2020-11-07 14:16:47.557 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isServiceAccount: false
[]--[]--2020-11-07 14:16:47.557 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-11-07 14:16:47.558 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] begin
[]--[]--2020-11-07 14:16:47.926 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] request success, responseBody: {"id":"1d44bfda-8fd2-4e2b-a99c-21bdf690c753","createdTimestamp":1588827826514,"username":"inspurtest01","enabled":true,"totp":false,"emailVerified":false,"firstName":"","lastName":"","email":"inspurtest01@inspur.com","attributes":{"lastLoginTime":["1604729465246"],"project":["inspurtest01"],"thisLoginTime":["1604729584076"]},"disableableCredentialTypes":["password"],"requiredActions":[],"federatedIdentities":[],"notBefore":1602302654,"access":{"manageGroupMembership":true,"view":true,"mapRoles":true,"impersonate":true,"manage":true}}
[]--[]--2020-11-07 14:16:47.929 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] userMap: {id=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, createdTimestamp=1588827826514, username=inspurtest01, enabled=true, totp=false, emailVerified=false, firstName=, lastName=, email=inspurtest01@inspur.com, attributes={lastLoginTime=[1604729465246], project=[inspurtest01], thisLoginTime=[1604729584076]}, disableableCredentialTypes=[password], requiredActions=[], federatedIdentities=[], notBefore=1602302654, access={manageGroupMembership=true, view=true, mapRoles=true, impersonate=true, manage=true}}
[]--[]--2020-11-07 14:16:47.929 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : {lastLoginTime=[1604729465246], project=[inspurtest01], thisLoginTime=[1604729584076]}
[]--[]--2020-11-07 14:16:47.929 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserGroupsById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-11-07 14:16:47.929 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] begin
[]--[]--2020-11-07 14:16:47.970 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] request success, responseBody: [{"id":"047bd339-8ee6-42fe-8618-a99e8279dd79","name":"group-inspurtest01","description":null,"createdAt":0,"accountId":null}]
[]--[]--2020-11-07 14:16:47.980 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isRootUser: true
[]--[]--2020-11-07 14:16:47.983 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-doFilter-1604729807983
[]--[]--2020-11-07 14:16:47.988 DEBUG--[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.doFilter()...
[i-id-service]--[aed0dfb0-d5c7-482f-b5e7-da99e0ac3387]--2020-11-07 14:16:47.989 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : 是否为主账号true
[i-id-service]--[aed0dfb0-d5c7-482f-b5e7-da99e0ac3387]--2020-11-07 14:16:47.991 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : user id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753,Creator Id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753, request url: /iid/v1/root-cert/import-cert, request id: aed0dfb0-d5c7-482f-b5e7-da99e0ac3387
[i-id-service]--[aed0dfb0-d5c7-482f-b5e7-da99e0ac3387]--2020-11-07 14:16:48.197 DEBUG--[http-nio-8762-exec-1]
                c.i.iam.adapter.aop.PermissionContextAop : requesturi=/iid/v1/root-cert/import-cert
[i-id-service]--[aed0dfb0-d5c7-482f-b5e7-da99e0ac3387]--2020-11-07 14:16:48.224 DEBUG--[http-nio-8762-exec-1]
                c.i.c.c.e.service.ErrorCodeService       : Cache miss.
[i-id-service]--[aed0dfb0-d5c7-482f-b5e7-da99e0ac3387]--2020-11-07 14:16:48.296 WARN --[http-nio-8762-exec-1]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Resolved exception caused by handler execution: ServiceException(code=809.001005, message=Internal Server Error, params=null, httpStatus=200)
[]--[]--2020-11-07 14:17:18.198 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-begin-1604729838198
[]--[]--2020-11-07 14:17:18.199 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : SecurityContextUtil.cleanSecurityContext()
[]--[]--2020-11-07 14:17:18.199 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] auth: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@68a6950d: Principal: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@5222c92e; Granted Authorities: ROLE_ACCOUNT_ADMIN, ROLE_RDS_ADMIN, ROLE_UMA_AUTHORIZATION, ROLE_OFFLINE_ACCESS
[]--[]--2020-11-07 14:17:18.199 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] is KeycloakAuthenticationToken
[]--[]--2020-11-07 14:17:18.200 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isServiceAccount: false
[]--[]--2020-11-07 14:17:18.200 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-11-07 14:17:18.200 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] begin
[]--[]--2020-11-07 14:17:18.281 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] request success, responseBody: {"id":"1d44bfda-8fd2-4e2b-a99c-21bdf690c753","createdTimestamp":1588827826514,"username":"inspurtest01","enabled":true,"totp":false,"emailVerified":false,"firstName":"","lastName":"","email":"inspurtest01@inspur.com","attributes":{"lastLoginTime":["1604729465246"],"project":["inspurtest01"],"thisLoginTime":["1604729584076"]},"disableableCredentialTypes":["password"],"requiredActions":[],"federatedIdentities":[],"notBefore":1602302654,"access":{"manageGroupMembership":true,"view":true,"mapRoles":true,"impersonate":true,"manage":true}}
[]--[]--2020-11-07 14:17:18.283 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] userMap: {id=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, createdTimestamp=1588827826514, username=inspurtest01, enabled=true, totp=false, emailVerified=false, firstName=, lastName=, email=inspurtest01@inspur.com, attributes={lastLoginTime=[1604729465246], project=[inspurtest01], thisLoginTime=[1604729584076]}, disableableCredentialTypes=[password], requiredActions=[], federatedIdentities=[], notBefore=1602302654, access={manageGroupMembership=true, view=true, mapRoles=true, impersonate=true, manage=true}}
[]--[]--2020-11-07 14:17:18.284 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : {lastLoginTime=[1604729465246], project=[inspurtest01], thisLoginTime=[1604729584076]}
[]--[]--2020-11-07 14:17:18.284 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserGroupsById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-11-07 14:17:18.284 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] begin
[]--[]--2020-11-07 14:17:18.319 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] request success, responseBody: [{"id":"047bd339-8ee6-42fe-8618-a99e8279dd79","name":"group-inspurtest01","description":null,"createdAt":0,"accountId":null}]
[]--[]--2020-11-07 14:17:18.322 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isRootUser: true
[]--[]--2020-11-07 14:17:18.323 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-doFilter-1604729838323
[]--[]--2020-11-07 14:17:18.323 DEBUG--[http-nio-8762-exec-2]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.doFilter()...
[i-id-service]--[9e8db65b-a640-4a87-8fa5-5c321df3cd7a]--2020-11-07 14:17:18.323 INFO --[http-nio-8762-exec-2]
                c.i.cloud.common.filter.RequestFilter    : 是否为主账号true
[i-id-service]--[9e8db65b-a640-4a87-8fa5-5c321df3cd7a]--2020-11-07 14:17:18.323 INFO --[http-nio-8762-exec-2]
                c.i.cloud.common.filter.RequestFilter    : user id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753,Creator Id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753, request url: /iid/v1/root-cert/import-cert, request id: 9e8db65b-a640-4a87-8fa5-5c321df3cd7a
[i-id-service]--[9e8db65b-a640-4a87-8fa5-5c321df3cd7a]--2020-11-07 14:17:18.325 DEBUG--[http-nio-8762-exec-2]
                c.i.iam.adapter.aop.PermissionContextAop : requesturi=/iid/v1/root-cert/import-cert
[i-id-service]--[9e8db65b-a640-4a87-8fa5-5c321df3cd7a]--2020-11-07 14:17:18.333 WARN --[http-nio-8762-exec-2]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Resolved exception caused by handler execution: java.lang.NullPointerException
[]--[]--2020-11-07 14:18:43.526 DEBUG--[      Thread-33]
                c.i.c.s.m.u.spring.SpringContextHolder   : 清除SpringContextHolder中的ApplicationContext:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2d46030e: startup date [Sat Nov 07 14:14:55 CST 2020]; root of context hierarchy
[]--[]--2020-11-07 14:18:44.684 INFO --[      Thread-33]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
[]--[]--2020-11-07 14:18:44.690 INFO --[      Thread-33]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
[]--[]--2020-11-07 14:18:46.923 DEBUG--[localhost-startStop-2]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.destroy()...
[]--[]--2020-11-07 14:18:54.780 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Starting IIDApplication on JiangYuPengdeMacBook-Pro.local with PID 70620 (/Users/jiangyupeng/Java/Company/iid-service/out/production/classes started by jiangyupeng in /Users/jiangyupeng/Java/Company/iid-service)
[]--[]--2020-11-07 14:18:54.782 DEBUG--[  restartedMain]
                com.inspur.cloud.IIDApplication          : Running with Spring Boot v2.0.5.RELEASE, Spring v5.0.9.RELEASE
[]--[]--2020-11-07 14:18:54.783 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : The following profiles are active: prod
[]--[]--2020-11-07 14:18:54.923 INFO --[  restartedMain]
                o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3d391df9: startup date [Sat Nov 07 14:18:54 CST 2020]; root of context hierarchy
[]--[]--2020-11-07 14:18:55.858 INFO --[  restartedMain]
                o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'httpSessionManager' with a different definition: replacing [Generic bean: class [org.keycloak.adapters.springsecurity.management.HttpSessionManager]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/org.keycloak/keycloak-spring-security-adapter/4.6.0.Final/8a42a701686abd300fd73288f1e1ce9807a95dd1/keycloak-spring-security-adapter-4.6.0.Final.jar!/org/keycloak/adapters/springsecurity/management/HttpSessionManager.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=securityConfig; factoryMethodName=httpSessionManager; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/inspur/iam/adapter/config/SecurityConfig.class]]
[]--[]--2020-11-07 14:18:56.336 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-11-07 14:18:56.368 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-11-07 14:18:56.414 INFO --[  restartedMain]
                o.s.i.config.IntegrationRegistrar        : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
[]--[]--2020-11-07 14:18:56.769 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
[]--[]--2020-11-07 14:18:56.776 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
[]--[]--2020-11-07 14:18:56.895 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$89cdd830] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-11-07 14:18:57.010 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c3621a02] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-11-07 14:18:57.224 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$2e53d531] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-11-07 14:18:58.048 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8762 (http)
[]--[]--2020-11-07 14:18:58.070 INFO --[  restartedMain]
                org.apache.catalina.core.StandardService : Starting service [Tomcat]
[]--[]--2020-11-07 14:18:58.070 INFO --[  restartedMain]
                org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.34
[]--[]--2020-11-07 14:18:58.074 INFO --[localhost-startStop-1]
                o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/jiangyupeng/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
[]--[]--2020-11-07 14:18:58.163 INFO --[localhost-startStop-1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
[]--[]--2020-11-07 14:18:58.164 INFO --[localhost-startStop-1]
                o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3241 ms
[]--[]--2020-11-07 14:19:00.274 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'characterEncodingFilter' to: [/*]
[]--[]--2020-11-07 14:19:00.274 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'webMvcMetricsFilter' to: [/*]
[]--[]--2020-11-07 14:19:00.275 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
[]--[]--2020-11-07 14:19:00.275 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpPutFormContentFilter' to: [/*]
[]--[]--2020-11-07 14:19:00.275 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestContextFilter' to: [/*]
[]--[]--2020-11-07 14:19:00.276 INFO --[localhost-startStop-1]
                o.s.b.w.s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
[]--[]--2020-11-07 14:19:00.276 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'securityContextFilter' to urls: [/*]
[]--[]--2020-11-07 14:19:00.276 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpTraceFilter' to: [/*]
[]--[]--2020-11-07 14:19:00.276 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticationProcessingFilter was not registered (disabled)
[]--[]--2020-11-07 14:19:00.276 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakPreAuthActionsFilter was not registered (disabled)
[]--[]--2020-11-07 14:19:00.277 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticatedActionsFilter was not registered (disabled)
[]--[]--2020-11-07 14:19:00.277 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakSecurityContextRequestFilter was not registered (disabled)
[]--[]--2020-11-07 14:19:00.277 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestFilter' to: [/*]
[]--[]--2020-11-07 14:19:00.277 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'repeatedlyReadFilter' to: [/*]
[]--[]--2020-11-07 14:19:00.277 INFO --[localhost-startStop-1]
                o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
[]--[]--2020-11-07 14:19:00.295 DEBUG--[localhost-startStop-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.init()......
[]--[]--2020-11-07 14:19:00.497 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
[]--[]--2020-11-07 14:19:00.842 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
[]--[]--2020-11-07 14:19:00.916 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
[]--[]--2020-11-07 14:19:00.930 INFO --[  restartedMain]
                o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
[]--[]--2020-11-07 14:19:01.002 INFO --[  restartedMain]
                org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
[]--[]--2020-11-07 14:19:01.004 INFO --[  restartedMain]
                org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
[]--[]--2020-11-07 14:19:01.045 INFO --[  restartedMain]
                org.hibernate.annotations.common.Version : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
[]--[]--2020-11-07 14:19:01.358 INFO --[  restartedMain]
                org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
[]--[]--2020-11-07 14:19:01.542 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
[]--[]--2020-11-07 14:19:01.613 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] there is no iam folder in Resource!
[]--[]--2020-11-07 14:19:01.613 DEBUG--[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] projectPath: /Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/com.inspur.iam/iam-adapter-java/1.9.7/6706f5ae335155c33a45369c1400847f77286669
[]--[]--2020-11-07 14:19:01.614 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.LiquiabseInit] there is no liquibase-xml in local directory!
[]--[]--2020-11-07 14:19:01.628 DEBUG--[  restartedMain]
                com.inspur.iam.adapter.util.VersionUtil  : [VersionUtil.uploadVersion] adaper version: 1.9.7
[]--[]--2020-11-07 14:19:02.278 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 开始创建RestTemplate-->[tokenType=USER,timeZone=GMT,WriteDatesAsTimestamps=null,referer=https://console1.cloud.inspur.com/,connectionRequestTimeout=0,ConnectTimeout=0,ReadTimeout=0]
[]--[]--2020-11-07 14:19:02.286 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 创建RestTemplate完成-->org.keycloak.adapters.springsecurity.client.KeycloakRestTemplate@78ef79f
[]--[]--2020-11-07 14:19:02.491 DEBUG--[  restartedMain]
                c.i.c.s.m.u.spring.SpringContextHolder   : 注入ApplicationContext到SpringContextHolder:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3d391df9: startup date [Sat Nov 07 14:18:54 CST 2020]; root of context hierarchy
[]--[]--2020-11-07 14:19:02.729 INFO --[  restartedMain]
                o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2aede460, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c357c7d, org.springframework.security.web.header.HeaderWriterFilter@1e926815, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@72ef7856, org.springframework.security.web.authentication.logout.LogoutFilter@5c220ed9, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@670f67ee, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5845e25f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36797d83, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@1fa6b386, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@1b7fdac5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7036419, org.springframework.security.web.session.SessionManagementFilter@6bc781b5, org.springframework.security.web.access.ExceptionTranslationFilter@b09fb1d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@d201d03]
[]--[]--2020-11-07 14:19:02.860 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService  'taskExecutor'
[]--[]--2020-11-07 14:19:03.012 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-11-07 14:19:03.149 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3d391df9: startup date [Sat Nov 07 14:18:54 CST 2020]; root of context hierarchy
[]--[]--2020-11-07 14:19:03.168 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Detected ResponseBodyAdvice bean in responseResultBodyAdvisor
[]--[]--2020-11-07 14:19:03.212 WARN --[  restartedMain]
                o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[]--[]--2020-11-07 14:19:03.300 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.device.controller.DeviceController.querySecretKeyList(int,int,java.lang.String,java.lang.String,java.lang.Integer,java.lang.String)
[]--[]--2020-11-07 14:19:03.302 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/download],methods=[GET]}" onto public void com.inspur.cloud.console.device.controller.DeviceController.downloadDevices(javax.servlet.http.HttpServletResponse,java.lang.String,java.lang.String,java.lang.String,java.lang.Integer) throws java.io.IOException
[]--[]--2020-11-07 14:19:03.302 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secret],methods=[GET]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecret(java.lang.String,java.lang.String,java.lang.String)
[]--[]--2020-11-07 14:19:03.303 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secrets],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecrets(org.springframework.web.multipart.MultipartFile,java.lang.String) throws java.io.IOException
[]--[]--2020-11-07 14:19:03.304 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/downloadDevice],methods=[GET]}" onto public void com.inspur.cloud.console.device.controller.DeviceController.downloadDevice(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-11-07 14:19:03.306 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<java.util.List<com.inspur.cloud.console.dict.entity.DictItemBean>> com.inspur.cloud.console.dict.controller.DictController.getDictItemByGroupId(java.lang.String)
[]--[]--2020-11-07 14:19:03.306 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictGroupCache(java.lang.String)
[]--[]--2020-11-07 14:19:03.307 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictCache()
[]--[]--2020-11-07 14:19:03.307 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}/items/{itemId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<com.inspur.cloud.console.dict.entity.DictItemBean> com.inspur.cloud.console.dict.controller.DictController.getDictItemByKey(java.lang.String,java.lang.String)
[]--[]--2020-11-07 14:19:03.308 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<?> com.inspur.cloud.console.dict.controller.DictController.getDict(java.lang.String)
[]--[]--2020-11-07 14:19:03.308 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/health-status],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.health.HealthController.healthStatus()
[]--[]--2020-11-07 14:19:03.313 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.productList(java.lang.String,int,int)
[]--[]--2020-11-07 14:19:03.313 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.product.entity.ProductsVO> com.inspur.cloud.console.product.controller.ProductController.productList()
[]--[]--2020-11-07 14:19:03.314 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.addProduct(com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-11-07 14:19:03.314 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}],methods=[PUT]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.updateProduct(java.lang.String,com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-11-07 14:19:03.314 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail],methods=[GET]}" onto public com.inspur.cloud.console.product.entity.ProductDo com.inspur.cloud.console.product.controller.ProductController.productDetails(java.lang.String)
[]--[]--2020-11-07 14:19:03.315 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.queryProductList(int,int,java.lang.String)
[]--[]--2020-11-07 14:19:03.315 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/metrics]}" onto public void com.inspur.cloud.console.prometheus.controller.MetricsController.metrics(javax.servlet.http.HttpServletResponse) throws java.io.IOException
[]--[]--2020-11-07 14:19:03.321 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/rootCertList],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.rootcert.entity.RootCert> com.inspur.cloud.console.rootcert.controller.RootCertController.queryRootCertList()
[]--[]--2020-11-07 14:19:03.321 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.rootcert.controller.RootCertController.queryRootCertList(int,int,java.lang.String)
[]--[]--2020-11-07 14:19:03.322 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/nameValid],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.nameValid(java.lang.String)
[]--[]--2020-11-07 14:19:03.322 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/create-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.createCA(com.inspur.cloud.console.rootcert.entity.CreateRootCertParams)
[]--[]--2020-11-07 14:19:03.322 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/edit],methods=[PATCH]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.edit(com.inspur.cloud.console.rootcert.entity.RootCert)
[]--[]--2020-11-07 14:19:03.322 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/import-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.importCA(com.inspur.cloud.console.rootcert.entity.ImportRootCertParams) throws java.io.IOException
[]--[]--2020-11-07 14:19:03.323 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/crt],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCaCrt(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-11-07 14:19:03.323 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/key],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCaKey(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-11-07 14:19:03.323 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/crt-key],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCaCrtAndCaKey(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-11-07 14:19:03.324 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/{certId}/detail],methods=[GET]}" onto public com.inspur.cloud.console.rootcert.entity.RootCert com.inspur.cloud.console.rootcert.controller.RootCertController.getDetail(java.lang.String)
[]--[]--2020-11-07 14:19:03.325 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/sm9/is-open],methods=[GET]}" onto public int com.inspur.cloud.console.usercert.controller.UserCertController.isOpenService()
[]--[]--2020-11-07 14:19:03.326 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/number],methods=[GET]}" onto public com.inspur.cloud.console.kgc.entity.ProductAndDeviceNum com.inspur.cloud.console.usercert.controller.UserCertController.calulateNumber()
[]--[]--2020-11-07 14:19:03.326 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/create-sm9],methods=[POST]}" onto public void com.inspur.cloud.console.usercert.controller.UserCertController.createSM9(com.inspur.cloud.console.rootcert.entity.RootCert)
[]--[]--2020-11-07 14:19:03.328 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
[]--[]--2020-11-07 14:19:03.329 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
[]--[]--2020-11-07 14:19:03.443 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-11-07 14:19:03.443 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-11-07 14:19:03.473 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in clientExceptionHandler
[]--[]--2020-11-07 14:19:03.473 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
[]--[]--2020-11-07 14:19:03.473 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected ResponseBodyAdvice implementation in responseResultBodyAdvisor
[]--[]--2020-11-07 14:19:03.473 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in commonControllerAdvice
[]--[]--2020-11-07 14:19:04.653 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskScheduler : Initializing ExecutorService  'taskScheduler'
[]--[]--2020-11-07 14:19:04.885 INFO --[  restartedMain]
                o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path ''
[]--[]--2020-11-07 14:19:04.902 INFO --[  restartedMain]
                o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping : Mapped "{[/prometheus],methods=[GET],produces=[text/plain;version=0.0.4;charset=utf-8]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
[]--[]--2020-11-07 14:19:05.069 INFO --[  restartedMain]
                o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[]--[]--2020-11-07 14:19:05.286 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
[]--[]--2020-11-07 14:19:05.288 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
[]--[]--2020-11-07 14:19:05.297 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
[]--[]--2020-11-07 14:19:05.303 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
[]--[]--2020-11-07 14:19:05.305 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
[]--[]--2020-11-07 14:19:05.339 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0
[]--[]--2020-11-07 14:19:05.339 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
[]--[]--2020-11-07 14:19:05.339 INFO --[  restartedMain]
                o.s.i.channel.PublishSubscribeChannel    : Channel 'i-id-service.errorChannel' has 1 subscriber(s).
[]--[]--2020-11-07 14:19:05.339 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : started _org.springframework.integration.errorLogger
[]--[]--2020-11-07 14:19:05.340 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
[]--[]--2020-11-07 14:19:05.380 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8762 (http) with context path ''
[]--[]--2020-11-07 14:19:05.385 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Started IIDApplication in 12.079 seconds (JVM running for 13.174)
[]--[]--2020-11-07 14:19:05.388 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...begin...
[]--[]--2020-11-07 14:19:05.476 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...end...
[]--[]--2020-11-07 14:19:05.645 INFO --[RMI TCP Connection(1)-127.0.0.1]
                o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [10.110.64.31:31675]
[]--[]--2020-11-07 14:19:05.651 INFO --[RMI TCP Connection(2)-127.0.0.1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
[]--[]--2020-11-07 14:19:05.652 INFO --[RMI TCP Connection(2)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
[]--[]--2020-11-07 14:19:05.679 INFO --[RMI TCP Connection(2)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 26 ms
[]--[]--2020-11-07 14:19:13.075 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-begin-1604729953075
[]--[]--2020-11-07 14:19:13.076 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : SecurityContextUtil.cleanSecurityContext()
[]--[]--2020-11-07 14:19:13.077 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] auth: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@37eafe53: Principal: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@6359d007; Granted Authorities: ROLE_ACCOUNT_ADMIN, ROLE_RDS_ADMIN, ROLE_UMA_AUTHORIZATION, ROLE_OFFLINE_ACCESS
[]--[]--2020-11-07 14:19:13.077 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] is KeycloakAuthenticationToken
[]--[]--2020-11-07 14:19:13.077 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isServiceAccount: false
[]--[]--2020-11-07 14:19:13.077 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-11-07 14:19:13.077 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] begin
[]--[]--2020-11-07 14:19:13.348 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] request success, responseBody: {"id":"1d44bfda-8fd2-4e2b-a99c-21bdf690c753","createdTimestamp":1588827826514,"username":"inspurtest01","enabled":true,"totp":false,"emailVerified":false,"firstName":"","lastName":"","email":"inspurtest01@inspur.com","attributes":{"lastLoginTime":["1604729465246"],"project":["inspurtest01"],"thisLoginTime":["1604729584076"]},"disableableCredentialTypes":["password"],"requiredActions":[],"federatedIdentities":[],"notBefore":1602302654,"access":{"manageGroupMembership":true,"view":true,"mapRoles":true,"impersonate":true,"manage":true}}
[]--[]--2020-11-07 14:19:13.352 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] userMap: {id=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, createdTimestamp=1588827826514, username=inspurtest01, enabled=true, totp=false, emailVerified=false, firstName=, lastName=, email=inspurtest01@inspur.com, attributes={lastLoginTime=[1604729465246], project=[inspurtest01], thisLoginTime=[1604729584076]}, disableableCredentialTypes=[password], requiredActions=[], federatedIdentities=[], notBefore=1602302654, access={manageGroupMembership=true, view=true, mapRoles=true, impersonate=true, manage=true}}
[]--[]--2020-11-07 14:19:13.352 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : {lastLoginTime=[1604729465246], project=[inspurtest01], thisLoginTime=[1604729584076]}
[]--[]--2020-11-07 14:19:13.353 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserGroupsById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-11-07 14:19:13.353 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] begin
[]--[]--2020-11-07 14:19:13.396 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] request success, responseBody: [{"id":"047bd339-8ee6-42fe-8618-a99e8279dd79","name":"group-inspurtest01","description":null,"createdAt":0,"accountId":null}]
[]--[]--2020-11-07 14:19:13.405 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isRootUser: true
[]--[]--2020-11-07 14:19:13.406 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-doFilter-1604729953406
[]--[]--2020-11-07 14:19:13.410 DEBUG--[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.doFilter()...
[i-id-service]--[f4d66f8d-b7d5-420a-b9cd-7a563159b4d0]--2020-11-07 14:19:13.411 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : 是否为主账号true
[i-id-service]--[f4d66f8d-b7d5-420a-b9cd-7a563159b4d0]--2020-11-07 14:19:13.412 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : user id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753,Creator Id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753, request url: /iid/v1/root-cert/import-cert, request id: f4d66f8d-b7d5-420a-b9cd-7a563159b4d0
[i-id-service]--[f4d66f8d-b7d5-420a-b9cd-7a563159b4d0]--2020-11-07 14:19:13.548 DEBUG--[http-nio-8762-exec-1]
                c.i.iam.adapter.aop.PermissionContextAop : requesturi=/iid/v1/root-cert/import-cert
[i-id-service]--[f4d66f8d-b7d5-420a-b9cd-7a563159b4d0]--2020-11-07 14:19:25.275 WARN --[http-nio-8762-exec-1]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Resolved exception caused by handler execution: java.lang.NullPointerException
[]--[]--2020-11-07 14:19:25.322 DEBUG--[      Thread-35]
                c.i.c.s.m.u.spring.SpringContextHolder   : 清除SpringContextHolder中的ApplicationContext:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3d391df9: startup date [Sat Nov 07 14:18:54 CST 2020]; root of context hierarchy
[]--[]--2020-11-07 14:19:25.342 INFO --[      Thread-35]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
[]--[]--2020-11-07 14:19:25.346 INFO --[      Thread-35]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
[]--[]--2020-11-07 14:19:31.632 DEBUG--[      Thread-23]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] begin
[]--[]--2020-11-07 14:19:31.683 DEBUG--[      Thread-23]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] request success, responseBody: {"id":"e4e590c17448874b017448a48059000d","authUrl":"https://auth-cloud-dev.inspurcloud.cn/auth","realm":"picp","client":"bss-server","databaseName":"icp_iid","version":"1.9.7","createdAt":"2020-09-01T07:49:34Z","updatedAt":null}
[]--[]--2020-11-07 14:19:45.933 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Starting IIDApplication on JiangYuPengdeMacBook-Pro.local with PID 70641 (/Users/jiangyupeng/Java/Company/iid-service/out/production/classes started by jiangyupeng in /Users/jiangyupeng/Java/Company/iid-service)
[]--[]--2020-11-07 14:19:45.935 DEBUG--[  restartedMain]
                com.inspur.cloud.IIDApplication          : Running with Spring Boot v2.0.5.RELEASE, Spring v5.0.9.RELEASE
[]--[]--2020-11-07 14:19:45.936 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : The following profiles are active: prod
[]--[]--2020-11-07 14:19:46.057 INFO --[  restartedMain]
                o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@785155df: startup date [Sat Nov 07 14:19:46 CST 2020]; root of context hierarchy
[]--[]--2020-11-07 14:19:46.891 INFO --[  restartedMain]
                o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'httpSessionManager' with a different definition: replacing [Generic bean: class [org.keycloak.adapters.springsecurity.management.HttpSessionManager]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/org.keycloak/keycloak-spring-security-adapter/4.6.0.Final/8a42a701686abd300fd73288f1e1ce9807a95dd1/keycloak-spring-security-adapter-4.6.0.Final.jar!/org/keycloak/adapters/springsecurity/management/HttpSessionManager.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=securityConfig; factoryMethodName=httpSessionManager; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/inspur/iam/adapter/config/SecurityConfig.class]]
[]--[]--2020-11-07 14:19:47.230 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-11-07 14:19:47.259 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-11-07 14:19:47.383 INFO --[  restartedMain]
                o.s.i.config.IntegrationRegistrar        : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
[]--[]--2020-11-07 14:19:47.688 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
[]--[]--2020-11-07 14:19:47.694 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
[]--[]--2020-11-07 14:19:47.790 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$21dc7ba9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-11-07 14:19:47.883 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5b70bd7b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-11-07 14:19:48.051 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$c66278aa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-11-07 14:19:48.774 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8762 (http)
[]--[]--2020-11-07 14:19:48.792 INFO --[  restartedMain]
                org.apache.catalina.core.StandardService : Starting service [Tomcat]
[]--[]--2020-11-07 14:19:48.793 INFO --[  restartedMain]
                org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.34
[]--[]--2020-11-07 14:19:48.796 INFO --[localhost-startStop-1]
                o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/jiangyupeng/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
[]--[]--2020-11-07 14:19:48.883 INFO --[localhost-startStop-1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
[]--[]--2020-11-07 14:19:48.884 INFO --[localhost-startStop-1]
                o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2827 ms
[]--[]--2020-11-07 14:19:50.773 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'characterEncodingFilter' to: [/*]
[]--[]--2020-11-07 14:19:50.774 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'webMvcMetricsFilter' to: [/*]
[]--[]--2020-11-07 14:19:50.774 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
[]--[]--2020-11-07 14:19:50.775 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpPutFormContentFilter' to: [/*]
[]--[]--2020-11-07 14:19:50.775 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestContextFilter' to: [/*]
[]--[]--2020-11-07 14:19:50.775 INFO --[localhost-startStop-1]
                o.s.b.w.s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
[]--[]--2020-11-07 14:19:50.776 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'securityContextFilter' to urls: [/*]
[]--[]--2020-11-07 14:19:50.776 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpTraceFilter' to: [/*]
[]--[]--2020-11-07 14:19:50.776 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticationProcessingFilter was not registered (disabled)
[]--[]--2020-11-07 14:19:50.776 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakPreAuthActionsFilter was not registered (disabled)
[]--[]--2020-11-07 14:19:50.776 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticatedActionsFilter was not registered (disabled)
[]--[]--2020-11-07 14:19:50.776 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakSecurityContextRequestFilter was not registered (disabled)
[]--[]--2020-11-07 14:19:50.777 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestFilter' to: [/*]
[]--[]--2020-11-07 14:19:50.777 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'repeatedlyReadFilter' to: [/*]
[]--[]--2020-11-07 14:19:50.777 INFO --[localhost-startStop-1]
                o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
[]--[]--2020-11-07 14:19:50.793 DEBUG--[localhost-startStop-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.init()......
[]--[]--2020-11-07 14:19:50.958 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
[]--[]--2020-11-07 14:19:51.287 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
[]--[]--2020-11-07 14:19:51.338 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
[]--[]--2020-11-07 14:19:51.351 INFO --[  restartedMain]
                o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
[]--[]--2020-11-07 14:19:51.418 INFO --[  restartedMain]
                org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
[]--[]--2020-11-07 14:19:51.419 INFO --[  restartedMain]
                org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
[]--[]--2020-11-07 14:19:51.455 INFO --[  restartedMain]
                org.hibernate.annotations.common.Version : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
[]--[]--2020-11-07 14:19:51.723 INFO --[  restartedMain]
                org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
[]--[]--2020-11-07 14:19:51.881 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
[]--[]--2020-11-07 14:19:51.944 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] there is no iam folder in Resource!
[]--[]--2020-11-07 14:19:51.944 DEBUG--[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] projectPath: /Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/com.inspur.iam/iam-adapter-java/1.9.7/6706f5ae335155c33a45369c1400847f77286669
[]--[]--2020-11-07 14:19:51.944 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.LiquiabseInit] there is no liquibase-xml in local directory!
[]--[]--2020-11-07 14:19:51.961 DEBUG--[  restartedMain]
                com.inspur.iam.adapter.util.VersionUtil  : [VersionUtil.uploadVersion] adaper version: 1.9.7
[]--[]--2020-11-07 14:19:52.541 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 开始创建RestTemplate-->[tokenType=USER,timeZone=GMT,WriteDatesAsTimestamps=null,referer=https://console1.cloud.inspur.com/,connectionRequestTimeout=0,ConnectTimeout=0,ReadTimeout=0]
[]--[]--2020-11-07 14:19:52.548 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 创建RestTemplate完成-->org.keycloak.adapters.springsecurity.client.KeycloakRestTemplate@636d3874
[]--[]--2020-11-07 14:19:52.708 DEBUG--[  restartedMain]
                c.i.c.s.m.u.spring.SpringContextHolder   : 注入ApplicationContext到SpringContextHolder:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@785155df: startup date [Sat Nov 07 14:19:46 CST 2020]; root of context hierarchy
[]--[]--2020-11-07 14:19:52.907 INFO --[  restartedMain]
                o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2fbb596c, org.springframework.security.web.context.SecurityContextPersistenceFilter@15716097, org.springframework.security.web.header.HeaderWriterFilter@38081a77, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@5284761d, org.springframework.security.web.authentication.logout.LogoutFilter@19e6cc41, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@42ba8f33, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@25d7920f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2efc0232, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@13ce5627, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@291096cb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58c3b032, org.springframework.security.web.session.SessionManagementFilter@508b88ef, org.springframework.security.web.access.ExceptionTranslationFilter@4585f544, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1f22977b]
[]--[]--2020-11-07 14:19:52.994 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService  'taskExecutor'
[]--[]--2020-11-07 14:19:53.101 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-11-07 14:19:53.203 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@785155df: startup date [Sat Nov 07 14:19:46 CST 2020]; root of context hierarchy
[]--[]--2020-11-07 14:19:53.219 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Detected ResponseBodyAdvice bean in responseResultBodyAdvisor
[]--[]--2020-11-07 14:19:53.251 WARN --[  restartedMain]
                o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[]--[]--2020-11-07 14:19:53.319 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/download],methods=[GET]}" onto public void com.inspur.cloud.console.device.controller.DeviceController.downloadDevices(javax.servlet.http.HttpServletResponse,java.lang.String,java.lang.String,java.lang.String,java.lang.Integer) throws java.io.IOException
[]--[]--2020-11-07 14:19:53.320 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secret],methods=[GET]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecret(java.lang.String,java.lang.String,java.lang.String)
[]--[]--2020-11-07 14:19:53.321 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secrets],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecrets(org.springframework.web.multipart.MultipartFile,java.lang.String) throws java.io.IOException
[]--[]--2020-11-07 14:19:53.321 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/downloadDevice],methods=[GET]}" onto public void com.inspur.cloud.console.device.controller.DeviceController.downloadDevice(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-11-07 14:19:53.321 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.device.controller.DeviceController.querySecretKeyList(int,int,java.lang.String,java.lang.String,java.lang.Integer,java.lang.String)
[]--[]--2020-11-07 14:19:53.323 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictCache()
[]--[]--2020-11-07 14:19:53.323 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictGroupCache(java.lang.String)
[]--[]--2020-11-07 14:19:53.324 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}/items/{itemId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<com.inspur.cloud.console.dict.entity.DictItemBean> com.inspur.cloud.console.dict.controller.DictController.getDictItemByKey(java.lang.String,java.lang.String)
[]--[]--2020-11-07 14:19:53.324 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<?> com.inspur.cloud.console.dict.controller.DictController.getDict(java.lang.String)
[]--[]--2020-11-07 14:19:53.324 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<java.util.List<com.inspur.cloud.console.dict.entity.DictItemBean>> com.inspur.cloud.console.dict.controller.DictController.getDictItemByGroupId(java.lang.String)
[]--[]--2020-11-07 14:19:53.325 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/health-status],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.health.HealthController.healthStatus()
[]--[]--2020-11-07 14:19:53.328 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.addProduct(com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-11-07 14:19:53.328 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}],methods=[PUT]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.updateProduct(java.lang.String,com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-11-07 14:19:53.328 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail],methods=[GET]}" onto public com.inspur.cloud.console.product.entity.ProductDo com.inspur.cloud.console.product.controller.ProductController.productDetails(java.lang.String)
[]--[]--2020-11-07 14:19:53.329 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.queryProductList(int,int,java.lang.String)
[]--[]--2020-11-07 14:19:53.329 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.productList(java.lang.String,int,int)
[]--[]--2020-11-07 14:19:53.329 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.product.entity.ProductsVO> com.inspur.cloud.console.product.controller.ProductController.productList()
[]--[]--2020-11-07 14:19:53.330 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/metrics]}" onto public void com.inspur.cloud.console.prometheus.controller.MetricsController.metrics(javax.servlet.http.HttpServletResponse) throws java.io.IOException
[]--[]--2020-11-07 14:19:53.334 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/rootCertList],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.rootcert.entity.RootCert> com.inspur.cloud.console.rootcert.controller.RootCertController.queryRootCertList()
[]--[]--2020-11-07 14:19:53.334 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.rootcert.controller.RootCertController.queryRootCertList(int,int,java.lang.String)
[]--[]--2020-11-07 14:19:53.334 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/nameValid],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.nameValid(java.lang.String)
[]--[]--2020-11-07 14:19:53.335 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/create-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.createCA(com.inspur.cloud.console.rootcert.entity.CreateRootCertParams)
[]--[]--2020-11-07 14:19:53.335 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/import-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.importCA(com.inspur.cloud.console.rootcert.entity.ImportRootCertParams) throws java.io.IOException
[]--[]--2020-11-07 14:19:53.335 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/crt],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCaCrt(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-11-07 14:19:53.335 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/key],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCaKey(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-11-07 14:19:53.336 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/crt-key],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCaCrtAndCaKey(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-11-07 14:19:53.336 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/{certId}/detail],methods=[GET]}" onto public com.inspur.cloud.console.rootcert.entity.RootCert com.inspur.cloud.console.rootcert.controller.RootCertController.getDetail(java.lang.String)
[]--[]--2020-11-07 14:19:53.336 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/edit],methods=[PATCH]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.edit(com.inspur.cloud.console.rootcert.entity.RootCert)
[]--[]--2020-11-07 14:19:53.337 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/sm9/is-open],methods=[GET]}" onto public int com.inspur.cloud.console.usercert.controller.UserCertController.isOpenService()
[]--[]--2020-11-07 14:19:53.337 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/number],methods=[GET]}" onto public com.inspur.cloud.console.kgc.entity.ProductAndDeviceNum com.inspur.cloud.console.usercert.controller.UserCertController.calulateNumber()
[]--[]--2020-11-07 14:19:53.338 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/create-sm9],methods=[POST]}" onto public void com.inspur.cloud.console.usercert.controller.UserCertController.createSM9(com.inspur.cloud.console.rootcert.entity.RootCert)
[]--[]--2020-11-07 14:19:53.340 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
[]--[]--2020-11-07 14:19:53.340 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
[]--[]--2020-11-07 14:19:53.402 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-11-07 14:19:53.402 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-11-07 14:19:53.428 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in clientExceptionHandler
[]--[]--2020-11-07 14:19:53.428 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
[]--[]--2020-11-07 14:19:53.428 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected ResponseBodyAdvice implementation in responseResultBodyAdvisor
[]--[]--2020-11-07 14:19:53.428 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in commonControllerAdvice
[]--[]--2020-11-07 14:19:54.379 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskScheduler : Initializing ExecutorService  'taskScheduler'
[]--[]--2020-11-07 14:19:54.532 INFO --[  restartedMain]
                o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path ''
[]--[]--2020-11-07 14:19:54.543 INFO --[  restartedMain]
                o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping : Mapped "{[/prometheus],methods=[GET],produces=[text/plain;version=0.0.4;charset=utf-8]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
[]--[]--2020-11-07 14:19:54.682 INFO --[  restartedMain]
                o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[]--[]--2020-11-07 14:19:54.876 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
[]--[]--2020-11-07 14:19:54.878 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
[]--[]--2020-11-07 14:19:54.885 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
[]--[]--2020-11-07 14:19:54.890 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
[]--[]--2020-11-07 14:19:54.892 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
[]--[]--2020-11-07 14:19:54.923 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0
[]--[]--2020-11-07 14:19:54.923 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
[]--[]--2020-11-07 14:19:54.923 INFO --[  restartedMain]
                o.s.i.channel.PublishSubscribeChannel    : Channel 'i-id-service.errorChannel' has 1 subscriber(s).
[]--[]--2020-11-07 14:19:54.923 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : started _org.springframework.integration.errorLogger
[]--[]--2020-11-07 14:19:54.923 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
[]--[]--2020-11-07 14:19:54.965 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8762 (http) with context path ''
[]--[]--2020-11-07 14:19:54.969 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Started IIDApplication in 10.336 seconds (JVM running for 10.975)
[]--[]--2020-11-07 14:19:54.973 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...begin...
[]--[]--2020-11-07 14:19:55.053 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...end...
[]--[]--2020-11-07 14:19:55.560 INFO --[RMI TCP Connection(2)-127.0.0.1]
                o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [10.110.64.31:31675]
[]--[]--2020-11-07 14:19:55.566 INFO --[RMI TCP Connection(3)-127.0.0.1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
[]--[]--2020-11-07 14:19:55.566 INFO --[RMI TCP Connection(3)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
[]--[]--2020-11-07 14:19:55.594 INFO --[RMI TCP Connection(3)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 28 ms
[]--[]--2020-11-07 14:20:10.728 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-begin-1604730010728
[]--[]--2020-11-07 14:20:10.730 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : SecurityContextUtil.cleanSecurityContext()
[]--[]--2020-11-07 14:20:10.731 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] auth: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@5ead0450: Principal: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@a9235d9; Granted Authorities: ROLE_ACCOUNT_ADMIN, ROLE_RDS_ADMIN, ROLE_UMA_AUTHORIZATION, ROLE_OFFLINE_ACCESS
[]--[]--2020-11-07 14:20:10.731 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] is KeycloakAuthenticationToken
[]--[]--2020-11-07 14:20:10.732 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isServiceAccount: false
[]--[]--2020-11-07 14:20:10.732 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-11-07 14:20:10.732 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] begin
[]--[]--2020-11-07 14:20:10.968 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] request success, responseBody: {"id":"1d44bfda-8fd2-4e2b-a99c-21bdf690c753","createdTimestamp":1588827826514,"username":"inspurtest01","enabled":true,"totp":false,"emailVerified":false,"firstName":"","lastName":"","email":"inspurtest01@inspur.com","attributes":{"lastLoginTime":["1604729584076"],"project":["inspurtest01"],"thisLoginTime":["1604729964424"]},"disableableCredentialTypes":["password"],"requiredActions":[],"federatedIdentities":[],"notBefore":1602302654,"access":{"manageGroupMembership":true,"view":true,"mapRoles":true,"impersonate":true,"manage":true}}
[]--[]--2020-11-07 14:20:10.969 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] userMap: {id=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, createdTimestamp=1588827826514, username=inspurtest01, enabled=true, totp=false, emailVerified=false, firstName=, lastName=, email=inspurtest01@inspur.com, attributes={lastLoginTime=[1604729584076], project=[inspurtest01], thisLoginTime=[1604729964424]}, disableableCredentialTypes=[password], requiredActions=[], federatedIdentities=[], notBefore=1602302654, access={manageGroupMembership=true, view=true, mapRoles=true, impersonate=true, manage=true}}
[]--[]--2020-11-07 14:20:10.969 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : {lastLoginTime=[1604729584076], project=[inspurtest01], thisLoginTime=[1604729964424]}
[]--[]--2020-11-07 14:20:10.969 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserGroupsById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-11-07 14:20:10.970 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] begin
[]--[]--2020-11-07 14:20:11.000 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] request success, responseBody: [{"id":"047bd339-8ee6-42fe-8618-a99e8279dd79","name":"group-inspurtest01","description":null,"createdAt":0,"accountId":null}]
[]--[]--2020-11-07 14:20:11.004 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isRootUser: true
[]--[]--2020-11-07 14:20:11.007 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-doFilter-1604730011007
[]--[]--2020-11-07 14:20:11.013 DEBUG--[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.doFilter()...
[i-id-service]--[79b00350-3c28-47bb-b86b-67c65a20c7ca]--2020-11-07 14:20:11.014 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : 是否为主账号true
[i-id-service]--[79b00350-3c28-47bb-b86b-67c65a20c7ca]--2020-11-07 14:20:11.015 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : user id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753,Creator Id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753, request url: /iid/v1/root-cert/import-cert, request id: 79b00350-3c28-47bb-b86b-67c65a20c7ca
[i-id-service]--[79b00350-3c28-47bb-b86b-67c65a20c7ca]--2020-11-07 14:20:11.119 DEBUG--[http-nio-8762-exec-1]
                c.i.iam.adapter.aop.PermissionContextAop : requesturi=/iid/v1/root-cert/import-cert
[i-id-service]--[79b00350-3c28-47bb-b86b-67c65a20c7ca]--2020-11-07 14:20:11.133 INFO --[http-nio-8762-exec-1]
                c.i.c.c.rootcert.filetools.FileUtils     : Successfully write string to file!
[i-id-service]--[79b00350-3c28-47bb-b86b-67c65a20c7ca]--2020-11-07 14:20:11.247 INFO --[http-nio-8762-exec-1]
                o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
[i-id-service]--[79b00350-3c28-47bb-b86b-67c65a20c7ca]--2020-11-07 14:20:11.327 WARN --[http-nio-8762-exec-1]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Resolved exception caused by handler execution: org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column 'status' cannot be null
### The error may involve com.inspur.cloud.console.rootcert.dao.RootCertMapper.insertRootCert-Inline
### The error occurred while setting parameters
### SQL: insert into user_cert         (id, name, code, account_id, creator_id, main_pub_enc_key, main_pri_enc_key, main_pub_vfy_key, main_pri_vfy_key,         type, cert_name, rsa_count, password, days, status, source, dns_list, ip_list, subject, created_time, updated_time)         values         (             ?, ?, ?, ?, ?, ?,             ?, ?, ?, ?, ?, ?,             ?, ?, ?, ?, ?, ?, ?,             ?, ?         )
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column 'status' cannot be null
; ]; Column 'status' cannot be null; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column 'status' cannot be null
[]--[]--2020-11-07 14:20:21.965 DEBUG--[      Thread-21]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] begin
[]--[]--2020-11-07 14:20:22.013 DEBUG--[      Thread-21]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] request success, responseBody: {"id":"e4e590c17448874b017448a48059000d","authUrl":"https://auth-cloud-dev.inspurcloud.cn/auth","realm":"picp","client":"bss-server","databaseName":"icp_iid","version":"1.9.7","createdAt":"2020-09-01T07:49:34Z","updatedAt":null}
[]--[]--2020-11-07 14:20:50.883 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-begin-1604730050883
[]--[]--2020-11-07 14:20:50.883 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : SecurityContextUtil.cleanSecurityContext()
[]--[]--2020-11-07 14:20:50.883 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] auth: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@5d0b4f46: Principal: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@7c71b04b; Granted Authorities: ROLE_ACCOUNT_ADMIN, ROLE_RDS_ADMIN, ROLE_UMA_AUTHORIZATION, ROLE_OFFLINE_ACCESS
[]--[]--2020-11-07 14:20:50.884 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] is KeycloakAuthenticationToken
[]--[]--2020-11-07 14:20:50.884 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isServiceAccount: false
[]--[]--2020-11-07 14:20:50.884 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-11-07 14:20:50.884 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] begin
[]--[]--2020-11-07 14:20:50.933 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] request success, responseBody: {"id":"1d44bfda-8fd2-4e2b-a99c-21bdf690c753","createdTimestamp":1588827826514,"username":"inspurtest01","enabled":true,"totp":false,"emailVerified":false,"firstName":"","lastName":"","email":"inspurtest01@inspur.com","attributes":{"lastLoginTime":["1604729584076"],"project":["inspurtest01"],"thisLoginTime":["1604729964424"]},"disableableCredentialTypes":["password"],"requiredActions":[],"federatedIdentities":[],"notBefore":1602302654,"access":{"manageGroupMembership":true,"view":true,"mapRoles":true,"impersonate":true,"manage":true}}
[]--[]--2020-11-07 14:20:50.934 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] userMap: {id=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, createdTimestamp=1588827826514, username=inspurtest01, enabled=true, totp=false, emailVerified=false, firstName=, lastName=, email=inspurtest01@inspur.com, attributes={lastLoginTime=[1604729584076], project=[inspurtest01], thisLoginTime=[1604729964424]}, disableableCredentialTypes=[password], requiredActions=[], federatedIdentities=[], notBefore=1602302654, access={manageGroupMembership=true, view=true, mapRoles=true, impersonate=true, manage=true}}
[]--[]--2020-11-07 14:20:50.935 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : {lastLoginTime=[1604729584076], project=[inspurtest01], thisLoginTime=[1604729964424]}
[]--[]--2020-11-07 14:20:50.935 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserGroupsById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-11-07 14:20:50.935 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] begin
[]--[]--2020-11-07 14:20:50.971 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] request success, responseBody: [{"id":"047bd339-8ee6-42fe-8618-a99e8279dd79","name":"group-inspurtest01","description":null,"createdAt":0,"accountId":null}]
[]--[]--2020-11-07 14:20:50.973 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isRootUser: true
[]--[]--2020-11-07 14:20:50.973 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-doFilter-1604730050973
[]--[]--2020-11-07 14:20:50.973 DEBUG--[http-nio-8762-exec-2]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.doFilter()...
[i-id-service]--[d4fa0219-0d91-4cb3-8ab1-49ff2af71e01]--2020-11-07 14:20:50.974 INFO --[http-nio-8762-exec-2]
                c.i.cloud.common.filter.RequestFilter    : 是否为主账号true
[i-id-service]--[d4fa0219-0d91-4cb3-8ab1-49ff2af71e01]--2020-11-07 14:20:50.974 INFO --[http-nio-8762-exec-2]
                c.i.cloud.common.filter.RequestFilter    : user id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753,Creator Id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753, request url: /iid/v1/root-cert/import-cert, request id: d4fa0219-0d91-4cb3-8ab1-49ff2af71e01
[i-id-service]--[d4fa0219-0d91-4cb3-8ab1-49ff2af71e01]--2020-11-07 14:20:50.977 DEBUG--[http-nio-8762-exec-2]
                c.i.iam.adapter.aop.PermissionContextAop : requesturi=/iid/v1/root-cert/import-cert
[i-id-service]--[d4fa0219-0d91-4cb3-8ab1-49ff2af71e01]--2020-11-07 14:20:50.977 INFO --[http-nio-8762-exec-2]
                c.i.c.c.rootcert.filetools.FileUtils     : Successfully write string to file!
[]--[]--2020-11-07 14:20:55.577 WARN --[RMI TCP Connection(2)-127.0.0.1]
                o.s.b.actuate.amqp.RabbitHealthIndicator : Rabbit health check failed
org.springframework.amqp.AmqpIOException: java.net.SocketTimeoutException: connect timed out
	at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:71)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:484)
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:628)
	at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:240)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:1816)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:1790)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:1771)
	at org.springframework.boot.actuate.amqp.RabbitHealthIndicator.getVersion(RabbitHealthIndicator.java:48)
	at org.springframework.boot.actuate.amqp.RabbitHealthIndicator.doHealthCheck(RabbitHealthIndicator.java:44)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:84)
	at org.springframework.boot.actuate.health.CompositeHealthIndicator.health(CompositeHealthIndicator.java:68)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:223)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:76)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:61)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:126)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:99)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)
	at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)
	at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)
	at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)
	at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.SocketTimeoutException: connect timed out
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.rabbitmq.client.impl.SocketFrameHandlerFactory.create(SocketFrameHandlerFactory.java:60)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1102)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1054)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:994)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:457)
	... 42 common frames omitted
[]--[]--2020-11-07 14:20:55.693 INFO --[RMI TCP Connection(2)-127.0.0.1]
                io.lettuce.core.EpollProvider            : Starting without optional epoll library
[]--[]--2020-11-07 14:20:55.695 INFO --[RMI TCP Connection(2)-127.0.0.1]
                io.lettuce.core.KqueueProvider           : Starting without optional kqueue library
[]--[]--2020-11-07 14:22:23.583 DEBUG--[      Thread-31]
                c.i.c.s.m.u.spring.SpringContextHolder   : 清除SpringContextHolder中的ApplicationContext:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@785155df: startup date [Sat Nov 07 14:19:46 CST 2020]; root of context hierarchy
[]--[]--2020-11-07 14:22:24.712 INFO --[      Thread-31]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
[]--[]--2020-11-07 14:22:24.716 INFO --[      Thread-31]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
[]--[]--2020-11-07 14:22:26.925 DEBUG--[localhost-startStop-2]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.destroy()...
