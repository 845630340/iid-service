[]--[]--2020-10-30 00:58:34.576 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Starting IIDApplication on JiangYuPengdeMacBook-Pro.local with PID 27147 (/Users/jiangyupeng/Java/Company/iid-service/out/production/classes started by jiangyupeng in /Users/jiangyupeng/Java/Company/iid-service)
[]--[]--2020-10-30 00:58:34.581 DEBUG--[  restartedMain]
                com.inspur.cloud.IIDApplication          : Running with Spring Boot v2.0.5.RELEASE, Spring v5.0.9.RELEASE
[]--[]--2020-10-30 00:58:34.581 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : The following profiles are active: prod
[]--[]--2020-10-30 00:58:34.735 INFO --[  restartedMain]
                o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5fd55c0e: startup date [Fri Oct 30 00:58:34 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 00:58:35.654 INFO --[  restartedMain]
                o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'httpSessionManager' with a different definition: replacing [Generic bean: class [org.keycloak.adapters.springsecurity.management.HttpSessionManager]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/org.keycloak/keycloak-spring-security-adapter/4.6.0.Final/8a42a701686abd300fd73288f1e1ce9807a95dd1/keycloak-spring-security-adapter-4.6.0.Final.jar!/org/keycloak/adapters/springsecurity/management/HttpSessionManager.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=securityConfig; factoryMethodName=httpSessionManager; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/inspur/iam/adapter/config/SecurityConfig.class]]
[]--[]--2020-10-30 00:58:36.216 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-10-30 00:58:36.249 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-10-30 00:58:36.301 INFO --[  restartedMain]
                o.s.i.config.IntegrationRegistrar        : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
[]--[]--2020-10-30 00:58:36.821 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
[]--[]--2020-10-30 00:58:36.832 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
[]--[]--2020-10-30 00:58:36.951 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$52ef29c6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 00:58:37.066 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8c836b98] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 00:58:37.300 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$f77526c7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 00:58:38.194 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8762 (http)
[]--[]--2020-10-30 00:58:38.218 INFO --[  restartedMain]
                org.apache.catalina.core.StandardService : Starting service [Tomcat]
[]--[]--2020-10-30 00:58:38.219 INFO --[  restartedMain]
                org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.34
[]--[]--2020-10-30 00:58:38.222 INFO --[localhost-startStop-1]
                o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/jiangyupeng/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
[]--[]--2020-10-30 00:58:38.321 INFO --[localhost-startStop-1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
[]--[]--2020-10-30 00:58:38.321 INFO --[localhost-startStop-1]
                o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3587 ms
[]--[]--2020-10-30 00:58:40.341 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'characterEncodingFilter' to: [/*]
[]--[]--2020-10-30 00:58:40.342 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'webMvcMetricsFilter' to: [/*]
[]--[]--2020-10-30 00:58:40.343 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
[]--[]--2020-10-30 00:58:40.343 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpPutFormContentFilter' to: [/*]
[]--[]--2020-10-30 00:58:40.343 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestContextFilter' to: [/*]
[]--[]--2020-10-30 00:58:40.344 INFO --[localhost-startStop-1]
                o.s.b.w.s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
[]--[]--2020-10-30 00:58:40.344 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'securityContextFilter' to urls: [/*]
[]--[]--2020-10-30 00:58:40.344 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpTraceFilter' to: [/*]
[]--[]--2020-10-30 00:58:40.345 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticationProcessingFilter was not registered (disabled)
[]--[]--2020-10-30 00:58:40.345 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakPreAuthActionsFilter was not registered (disabled)
[]--[]--2020-10-30 00:58:40.345 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticatedActionsFilter was not registered (disabled)
[]--[]--2020-10-30 00:58:40.345 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakSecurityContextRequestFilter was not registered (disabled)
[]--[]--2020-10-30 00:58:40.345 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestFilter' to: [/*]
[]--[]--2020-10-30 00:58:40.346 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'repeatedlyReadFilter' to: [/*]
[]--[]--2020-10-30 00:58:40.346 INFO --[localhost-startStop-1]
                o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
[]--[]--2020-10-30 00:58:40.366 DEBUG--[localhost-startStop-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.init()......
[]--[]--2020-10-30 00:58:40.554 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
[]--[]--2020-10-30 00:58:41.186 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
[]--[]--2020-10-30 00:58:41.256 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
[]--[]--2020-10-30 00:58:41.277 INFO --[  restartedMain]
                o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
[]--[]--2020-10-30 00:58:41.415 INFO --[  restartedMain]
                org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
[]--[]--2020-10-30 00:58:41.421 INFO --[  restartedMain]
                org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
[]--[]--2020-10-30 00:58:41.492 INFO --[  restartedMain]
                org.hibernate.annotations.common.Version : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
[]--[]--2020-10-30 00:58:41.823 INFO --[  restartedMain]
                org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
[]--[]--2020-10-30 00:58:42.076 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
[]--[]--2020-10-30 00:58:42.139 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] there is no iam folder in Resource!
[]--[]--2020-10-30 00:58:42.140 DEBUG--[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] projectPath: /Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/com.inspur.iam/iam-adapter-java/1.9.7/6706f5ae335155c33a45369c1400847f77286669
[]--[]--2020-10-30 00:58:42.140 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.LiquiabseInit] there is no liquibase-xml in local directory!
[]--[]--2020-10-30 00:58:42.155 DEBUG--[  restartedMain]
                com.inspur.iam.adapter.util.VersionUtil  : [VersionUtil.uploadVersion] adaper version: 1.9.7
[]--[]--2020-10-30 00:58:42.802 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 开始创建RestTemplate-->[tokenType=USER,timeZone=GMT,WriteDatesAsTimestamps=null,referer=https://console1.cloud.inspur.com/,connectionRequestTimeout=0,ConnectTimeout=0,ReadTimeout=0]
[]--[]--2020-10-30 00:58:42.810 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 创建RestTemplate完成-->org.keycloak.adapters.springsecurity.client.KeycloakRestTemplate@2a9b17ea
[]--[]--2020-10-30 00:58:42.966 DEBUG--[  restartedMain]
                c.i.c.s.m.u.spring.SpringContextHolder   : 注入ApplicationContext到SpringContextHolder:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5fd55c0e: startup date [Fri Oct 30 00:58:34 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 00:58:43.161 INFO --[  restartedMain]
                o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@751c65b4, org.springframework.security.web.context.SecurityContextPersistenceFilter@37f755be, org.springframework.security.web.header.HeaderWriterFilter@607df4f3, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@54e1a980, org.springframework.security.web.authentication.logout.LogoutFilter@1119d609, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@b74e5aa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@76a77b41, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cad50e, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@6f15df55, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@652ad1ea, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e608630, org.springframework.security.web.session.SessionManagementFilter@7ead6391, org.springframework.security.web.access.ExceptionTranslationFilter@553cda9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@15b4b51f]
[]--[]--2020-10-30 00:58:43.254 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService  'taskExecutor'
[]--[]--2020-10-30 00:58:43.360 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 00:58:43.468 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5fd55c0e: startup date [Fri Oct 30 00:58:34 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 00:58:43.482 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Detected ResponseBodyAdvice bean in responseResultBodyAdvisor
[]--[]--2020-10-30 00:58:43.518 WARN --[  restartedMain]
                o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[]--[]--2020-10-30 00:58:43.612 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.device.controller.DeviceController.querySecretKeyList(int,int,java.lang.String,java.lang.String,java.lang.Integer)
[]--[]--2020-10-30 00:58:43.613 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/download],methods=[GET]}" onto public void com.inspur.cloud.console.device.controller.DeviceController.downloadDevices(javax.servlet.http.HttpServletResponse,java.lang.String,java.lang.String,java.lang.Integer) throws java.io.IOException
[]--[]--2020-10-30 00:58:43.613 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secret],methods=[GET]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecret(java.lang.String,java.lang.String)
[]--[]--2020-10-30 00:58:43.614 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secrets],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecrets(org.springframework.web.multipart.MultipartFile) throws java.io.IOException
[]--[]--2020-10-30 00:58:43.615 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictCache()
[]--[]--2020-10-30 00:58:43.616 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictGroupCache(java.lang.String)
[]--[]--2020-10-30 00:58:43.616 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}/items/{itemId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<com.inspur.cloud.console.dict.entity.DictItemBean> com.inspur.cloud.console.dict.controller.DictController.getDictItemByKey(java.lang.String,java.lang.String)
[]--[]--2020-10-30 00:58:43.617 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<?> com.inspur.cloud.console.dict.controller.DictController.getDict(java.lang.String)
[]--[]--2020-10-30 00:58:43.617 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<java.util.List<com.inspur.cloud.console.dict.entity.DictItemBean>> com.inspur.cloud.console.dict.controller.DictController.getDictItemByGroupId(java.lang.String)
[]--[]--2020-10-30 00:58:43.618 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/health-status],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.health.HealthController.healthStatus()
[]--[]--2020-10-30 00:58:43.621 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.addProduct(com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-10-30 00:58:43.621 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}],methods=[PUT]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.updateProduct(java.lang.String,com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-10-30 00:58:43.622 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail],methods=[GET]}" onto public com.inspur.cloud.console.product.entity.ProductDo com.inspur.cloud.console.product.controller.ProductController.productDetails(java.lang.String)
[]--[]--2020-10-30 00:58:43.622 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.queryProductList(int,int,java.lang.String)
[]--[]--2020-10-30 00:58:43.622 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.productList(java.lang.String,int,int)
[]--[]--2020-10-30 00:58:43.623 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.product.entity.ProductsVO> com.inspur.cloud.console.product.controller.ProductController.productList()
[]--[]--2020-10-30 00:58:43.623 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/metrics]}" onto public void com.inspur.cloud.console.prometheus.controller.MetricsController.metrics(javax.servlet.http.HttpServletResponse) throws java.io.IOException
[]--[]--2020-10-30 00:58:43.624 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/rootCertList],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.rootcert.entity.RootCert> com.inspur.cloud.console.rootcert.controller.RootCertController.queryRootCertList()
[]--[]--2020-10-30 00:58:43.625 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/create-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.createCA(com.inspur.cloud.console.rootcert.entity.CreateRootCertParams)
[]--[]--2020-10-30 00:58:43.625 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/import-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.importCA(com.inspur.cloud.console.rootcert.entity.ImportRootCertParams) throws java.io.IOException
[]--[]--2020-10-30 00:58:43.625 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/crt],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCA(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-10-30 00:58:43.628 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/info],methods=[GET]}" onto public com.inspur.cloud.console.usercert.entity.UserCert com.inspur.cloud.console.usercert.controller.UserCertController.getUserCert()
[]--[]--2020-10-30 00:58:43.628 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/is-open],methods=[GET]}" onto public int com.inspur.cloud.console.usercert.controller.UserCertController.isOpenService()
[]--[]--2020-10-30 00:58:43.628 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/opening],methods=[POST]}" onto public int com.inspur.cloud.console.usercert.controller.UserCertController.openService()
[]--[]--2020-10-30 00:58:43.629 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/number],methods=[GET]}" onto public com.inspur.cloud.console.kgc.entity.ProductAndDeviceNum com.inspur.cloud.console.usercert.controller.UserCertController.calulateNumber()
[]--[]--2020-10-30 00:58:43.631 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
[]--[]--2020-10-30 00:58:43.632 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
[]--[]--2020-10-30 00:58:43.703 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 00:58:43.704 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 00:58:43.738 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in clientExceptionHandler
[]--[]--2020-10-30 00:58:43.738 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
[]--[]--2020-10-30 00:58:43.739 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected ResponseBodyAdvice implementation in responseResultBodyAdvisor
[]--[]--2020-10-30 00:58:43.739 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in commonControllerAdvice
[]--[]--2020-10-30 00:58:44.725 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskScheduler : Initializing ExecutorService  'taskScheduler'
[]--[]--2020-10-30 00:58:44.893 INFO --[  restartedMain]
                o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path ''
[]--[]--2020-10-30 00:58:44.904 INFO --[  restartedMain]
                o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping : Mapped "{[/prometheus],methods=[GET],produces=[text/plain;version=0.0.4;charset=utf-8]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
[]--[]--2020-10-30 00:58:45.042 INFO --[  restartedMain]
                o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[]--[]--2020-10-30 00:58:45.220 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
[]--[]--2020-10-30 00:58:45.222 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
[]--[]--2020-10-30 00:58:45.229 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
[]--[]--2020-10-30 00:58:45.234 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
[]--[]--2020-10-30 00:58:45.237 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
[]--[]--2020-10-30 00:58:45.268 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0
[]--[]--2020-10-30 00:58:45.268 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
[]--[]--2020-10-30 00:58:45.268 INFO --[  restartedMain]
                o.s.i.channel.PublishSubscribeChannel    : Channel 'i-id-service.errorChannel' has 1 subscriber(s).
[]--[]--2020-10-30 00:58:45.268 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : started _org.springframework.integration.errorLogger
[]--[]--2020-10-30 00:58:45.268 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
[]--[]--2020-10-30 00:58:45.314 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8762 (http) with context path ''
[]--[]--2020-10-30 00:58:45.318 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Started IIDApplication in 11.984 seconds (JVM running for 12.819)
[]--[]--2020-10-30 00:58:45.323 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...begin...
[]--[]--2020-10-30 00:58:45.446 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...end...
[]--[]--2020-10-30 00:58:45.629 INFO --[RMI TCP Connection(2)-127.0.0.1]
                o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [10.110.64.31:31675]
[]--[]--2020-10-30 00:58:45.633 INFO --[RMI TCP Connection(1)-127.0.0.1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
[]--[]--2020-10-30 00:58:45.634 INFO --[RMI TCP Connection(1)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
[]--[]--2020-10-30 00:58:45.655 INFO --[RMI TCP Connection(1)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 21 ms
[]--[]--2020-10-30 00:58:45.774 INFO --[RMI TCP Connection(2)-127.0.0.1]
                o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6be4a8e6:0/SimpleConnection@7ad8e841 [delegate=amqp://guest@10.110.64.31:31675/, localPort= 56881]
[]--[]--2020-10-30 00:58:46.017 INFO --[RMI TCP Connection(2)-127.0.0.1]
                io.lettuce.core.EpollProvider            : Starting without optional epoll library
[]--[]--2020-10-30 00:58:46.018 INFO --[RMI TCP Connection(2)-127.0.0.1]
                io.lettuce.core.KqueueProvider           : Starting without optional kqueue library
[]--[]--2020-10-30 00:59:12.160 DEBUG--[      Thread-24]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] begin
[]--[]--2020-10-30 00:59:12.715 DEBUG--[      Thread-24]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] request success, responseBody: {"id":"e4e590c17448874b017448a48059000d","authUrl":"https://auth-cloud-dev.inspurcloud.cn/auth","realm":"picp","client":"bss-server","databaseName":"icp_iid","version":"1.9.7","createdAt":"2020-09-01T07:49:34Z","updatedAt":null}
[]--[]--2020-10-30 01:00:53.261 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-begin-1603990853261
[]--[]--2020-10-30 01:00:53.264 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : SecurityContextUtil.cleanSecurityContext()
[]--[]--2020-10-30 01:00:53.265 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] auth: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@61b9ac1f: Principal: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@417d427b; Granted Authorities: ROLE_ACCOUNT_ADMIN, ROLE_RDS_ADMIN, ROLE_UMA_AUTHORIZATION, ROLE_OFFLINE_ACCESS
[]--[]--2020-10-30 01:00:53.265 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] is KeycloakAuthenticationToken
[]--[]--2020-10-30 01:00:53.265 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isServiceAccount: false
[]--[]--2020-10-30 01:00:53.266 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 01:00:53.266 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] begin
[]--[]--2020-10-30 01:00:53.703 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] request success, responseBody: {"id":"1d44bfda-8fd2-4e2b-a99c-21bdf690c753","createdTimestamp":1588827826514,"username":"inspurtest01","enabled":true,"totp":false,"emailVerified":false,"firstName":"","lastName":"","email":"inspurtest01@inspur.com","attributes":{"lastLoginTime":["1603989332524"],"project":["inspurtest01"],"thisLoginTime":["1603990497286"]},"disableableCredentialTypes":["password"],"requiredActions":[],"federatedIdentities":[],"notBefore":1602302654,"access":{"manageGroupMembership":true,"view":true,"mapRoles":true,"impersonate":true,"manage":true}}
[]--[]--2020-10-30 01:00:53.705 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] userMap: {id=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, createdTimestamp=1588827826514, username=inspurtest01, enabled=true, totp=false, emailVerified=false, firstName=, lastName=, email=inspurtest01@inspur.com, attributes={lastLoginTime=[1603989332524], project=[inspurtest01], thisLoginTime=[1603990497286]}, disableableCredentialTypes=[password], requiredActions=[], federatedIdentities=[], notBefore=1602302654, access={manageGroupMembership=true, view=true, mapRoles=true, impersonate=true, manage=true}}
[]--[]--2020-10-30 01:00:53.705 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : {lastLoginTime=[1603989332524], project=[inspurtest01], thisLoginTime=[1603990497286]}
[]--[]--2020-10-30 01:00:53.705 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserGroupsById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 01:00:53.705 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] begin
[]--[]--2020-10-30 01:00:53.755 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] request success, responseBody: [{"id":"047bd339-8ee6-42fe-8618-a99e8279dd79","name":"group-inspurtest01","description":null,"createdAt":0,"accountId":null}]
[]--[]--2020-10-30 01:00:53.760 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isRootUser: true
[]--[]--2020-10-30 01:00:53.762 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-doFilter-1603990853761
[]--[]--2020-10-30 01:00:53.765 DEBUG--[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.doFilter()...
[i-id-service]--[125cb497-1b83-4900-8fa7-5a67f14131c6]--2020-10-30 01:00:53.766 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : 是否为主账号true
[i-id-service]--[125cb497-1b83-4900-8fa7-5a67f14131c6]--2020-10-30 01:00:53.767 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : user id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753,Creator Id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753, request url: /iid/v1/user-cert/download/373858911508283392/crt, request id: 125cb497-1b83-4900-8fa7-5a67f14131c6
[]--[]--2020-10-30 01:01:21.982 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-begin-1603990881982
[]--[]--2020-10-30 01:01:21.984 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : SecurityContextUtil.cleanSecurityContext()
[]--[]--2020-10-30 01:01:21.984 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] auth: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@76c18855: Principal: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@575dcf63; Granted Authorities: ROLE_ACCOUNT_ADMIN, ROLE_RDS_ADMIN, ROLE_UMA_AUTHORIZATION, ROLE_OFFLINE_ACCESS
[]--[]--2020-10-30 01:01:21.984 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] is KeycloakAuthenticationToken
[]--[]--2020-10-30 01:01:21.984 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isServiceAccount: false
[]--[]--2020-10-30 01:01:21.985 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 01:01:21.985 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] begin
[]--[]--2020-10-30 01:01:22.056 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] request success, responseBody: {"id":"1d44bfda-8fd2-4e2b-a99c-21bdf690c753","createdTimestamp":1588827826514,"username":"inspurtest01","enabled":true,"totp":false,"emailVerified":false,"firstName":"","lastName":"","email":"inspurtest01@inspur.com","attributes":{"lastLoginTime":["1603989332524"],"project":["inspurtest01"],"thisLoginTime":["1603990497286"]},"disableableCredentialTypes":["password"],"requiredActions":[],"federatedIdentities":[],"notBefore":1602302654,"access":{"manageGroupMembership":true,"view":true,"mapRoles":true,"impersonate":true,"manage":true}}
[]--[]--2020-10-30 01:01:22.058 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] userMap: {id=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, createdTimestamp=1588827826514, username=inspurtest01, enabled=true, totp=false, emailVerified=false, firstName=, lastName=, email=inspurtest01@inspur.com, attributes={lastLoginTime=[1603989332524], project=[inspurtest01], thisLoginTime=[1603990497286]}, disableableCredentialTypes=[password], requiredActions=[], federatedIdentities=[], notBefore=1602302654, access={manageGroupMembership=true, view=true, mapRoles=true, impersonate=true, manage=true}}
[]--[]--2020-10-30 01:01:22.058 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : {lastLoginTime=[1603989332524], project=[inspurtest01], thisLoginTime=[1603990497286]}
[]--[]--2020-10-30 01:01:22.058 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserGroupsById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 01:01:22.058 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] begin
[]--[]--2020-10-30 01:01:22.122 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] request success, responseBody: [{"id":"047bd339-8ee6-42fe-8618-a99e8279dd79","name":"group-inspurtest01","description":null,"createdAt":0,"accountId":null}]
[]--[]--2020-10-30 01:01:22.124 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isRootUser: true
[]--[]--2020-10-30 01:01:22.125 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-doFilter-1603990882125
[]--[]--2020-10-30 01:01:22.125 DEBUG--[http-nio-8762-exec-2]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.doFilter()...
[i-id-service]--[dc0c2619-3c07-4961-a04f-aee0c7bff2f4]--2020-10-30 01:01:22.125 INFO --[http-nio-8762-exec-2]
                c.i.cloud.common.filter.RequestFilter    : 是否为主账号true
[i-id-service]--[dc0c2619-3c07-4961-a04f-aee0c7bff2f4]--2020-10-30 01:01:22.125 INFO --[http-nio-8762-exec-2]
                c.i.cloud.common.filter.RequestFilter    : user id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753,Creator Id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753, request url: /iid/v1/root-cert/download/373858911508283392/crt, request id: dc0c2619-3c07-4961-a04f-aee0c7bff2f4
[i-id-service]--[dc0c2619-3c07-4961-a04f-aee0c7bff2f4]--2020-10-30 01:01:22.161 DEBUG--[http-nio-8762-exec-2]
                c.i.iam.adapter.aop.PermissionContextAop : requesturi=/iid/v1/root-cert/download/373858911508283392/crt
[i-id-service]--[dc0c2619-3c07-4961-a04f-aee0c7bff2f4]--2020-10-30 01:01:22.249 INFO --[http-nio-8762-exec-2]
                o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
[i-id-service]--[dc0c2619-3c07-4961-a04f-aee0c7bff2f4]--2020-10-30 01:01:22.316 WARN --[http-nio-8762-exec-2]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Failed to invoke @ExceptionHandler method: org.springframework.http.ResponseEntity<com.inspur.cloud.common.bean.ErrorResponseBean> com.inspur.cloud.common.exception.handler.GlobalExceptionHandler.handleServiceException(java.lang.Exception)
org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:288)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:224)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:82)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:119)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:400)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:61)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:136)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:78)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1255)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1062)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1008)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:866)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.inspur.common.filter.RepeatedlyReadFilter.doFilter(RepeatedlyReadFilter.java:34)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.inspur.cloud.common.filter.RequestFilter.doFilter(RequestFilter.java:86)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.inspur.iam.adapter.filter.SecurityContextFilter.doFilter(SecurityContextFilter.java:133)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter.doFilter(KeycloakAuthenticatedActionsFilter.java:74)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter.doFilter(KeycloakSecurityContextRequestFilter.java:77)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter.successfulAuthentication(KeycloakAuthenticationProcessingFilter.java:208)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter.doFilter(KeycloakPreAuthActionsFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.keycloak.adapters.tomcat.AbstractAuthenticatedActionsValve.invoke(AbstractAuthenticatedActionsValve.java:67)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:181)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
[]--[]--2020-10-30 01:03:29.070 DEBUG--[http-nio-8762-exec-4]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-begin-1603991009070
[]--[]--2020-10-30 01:03:29.070 DEBUG--[http-nio-8762-exec-4]
                c.i.i.a.filter.SecurityContextFilter     : SecurityContextUtil.cleanSecurityContext()
[]--[]--2020-10-30 01:03:29.071 DEBUG--[http-nio-8762-exec-4]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] auth: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@37fc9f15: Principal: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@7985373a; Granted Authorities: ROLE_ACCOUNT_ADMIN, ROLE_RDS_ADMIN, ROLE_UMA_AUTHORIZATION, ROLE_OFFLINE_ACCESS
[]--[]--2020-10-30 01:03:29.071 DEBUG--[http-nio-8762-exec-4]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] is KeycloakAuthenticationToken
[]--[]--2020-10-30 01:03:29.071 DEBUG--[http-nio-8762-exec-4]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isServiceAccount: false
[]--[]--2020-10-30 01:03:29.071 DEBUG--[http-nio-8762-exec-4]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 01:03:29.071 DEBUG--[http-nio-8762-exec-4]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] begin
[]--[]--2020-10-30 01:03:29.227 DEBUG--[http-nio-8762-exec-4]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] request success, responseBody: {"id":"1d44bfda-8fd2-4e2b-a99c-21bdf690c753","createdTimestamp":1588827826514,"username":"inspurtest01","enabled":true,"totp":false,"emailVerified":false,"firstName":"","lastName":"","email":"inspurtest01@inspur.com","attributes":{"lastLoginTime":["1603989332524"],"project":["inspurtest01"],"thisLoginTime":["1603990497286"]},"disableableCredentialTypes":["password"],"requiredActions":[],"federatedIdentities":[],"notBefore":1602302654,"access":{"manageGroupMembership":true,"view":true,"mapRoles":true,"impersonate":true,"manage":true}}
[]--[]--2020-10-30 01:03:29.228 DEBUG--[http-nio-8762-exec-4]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] userMap: {id=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, createdTimestamp=1588827826514, username=inspurtest01, enabled=true, totp=false, emailVerified=false, firstName=, lastName=, email=inspurtest01@inspur.com, attributes={lastLoginTime=[1603989332524], project=[inspurtest01], thisLoginTime=[1603990497286]}, disableableCredentialTypes=[password], requiredActions=[], federatedIdentities=[], notBefore=1602302654, access={manageGroupMembership=true, view=true, mapRoles=true, impersonate=true, manage=true}}
[]--[]--2020-10-30 01:03:29.228 DEBUG--[http-nio-8762-exec-4]
                com.inspur.iam.adapter.util.TokenUtil    : {lastLoginTime=[1603989332524], project=[inspurtest01], thisLoginTime=[1603990497286]}
[]--[]--2020-10-30 01:03:29.228 DEBUG--[http-nio-8762-exec-4]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserGroupsById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 01:03:29.229 DEBUG--[http-nio-8762-exec-4]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] begin
[]--[]--2020-10-30 01:03:29.280 DEBUG--[http-nio-8762-exec-4]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] request success, responseBody: [{"id":"047bd339-8ee6-42fe-8618-a99e8279dd79","name":"group-inspurtest01","description":null,"createdAt":0,"accountId":null}]
[]--[]--2020-10-30 01:03:29.281 DEBUG--[http-nio-8762-exec-4]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isRootUser: true
[]--[]--2020-10-30 01:03:29.282 DEBUG--[http-nio-8762-exec-4]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-doFilter-1603991009282
[]--[]--2020-10-30 01:03:29.282 DEBUG--[http-nio-8762-exec-4]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.doFilter()...
[i-id-service]--[96b363aa-0de9-489d-bd7f-95e77f8cda9a]--2020-10-30 01:03:29.283 INFO --[http-nio-8762-exec-4]
                c.i.cloud.common.filter.RequestFilter    : 是否为主账号true
[i-id-service]--[96b363aa-0de9-489d-bd7f-95e77f8cda9a]--2020-10-30 01:03:29.283 INFO --[http-nio-8762-exec-4]
                c.i.cloud.common.filter.RequestFilter    : user id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753,Creator Id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753, request url: /iid/v1/root-cert/root-cert, request id: 96b363aa-0de9-489d-bd7f-95e77f8cda9a
[]--[]--2020-10-30 01:03:38.104 DEBUG--[http-nio-8762-exec-5]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-begin-1603991018104
[]--[]--2020-10-30 01:03:38.105 DEBUG--[http-nio-8762-exec-5]
                c.i.i.a.filter.SecurityContextFilter     : SecurityContextUtil.cleanSecurityContext()
[]--[]--2020-10-30 01:03:38.105 DEBUG--[http-nio-8762-exec-5]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] auth: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@37fc9b38: Principal: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@58eb59a9; Granted Authorities: ROLE_ACCOUNT_ADMIN, ROLE_RDS_ADMIN, ROLE_UMA_AUTHORIZATION, ROLE_OFFLINE_ACCESS
[]--[]--2020-10-30 01:03:38.105 DEBUG--[http-nio-8762-exec-5]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] is KeycloakAuthenticationToken
[]--[]--2020-10-30 01:03:38.105 DEBUG--[http-nio-8762-exec-5]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isServiceAccount: false
[]--[]--2020-10-30 01:03:38.105 DEBUG--[http-nio-8762-exec-5]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 01:03:38.105 DEBUG--[http-nio-8762-exec-5]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] begin
[]--[]--2020-10-30 01:03:38.173 DEBUG--[http-nio-8762-exec-5]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] request success, responseBody: {"id":"1d44bfda-8fd2-4e2b-a99c-21bdf690c753","createdTimestamp":1588827826514,"username":"inspurtest01","enabled":true,"totp":false,"emailVerified":false,"firstName":"","lastName":"","email":"inspurtest01@inspur.com","attributes":{"lastLoginTime":["1603989332524"],"project":["inspurtest01"],"thisLoginTime":["1603990497286"]},"disableableCredentialTypes":["password"],"requiredActions":[],"federatedIdentities":[],"notBefore":1602302654,"access":{"manageGroupMembership":true,"view":true,"mapRoles":true,"impersonate":true,"manage":true}}
[]--[]--2020-10-30 01:03:38.174 DEBUG--[http-nio-8762-exec-5]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] userMap: {id=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, createdTimestamp=1588827826514, username=inspurtest01, enabled=true, totp=false, emailVerified=false, firstName=, lastName=, email=inspurtest01@inspur.com, attributes={lastLoginTime=[1603989332524], project=[inspurtest01], thisLoginTime=[1603990497286]}, disableableCredentialTypes=[password], requiredActions=[], federatedIdentities=[], notBefore=1602302654, access={manageGroupMembership=true, view=true, mapRoles=true, impersonate=true, manage=true}}
[]--[]--2020-10-30 01:03:38.175 DEBUG--[http-nio-8762-exec-5]
                com.inspur.iam.adapter.util.TokenUtil    : {lastLoginTime=[1603989332524], project=[inspurtest01], thisLoginTime=[1603990497286]}
[]--[]--2020-10-30 01:03:38.175 DEBUG--[http-nio-8762-exec-5]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserGroupsById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 01:03:38.175 DEBUG--[http-nio-8762-exec-5]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] begin
[]--[]--2020-10-30 01:03:38.227 DEBUG--[http-nio-8762-exec-5]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] request success, responseBody: [{"id":"047bd339-8ee6-42fe-8618-a99e8279dd79","name":"group-inspurtest01","description":null,"createdAt":0,"accountId":null}]
[]--[]--2020-10-30 01:03:38.228 DEBUG--[http-nio-8762-exec-5]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isRootUser: true
[]--[]--2020-10-30 01:03:38.228 DEBUG--[http-nio-8762-exec-5]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-doFilter-1603991018228
[]--[]--2020-10-30 01:03:38.229 DEBUG--[http-nio-8762-exec-5]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.doFilter()...
[i-id-service]--[a3907aec-7e89-4b9d-87c5-db92920fc087]--2020-10-30 01:03:38.229 INFO --[http-nio-8762-exec-5]
                c.i.cloud.common.filter.RequestFilter    : 是否为主账号true
[i-id-service]--[a3907aec-7e89-4b9d-87c5-db92920fc087]--2020-10-30 01:03:38.229 INFO --[http-nio-8762-exec-5]
                c.i.cloud.common.filter.RequestFilter    : user id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753,Creator Id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753, request url: /iid/v1/root-cert/create-cert, request id: a3907aec-7e89-4b9d-87c5-db92920fc087
[i-id-service]--[a3907aec-7e89-4b9d-87c5-db92920fc087]--2020-10-30 01:03:38.250 DEBUG--[http-nio-8762-exec-5]
                c.i.iam.adapter.aop.PermissionContextAop : requesturi=/iid/v1/root-cert/create-cert
[i-id-service]--[a3907aec-7e89-4b9d-87c5-db92920fc087]--2020-10-30 01:03:38.403 INFO --[http-nio-8762-exec-5]
                c.i.c.c.rootcert.service.RootCertService : ================ folder path: /Users/jiangyupeng/Desktop/iid-sslkey/
[i-id-service]--[a3907aec-7e89-4b9d-87c5-db92920fc087]--2020-10-30 01:03:38.403 INFO --[http-nio-8762-exec-5]
                c.i.c.c.rootcert.service.RootCertService : ================ 该目录是否存在：true
[i-id-service]--[a3907aec-7e89-4b9d-87c5-db92920fc087]--2020-10-30 01:03:38.404 INFO --[http-nio-8762-exec-5]
                c.i.c.c.rootcert.service.RootCertService : ================ Create CA cert cmd: openssl req -new -x509 -newkey rsa:1024 -days 36500 -keyout /Users/jiangyupeng/Desktop/iid-sslkey/374362680705122304.key -out /Users/jiangyupeng/Desktop/iid-sslkey/374362680705122304.crt -passout pass:22446688 -subj /C=CN/ST=iid/L=iid/O=iid/OU=iid/CN=ca
[i-id-service]--[a3907aec-7e89-4b9d-87c5-db92920fc087]--2020-10-30 01:03:38.485 INFO --[http-nio-8762-exec-5]
                c.i.c.c.rootcert.service.RootCertService : =============== 创建 .crt and .key 文件成功
[i-id-service]--[a3907aec-7e89-4b9d-87c5-db92920fc087]--2020-10-30 01:03:38.503 INFO --[http-nio-8762-exec-5]
                c.i.c.c.rootcert.service.RootCertService : =========== rootCert: RootCert(id=374362680705122304, name=inspurtest01, code=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, accountId=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, creatorId=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, mainPubEncKey=-----BEGIN CERTIFICATE-----
MIICHTCCAYYCCQDbjJFZ1PAJ/zANBgkqhkiG9w0BAQsFADBSMQswCQYDVQQGEwJD
TjEMMAoGA1UECAwDaWlkMQwwCgYDVQQHDANpaWQxDDAKBgNVBAoMA2lpZDEMMAoG
A1UECwwDaWlkMQswCQYDVQQDDAJjYTAgFw0yMDEwMjkxNzAzMzhaGA8yMTIwMTAw
NTE3MDMzOFowUjELMAkGA1UEBhMCQ04xDDAKBgNVBAgMA2lpZDEMMAoGA1UEBwwD
aWlkMQwwCgYDVQQKDANpaWQxDDAKBgNVBAsMA2lpZDELMAkGA1UEAwwCY2EwgZ8w
DQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMOmDqUX3WqDAi4RpVhUaQ/K0wbg636e
crrmIyaMT8ucpZEsV0FjrZixuHxfdIz16GgtYRuGmAim6fy+zaHNdVfc7S9m9j0/
8FR45GTCNGsYyQk7cri9d+LYcH3/B2dj5OwvvRmKNTxrCZfcqcXZcNhoBbmmFEmW
N9Diw3qIxGVpAgMBAAEwDQYJKoZIhvcNAQELBQADgYEAOv25VUd7fxI41M+lYpQf
6RDtz8MfSBFVmVS/3zn2GveS29zJ8kPsnPgzEAMqrNJJONfs46vHbcJLSPEsbNKs
wfUvL9WHr0JrtQoxFTTkbdH65LfN2f6CEvcU5Cpjd2wjNTpkBsfI2U/f2FGi4Cq5
5OzHbArfteSFyrransnWv2k=
-----END CERTIFICATE-----
, mainPriEncKey=-----BEGIN ENCRYPTED PRIVATE KEY-----
MIICzzBJBgkqhkiG9w0BBQ0wPDAbBgkqhkiG9w0BBQwwDgQIodkcgnZj3IsCAggA
MB0GCWCGSAFlAwQBKgQQXSywq8gUd8+nwCAPoSOy5gSCAoDhwzMHWsCiAP7UEWJ8
GZ/5rW/GCvng+na3NGSI1wuuIujDjnv4Yw5tNBIDycCUps3FqZxz+hMgGyS6/MaN
MMi4YhKtmHwzzhq6ZyhhoERkvHOaSmrXGXLfK2kA79wI1gubj0ypr7I75S6jG8Nm
/pMe45TkPOjRoIKRbhMtDJgluae9ShvjZ9ntHxfL5ao40fdbC0WQOwPm9dxIoY2N
NUWzGeXj4C1p3qBPU6ueusF7TbqJ5qJiKExzNWmUkkdRKQngMsbK6RAFh6LX1tb/
fKjUFqJ8oEKv0CL1pqxCHZYBSb45rqktCl7/zL4yseFvW4W9qCB81Wi4jMrbYiM1
FKvp0WCW0u8el3ucji9PKC+yHrC1g+8izahjlAPc2R4ofGIo/pVdQov8ZCtFDfS6
cR+l96nZDPbch5algwNJRNkGSjh4ahAVaQqyyP+zVn7ITGcL+kCPn80N3eSd8QnL
wL9qnz1kkMhhE9Bh5ist3Uarz+RXRe8Nm6ymsHcMhQSSDaxn5VxHIpPM581BraD4
3r6+wvaHjj9GcRWXgNFGH3ixt5D28xgoFPVhrtA7eJer1qgJ59I1+mlpPSpHY3OE
6jpM7gEAZKILmWJ4nM+Nj195S00xiY6xVRiiclc8KjOfSYa7N8y18AxMSWs94QB4
QvZpeoKYQDq5odxscLOfXyWeppKtKyGPdlEFMn8bq2GIJLvJAFlZ8EhpKsatgqeU
hDV4qf8HDUJYbWe9eUQwOkUnF3WaEp8m6FNIqolP5FSEZJk85vMmDbcmnbU+Io/3
Fdv/KUCjHXk4tKp4ujD3KGm0sAEXIWnYm0DhCYQP1oOrzOlmEU0wSlFaurG115sj
xLRT
-----END ENCRYPTED PRIVATE KEY-----
, mainPubVfyKey=null, mainPriVfyKey=null, type=X509, certName=x509_cert_01, rsaCount=1024, password=22446688, days=36500, status=0, source=Internal, dnsList=["dns01","dns02"], ipList=["www.googole.com"], subject={"C":"CN","ST":"iid","L":"iid","O":"iid","OU":"iid","CN":"ca"}, createdTime=Fri Oct 30 01:03:38 CST 2020, updatedTime=Fri Oct 30 01:03:38 CST 2020)
[]--[]--2020-10-30 01:04:27.698 DEBUG--[      Thread-35]
                c.i.c.s.m.u.spring.SpringContextHolder   : 清除SpringContextHolder中的ApplicationContext:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5fd55c0e: startup date [Fri Oct 30 00:58:34 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 01:04:28.843 INFO --[      Thread-35]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
[]--[]--2020-10-30 01:04:28.848 INFO --[      Thread-35]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
[]--[]--2020-10-30 01:04:31.169 DEBUG--[localhost-startStop-2]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.destroy()...
[]--[]--2020-10-30 09:54:35.165 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Starting IIDApplication on JiangYuPengdeMacBook-Pro.local with PID 29537 (/Users/jiangyupeng/Java/Company/iid-service/out/production/classes started by jiangyupeng in /Users/jiangyupeng/Java/Company/iid-service)
[]--[]--2020-10-30 09:54:35.168 DEBUG--[  restartedMain]
                com.inspur.cloud.IIDApplication          : Running with Spring Boot v2.0.5.RELEASE, Spring v5.0.9.RELEASE
[]--[]--2020-10-30 09:54:35.168 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : The following profiles are active: prod
[]--[]--2020-10-30 09:54:35.316 INFO --[  restartedMain]
                o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@731d7310: startup date [Fri Oct 30 09:54:35 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 09:54:36.243 INFO --[  restartedMain]
                o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'httpSessionManager' with a different definition: replacing [Generic bean: class [org.keycloak.adapters.springsecurity.management.HttpSessionManager]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/org.keycloak/keycloak-spring-security-adapter/4.6.0.Final/8a42a701686abd300fd73288f1e1ce9807a95dd1/keycloak-spring-security-adapter-4.6.0.Final.jar!/org/keycloak/adapters/springsecurity/management/HttpSessionManager.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=securityConfig; factoryMethodName=httpSessionManager; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/inspur/iam/adapter/config/SecurityConfig.class]]
[]--[]--2020-10-30 09:54:36.671 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-10-30 09:54:36.713 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-10-30 09:54:36.772 INFO --[  restartedMain]
                o.s.i.config.IntegrationRegistrar        : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
[]--[]--2020-10-30 09:54:37.224 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
[]--[]--2020-10-30 09:54:37.235 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
[]--[]--2020-10-30 09:54:37.359 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$8d445ece] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 09:54:37.478 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c6d8a0a0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 09:54:37.692 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$31ca5bcf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 09:54:38.526 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8762 (http)
[]--[]--2020-10-30 09:54:38.551 INFO --[  restartedMain]
                org.apache.catalina.core.StandardService : Starting service [Tomcat]
[]--[]--2020-10-30 09:54:38.552 INFO --[  restartedMain]
                org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.34
[]--[]--2020-10-30 09:54:38.555 INFO --[localhost-startStop-1]
                o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/jiangyupeng/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
[]--[]--2020-10-30 09:54:38.655 INFO --[localhost-startStop-1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
[]--[]--2020-10-30 09:54:38.655 INFO --[localhost-startStop-1]
                o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3339 ms
[]--[]--2020-10-30 09:54:40.847 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'characterEncodingFilter' to: [/*]
[]--[]--2020-10-30 09:54:40.848 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'webMvcMetricsFilter' to: [/*]
[]--[]--2020-10-30 09:54:40.848 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
[]--[]--2020-10-30 09:54:40.849 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpPutFormContentFilter' to: [/*]
[]--[]--2020-10-30 09:54:40.849 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestContextFilter' to: [/*]
[]--[]--2020-10-30 09:54:40.849 INFO --[localhost-startStop-1]
                o.s.b.w.s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
[]--[]--2020-10-30 09:54:40.850 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'securityContextFilter' to urls: [/*]
[]--[]--2020-10-30 09:54:40.850 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpTraceFilter' to: [/*]
[]--[]--2020-10-30 09:54:40.850 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticationProcessingFilter was not registered (disabled)
[]--[]--2020-10-30 09:54:40.851 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakPreAuthActionsFilter was not registered (disabled)
[]--[]--2020-10-30 09:54:40.851 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticatedActionsFilter was not registered (disabled)
[]--[]--2020-10-30 09:54:40.851 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakSecurityContextRequestFilter was not registered (disabled)
[]--[]--2020-10-30 09:54:40.851 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestFilter' to: [/*]
[]--[]--2020-10-30 09:54:40.851 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'repeatedlyReadFilter' to: [/*]
[]--[]--2020-10-30 09:54:40.852 INFO --[localhost-startStop-1]
                o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
[]--[]--2020-10-30 09:54:40.873 DEBUG--[localhost-startStop-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.init()......
[]--[]--2020-10-30 09:54:41.059 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
[]--[]--2020-10-30 09:54:41.506 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
[]--[]--2020-10-30 09:54:41.569 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
[]--[]--2020-10-30 09:54:41.588 INFO --[  restartedMain]
                o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
[]--[]--2020-10-30 09:54:41.707 INFO --[  restartedMain]
                org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
[]--[]--2020-10-30 09:54:41.709 INFO --[  restartedMain]
                org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
[]--[]--2020-10-30 09:54:41.801 INFO --[  restartedMain]
                org.hibernate.annotations.common.Version : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
[]--[]--2020-10-30 09:54:42.141 INFO --[  restartedMain]
                org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
[]--[]--2020-10-30 09:54:42.384 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
[]--[]--2020-10-30 09:54:42.442 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] there is no iam folder in Resource!
[]--[]--2020-10-30 09:54:42.442 DEBUG--[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] projectPath: /Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/com.inspur.iam/iam-adapter-java/1.9.7/6706f5ae335155c33a45369c1400847f77286669
[]--[]--2020-10-30 09:54:42.442 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.LiquiabseInit] there is no liquibase-xml in local directory!
[]--[]--2020-10-30 09:54:42.458 DEBUG--[  restartedMain]
                com.inspur.iam.adapter.util.VersionUtil  : [VersionUtil.uploadVersion] adaper version: 1.9.7
[]--[]--2020-10-30 09:54:43.109 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 开始创建RestTemplate-->[tokenType=USER,timeZone=GMT,WriteDatesAsTimestamps=null,referer=https://console1.cloud.inspur.com/,connectionRequestTimeout=0,ConnectTimeout=0,ReadTimeout=0]
[]--[]--2020-10-30 09:54:43.118 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 创建RestTemplate完成-->org.keycloak.adapters.springsecurity.client.KeycloakRestTemplate@5008ebc8
[]--[]--2020-10-30 09:54:43.274 DEBUG--[  restartedMain]
                c.i.c.s.m.u.spring.SpringContextHolder   : 注入ApplicationContext到SpringContextHolder:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@731d7310: startup date [Fri Oct 30 09:54:35 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 09:54:43.483 INFO --[  restartedMain]
                o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f1ceaa, org.springframework.security.web.context.SecurityContextPersistenceFilter@7969fcd3, org.springframework.security.web.header.HeaderWriterFilter@41211915, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@6f3c2dfb, org.springframework.security.web.authentication.logout.LogoutFilter@3bfb9b67, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@50b27650, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5bf61890, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4cd50bee, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@53dba981, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@677f778e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4a5efb25, org.springframework.security.web.session.SessionManagementFilter@4b54cb13, org.springframework.security.web.access.ExceptionTranslationFilter@7c6d85da, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@607b054f]
[]--[]--2020-10-30 09:54:43.580 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService  'taskExecutor'
[]--[]--2020-10-30 09:54:43.699 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 09:54:43.815 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@731d7310: startup date [Fri Oct 30 09:54:35 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 09:54:43.828 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Detected ResponseBodyAdvice bean in responseResultBodyAdvisor
[]--[]--2020-10-30 09:54:43.871 WARN --[  restartedMain]
                o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[]--[]--2020-10-30 09:54:43.963 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/download],methods=[GET]}" onto public void com.inspur.cloud.console.device.controller.DeviceController.downloadDevices(javax.servlet.http.HttpServletResponse,java.lang.String,java.lang.String,java.lang.Integer) throws java.io.IOException
[]--[]--2020-10-30 09:54:43.964 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secret],methods=[GET]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecret(java.lang.String,java.lang.String)
[]--[]--2020-10-30 09:54:43.964 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secrets],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecrets(org.springframework.web.multipart.MultipartFile) throws java.io.IOException
[]--[]--2020-10-30 09:54:43.964 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.device.controller.DeviceController.querySecretKeyList(int,int,java.lang.String,java.lang.String,java.lang.Integer)
[]--[]--2020-10-30 09:54:43.966 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<java.util.List<com.inspur.cloud.console.dict.entity.DictItemBean>> com.inspur.cloud.console.dict.controller.DictController.getDictItemByGroupId(java.lang.String)
[]--[]--2020-10-30 09:54:43.966 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictCache()
[]--[]--2020-10-30 09:54:43.966 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictGroupCache(java.lang.String)
[]--[]--2020-10-30 09:54:43.967 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<?> com.inspur.cloud.console.dict.controller.DictController.getDict(java.lang.String)
[]--[]--2020-10-30 09:54:43.967 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}/items/{itemId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<com.inspur.cloud.console.dict.entity.DictItemBean> com.inspur.cloud.console.dict.controller.DictController.getDictItemByKey(java.lang.String,java.lang.String)
[]--[]--2020-10-30 09:54:43.968 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/health-status],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.health.HealthController.healthStatus()
[]--[]--2020-10-30 09:54:43.971 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.productList(java.lang.String,int,int)
[]--[]--2020-10-30 09:54:43.972 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.product.entity.ProductsVO> com.inspur.cloud.console.product.controller.ProductController.productList()
[]--[]--2020-10-30 09:54:43.972 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}],methods=[PUT]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.updateProduct(java.lang.String,com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-10-30 09:54:43.972 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.addProduct(com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-10-30 09:54:43.972 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail],methods=[GET]}" onto public com.inspur.cloud.console.product.entity.ProductDo com.inspur.cloud.console.product.controller.ProductController.productDetails(java.lang.String)
[]--[]--2020-10-30 09:54:43.973 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.queryProductList(int,int,java.lang.String)
[]--[]--2020-10-30 09:54:43.973 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/metrics]}" onto public void com.inspur.cloud.console.prometheus.controller.MetricsController.metrics(javax.servlet.http.HttpServletResponse) throws java.io.IOException
[]--[]--2020-10-30 09:54:43.974 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/create-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.createCA(com.inspur.cloud.console.rootcert.entity.CreateRootCertParams)
[]--[]--2020-10-30 09:54:43.974 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/rootCertList],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.rootcert.entity.RootCert> com.inspur.cloud.console.rootcert.controller.RootCertController.queryRootCertList()
[]--[]--2020-10-30 09:54:43.975 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/import-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.importCA(com.inspur.cloud.console.rootcert.entity.ImportRootCertParams) throws java.io.IOException
[]--[]--2020-10-30 09:54:43.975 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/crt],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCA(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-10-30 09:54:43.978 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/is-open],methods=[GET]}" onto public int com.inspur.cloud.console.usercert.controller.UserCertController.isOpenService()
[]--[]--2020-10-30 09:54:43.978 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/opening],methods=[POST]}" onto public int com.inspur.cloud.console.usercert.controller.UserCertController.openService()
[]--[]--2020-10-30 09:54:43.979 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/number],methods=[GET]}" onto public com.inspur.cloud.console.kgc.entity.ProductAndDeviceNum com.inspur.cloud.console.usercert.controller.UserCertController.calulateNumber()
[]--[]--2020-10-30 09:54:43.979 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/info],methods=[GET]}" onto public com.inspur.cloud.console.usercert.entity.UserCert com.inspur.cloud.console.usercert.controller.UserCertController.getUserCert()
[]--[]--2020-10-30 09:54:43.981 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
[]--[]--2020-10-30 09:54:43.982 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
[]--[]--2020-10-30 09:54:44.039 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 09:54:44.039 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 09:54:44.062 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in clientExceptionHandler
[]--[]--2020-10-30 09:54:44.063 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
[]--[]--2020-10-30 09:54:44.063 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected ResponseBodyAdvice implementation in responseResultBodyAdvisor
[]--[]--2020-10-30 09:54:44.063 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in commonControllerAdvice
[]--[]--2020-10-30 09:54:45.007 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskScheduler : Initializing ExecutorService  'taskScheduler'
[]--[]--2020-10-30 09:54:45.190 INFO --[  restartedMain]
                o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path ''
[]--[]--2020-10-30 09:54:45.205 INFO --[  restartedMain]
                o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping : Mapped "{[/prometheus],methods=[GET],produces=[text/plain;version=0.0.4;charset=utf-8]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
[]--[]--2020-10-30 09:54:45.355 INFO --[  restartedMain]
                o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[]--[]--2020-10-30 09:54:45.585 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
[]--[]--2020-10-30 09:54:45.588 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
[]--[]--2020-10-30 09:54:45.595 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
[]--[]--2020-10-30 09:54:45.600 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
[]--[]--2020-10-30 09:54:45.603 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
[]--[]--2020-10-30 09:54:45.635 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0
[]--[]--2020-10-30 09:54:45.635 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
[]--[]--2020-10-30 09:54:45.635 INFO --[  restartedMain]
                o.s.i.channel.PublishSubscribeChannel    : Channel 'i-id-service.errorChannel' has 1 subscriber(s).
[]--[]--2020-10-30 09:54:45.635 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : started _org.springframework.integration.errorLogger
[]--[]--2020-10-30 09:54:45.635 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
[]--[]--2020-10-30 09:54:45.682 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8762 (http) with context path ''
[]--[]--2020-10-30 09:54:45.687 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Started IIDApplication in 11.843 seconds (JVM running for 12.645)
[]--[]--2020-10-30 09:54:45.691 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...begin...
[]--[]--2020-10-30 09:54:45.793 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...end...
[]--[]--2020-10-30 09:54:46.266 INFO --[RMI TCP Connection(2)-127.0.0.1]
                o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [10.110.64.31:31675]
[]--[]--2020-10-30 09:54:46.271 INFO --[RMI TCP Connection(1)-127.0.0.1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
[]--[]--2020-10-30 09:54:46.271 INFO --[RMI TCP Connection(1)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
[]--[]--2020-10-30 09:54:46.294 INFO --[RMI TCP Connection(1)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 23 ms
[]--[]--2020-10-30 09:54:46.367 INFO --[RMI TCP Connection(2)-127.0.0.1]
                o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#430fcecc:0/SimpleConnection@20ebd5e9 [delegate=amqp://guest@10.110.64.31:31675/, localPort= 54951]
[]--[]--2020-10-30 09:54:46.620 INFO --[RMI TCP Connection(2)-127.0.0.1]
                io.lettuce.core.EpollProvider            : Starting without optional epoll library
[]--[]--2020-10-30 09:54:46.624 INFO --[RMI TCP Connection(2)-127.0.0.1]
                io.lettuce.core.KqueueProvider           : Starting without optional kqueue library
[]--[]--2020-10-30 09:55:12.463 DEBUG--[      Thread-24]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] begin
[]--[]--2020-10-30 09:55:12.887 DEBUG--[      Thread-24]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] request success, responseBody: {"id":"e4e590c17448874b017448a48059000d","authUrl":"https://auth-cloud-dev.inspurcloud.cn/auth","realm":"picp","client":"bss-server","databaseName":"icp_iid","version":"1.9.7","createdAt":"2020-09-01T07:49:34Z","updatedAt":null}
[]--[]--2020-10-30 09:55:15.917 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-begin-1604022915917
[]--[]--2020-10-30 09:55:15.917 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : SecurityContextUtil.cleanSecurityContext()
[]--[]--2020-10-30 09:55:15.918 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] auth: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@548d3fda: Principal: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@e0dccaa; Granted Authorities: ROLE_ACCOUNT_ADMIN, ROLE_RDS_ADMIN, ROLE_UMA_AUTHORIZATION, ROLE_OFFLINE_ACCESS
[]--[]--2020-10-30 09:55:15.918 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] is KeycloakAuthenticationToken
[]--[]--2020-10-30 09:55:15.919 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isServiceAccount: false
[]--[]--2020-10-30 09:55:15.919 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 09:55:15.919 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] begin
[]--[]--2020-10-30 09:55:16.162 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] request success, responseBody: {"id":"1d44bfda-8fd2-4e2b-a99c-21bdf690c753","createdTimestamp":1588827826514,"username":"inspurtest01","enabled":true,"totp":false,"emailVerified":false,"firstName":"","lastName":"","email":"inspurtest01@inspur.com","attributes":{"lastLoginTime":["1604022806263"],"project":["inspurtest01"],"thisLoginTime":["1604022831024"]},"disableableCredentialTypes":["password"],"requiredActions":[],"federatedIdentities":[],"notBefore":1602302654,"access":{"manageGroupMembership":true,"view":true,"mapRoles":true,"impersonate":true,"manage":true}}
[]--[]--2020-10-30 09:55:16.165 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] userMap: {id=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, createdTimestamp=1588827826514, username=inspurtest01, enabled=true, totp=false, emailVerified=false, firstName=, lastName=, email=inspurtest01@inspur.com, attributes={lastLoginTime=[1604022806263], project=[inspurtest01], thisLoginTime=[1604022831024]}, disableableCredentialTypes=[password], requiredActions=[], federatedIdentities=[], notBefore=1602302654, access={manageGroupMembership=true, view=true, mapRoles=true, impersonate=true, manage=true}}
[]--[]--2020-10-30 09:55:16.166 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : {lastLoginTime=[1604022806263], project=[inspurtest01], thisLoginTime=[1604022831024]}
[]--[]--2020-10-30 09:55:16.167 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserGroupsById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 09:55:16.168 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] begin
[]--[]--2020-10-30 09:55:16.207 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] request success, responseBody: [{"id":"047bd339-8ee6-42fe-8618-a99e8279dd79","name":"group-inspurtest01","description":null,"createdAt":0,"accountId":null}]
[]--[]--2020-10-30 09:55:16.216 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isRootUser: true
[]--[]--2020-10-30 09:55:16.218 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-doFilter-1604022916218
[]--[]--2020-10-30 09:55:16.222 DEBUG--[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.doFilter()...
[i-id-service]--[71092518-d274-4c96-be38-9ee4db98eac7]--2020-10-30 09:55:16.227 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : 是否为主账号true
[i-id-service]--[71092518-d274-4c96-be38-9ee4db98eac7]--2020-10-30 09:55:16.229 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : user id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753,Creator Id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753, request url: /iid/v1/root-cert/download/373858911508283392/crt, request id: 71092518-d274-4c96-be38-9ee4db98eac7
[i-id-service]--[71092518-d274-4c96-be38-9ee4db98eac7]--2020-10-30 09:55:16.368 DEBUG--[http-nio-8762-exec-1]
                c.i.iam.adapter.aop.PermissionContextAop : requesturi=/iid/v1/root-cert/download/373858911508283392/crt
[i-id-service]--[71092518-d274-4c96-be38-9ee4db98eac7]--2020-10-30 09:55:16.439 INFO --[http-nio-8762-exec-1]
                o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
[i-id-service]--[71092518-d274-4c96-be38-9ee4db98eac7]--2020-10-30 09:55:16.495 WARN --[http-nio-8762-exec-1]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Resolved exception caused by handler execution: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'user_id' in 'where clause'
### The error may exist in file [/Users/jiangyupeng/Java/Company/iid-service/out/production/resources/mapper/RootCertMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: select         id, name, code, account_id, creator_id, main_pub_enc_key, main_pri_enc_key, main_pub_vfy_key, main_pri_vfy_key,         type, cert_name, rsa_count, password, days, status, source, dns_list, ip_list, subject, created_time, updated_time         from user_cert         where         user_id = ? and id = ?
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'user_id' in 'where clause'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'user_id' in 'where clause'
[]--[]--2020-10-30 09:56:10.253 DEBUG--[      Thread-35]
                c.i.c.s.m.u.spring.SpringContextHolder   : 清除SpringContextHolder中的ApplicationContext:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@731d7310: startup date [Fri Oct 30 09:54:35 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 09:56:11.416 INFO --[      Thread-35]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
[]--[]--2020-10-30 09:56:11.420 INFO --[      Thread-35]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
[]--[]--2020-10-30 09:56:13.703 DEBUG--[localhost-startStop-2]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.destroy()...
[]--[]--2020-10-30 09:56:17.311 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Starting IIDApplication on JiangYuPengdeMacBook-Pro.local with PID 29561 (/Users/jiangyupeng/Java/Company/iid-service/out/production/classes started by jiangyupeng in /Users/jiangyupeng/Java/Company/iid-service)
[]--[]--2020-10-30 09:56:17.313 DEBUG--[  restartedMain]
                com.inspur.cloud.IIDApplication          : Running with Spring Boot v2.0.5.RELEASE, Spring v5.0.9.RELEASE
[]--[]--2020-10-30 09:56:17.313 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : The following profiles are active: prod
[]--[]--2020-10-30 09:56:17.424 INFO --[  restartedMain]
                o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@46e394b0: startup date [Fri Oct 30 09:56:17 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 09:56:18.137 INFO --[  restartedMain]
                o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'httpSessionManager' with a different definition: replacing [Generic bean: class [org.keycloak.adapters.springsecurity.management.HttpSessionManager]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/org.keycloak/keycloak-spring-security-adapter/4.6.0.Final/8a42a701686abd300fd73288f1e1ce9807a95dd1/keycloak-spring-security-adapter-4.6.0.Final.jar!/org/keycloak/adapters/springsecurity/management/HttpSessionManager.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=securityConfig; factoryMethodName=httpSessionManager; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/inspur/iam/adapter/config/SecurityConfig.class]]
[]--[]--2020-10-30 09:56:18.439 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-10-30 09:56:18.465 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-10-30 09:56:18.506 INFO --[  restartedMain]
                o.s.i.config.IntegrationRegistrar        : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
[]--[]--2020-10-30 09:56:18.866 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
[]--[]--2020-10-30 09:56:18.872 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
[]--[]--2020-10-30 09:56:18.967 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$bb05e803] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 09:56:19.060 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f49a29d5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 09:56:19.245 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$5f8be504] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 09:56:19.944 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8762 (http)
[]--[]--2020-10-30 09:56:19.963 INFO --[  restartedMain]
                org.apache.catalina.core.StandardService : Starting service [Tomcat]
[]--[]--2020-10-30 09:56:19.963 INFO --[  restartedMain]
                org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.34
[]--[]--2020-10-30 09:56:19.966 INFO --[localhost-startStop-1]
                o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/jiangyupeng/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
[]--[]--2020-10-30 09:56:20.045 INFO --[localhost-startStop-1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
[]--[]--2020-10-30 09:56:20.045 INFO --[localhost-startStop-1]
                o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2621 ms
[]--[]--2020-10-30 09:56:21.825 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'characterEncodingFilter' to: [/*]
[]--[]--2020-10-30 09:56:21.826 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'webMvcMetricsFilter' to: [/*]
[]--[]--2020-10-30 09:56:21.826 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
[]--[]--2020-10-30 09:56:21.827 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpPutFormContentFilter' to: [/*]
[]--[]--2020-10-30 09:56:21.827 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestContextFilter' to: [/*]
[]--[]--2020-10-30 09:56:21.827 INFO --[localhost-startStop-1]
                o.s.b.w.s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
[]--[]--2020-10-30 09:56:21.828 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'securityContextFilter' to urls: [/*]
[]--[]--2020-10-30 09:56:21.828 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpTraceFilter' to: [/*]
[]--[]--2020-10-30 09:56:21.828 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticationProcessingFilter was not registered (disabled)
[]--[]--2020-10-30 09:56:21.828 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakPreAuthActionsFilter was not registered (disabled)
[]--[]--2020-10-30 09:56:21.828 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticatedActionsFilter was not registered (disabled)
[]--[]--2020-10-30 09:56:21.828 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakSecurityContextRequestFilter was not registered (disabled)
[]--[]--2020-10-30 09:56:21.829 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestFilter' to: [/*]
[]--[]--2020-10-30 09:56:21.829 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'repeatedlyReadFilter' to: [/*]
[]--[]--2020-10-30 09:56:21.829 INFO --[localhost-startStop-1]
                o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
[]--[]--2020-10-30 09:56:21.844 DEBUG--[localhost-startStop-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.init()......
[]--[]--2020-10-30 09:56:21.988 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
[]--[]--2020-10-30 09:56:22.336 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
[]--[]--2020-10-30 09:56:22.385 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
[]--[]--2020-10-30 09:56:22.397 INFO --[  restartedMain]
                o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
[]--[]--2020-10-30 09:56:22.459 INFO --[  restartedMain]
                org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
[]--[]--2020-10-30 09:56:22.460 INFO --[  restartedMain]
                org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
[]--[]--2020-10-30 09:56:22.493 INFO --[  restartedMain]
                org.hibernate.annotations.common.Version : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
[]--[]--2020-10-30 09:56:22.773 INFO --[  restartedMain]
                org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
[]--[]--2020-10-30 09:56:22.922 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
[]--[]--2020-10-30 09:56:22.981 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] there is no iam folder in Resource!
[]--[]--2020-10-30 09:56:22.981 DEBUG--[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] projectPath: /Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/com.inspur.iam/iam-adapter-java/1.9.7/6706f5ae335155c33a45369c1400847f77286669
[]--[]--2020-10-30 09:56:22.981 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.LiquiabseInit] there is no liquibase-xml in local directory!
[]--[]--2020-10-30 09:56:22.994 DEBUG--[  restartedMain]
                com.inspur.iam.adapter.util.VersionUtil  : [VersionUtil.uploadVersion] adaper version: 1.9.7
[]--[]--2020-10-30 09:56:23.535 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 开始创建RestTemplate-->[tokenType=USER,timeZone=GMT,WriteDatesAsTimestamps=null,referer=https://console1.cloud.inspur.com/,connectionRequestTimeout=0,ConnectTimeout=0,ReadTimeout=0]
[]--[]--2020-10-30 09:56:23.542 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 创建RestTemplate完成-->org.keycloak.adapters.springsecurity.client.KeycloakRestTemplate@4b28a4bc
[]--[]--2020-10-30 09:56:23.695 DEBUG--[  restartedMain]
                c.i.c.s.m.u.spring.SpringContextHolder   : 注入ApplicationContext到SpringContextHolder:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@46e394b0: startup date [Fri Oct 30 09:56:17 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 09:56:23.862 INFO --[  restartedMain]
                o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9fba826, org.springframework.security.web.context.SecurityContextPersistenceFilter@2279f576, org.springframework.security.web.header.HeaderWriterFilter@4648199, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@3b3df723, org.springframework.security.web.authentication.logout.LogoutFilter@39b0e72c, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@4fc3256a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4868f99c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@63aa1b49, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@21a0314b, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@6046d4e1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4efc78e5, org.springframework.security.web.session.SessionManagementFilter@7bf071f4, org.springframework.security.web.access.ExceptionTranslationFilter@5dabb95f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1a3dbc6c]
[]--[]--2020-10-30 09:56:23.942 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService  'taskExecutor'
[]--[]--2020-10-30 09:56:24.066 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 09:56:24.176 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@46e394b0: startup date [Fri Oct 30 09:56:17 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 09:56:24.188 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Detected ResponseBodyAdvice bean in responseResultBodyAdvisor
[]--[]--2020-10-30 09:56:24.216 WARN --[  restartedMain]
                o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[]--[]--2020-10-30 09:56:24.296 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.device.controller.DeviceController.querySecretKeyList(int,int,java.lang.String,java.lang.String,java.lang.Integer)
[]--[]--2020-10-30 09:56:24.297 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/download],methods=[GET]}" onto public void com.inspur.cloud.console.device.controller.DeviceController.downloadDevices(javax.servlet.http.HttpServletResponse,java.lang.String,java.lang.String,java.lang.Integer) throws java.io.IOException
[]--[]--2020-10-30 09:56:24.298 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secret],methods=[GET]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecret(java.lang.String,java.lang.String)
[]--[]--2020-10-30 09:56:24.298 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secrets],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecrets(org.springframework.web.multipart.MultipartFile) throws java.io.IOException
[]--[]--2020-10-30 09:56:24.301 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictCache()
[]--[]--2020-10-30 09:56:24.303 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictGroupCache(java.lang.String)
[]--[]--2020-10-30 09:56:24.305 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}/items/{itemId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<com.inspur.cloud.console.dict.entity.DictItemBean> com.inspur.cloud.console.dict.controller.DictController.getDictItemByKey(java.lang.String,java.lang.String)
[]--[]--2020-10-30 09:56:24.306 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<?> com.inspur.cloud.console.dict.controller.DictController.getDict(java.lang.String)
[]--[]--2020-10-30 09:56:24.306 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<java.util.List<com.inspur.cloud.console.dict.entity.DictItemBean>> com.inspur.cloud.console.dict.controller.DictController.getDictItemByGroupId(java.lang.String)
[]--[]--2020-10-30 09:56:24.307 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/health-status],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.health.HealthController.healthStatus()
[]--[]--2020-10-30 09:56:24.311 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.product.entity.ProductsVO> com.inspur.cloud.console.product.controller.ProductController.productList()
[]--[]--2020-10-30 09:56:24.311 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.productList(java.lang.String,int,int)
[]--[]--2020-10-30 09:56:24.312 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.addProduct(com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-10-30 09:56:24.312 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}],methods=[PUT]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.updateProduct(java.lang.String,com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-10-30 09:56:24.312 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail],methods=[GET]}" onto public com.inspur.cloud.console.product.entity.ProductDo com.inspur.cloud.console.product.controller.ProductController.productDetails(java.lang.String)
[]--[]--2020-10-30 09:56:24.313 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.queryProductList(int,int,java.lang.String)
[]--[]--2020-10-30 09:56:24.313 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/metrics]}" onto public void com.inspur.cloud.console.prometheus.controller.MetricsController.metrics(javax.servlet.http.HttpServletResponse) throws java.io.IOException
[]--[]--2020-10-30 09:56:24.314 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/create-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.createCA(com.inspur.cloud.console.rootcert.entity.CreateRootCertParams)
[]--[]--2020-10-30 09:56:24.315 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/rootCertList],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.rootcert.entity.RootCert> com.inspur.cloud.console.rootcert.controller.RootCertController.queryRootCertList()
[]--[]--2020-10-30 09:56:24.315 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/import-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.importCA(com.inspur.cloud.console.rootcert.entity.ImportRootCertParams) throws java.io.IOException
[]--[]--2020-10-30 09:56:24.316 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/crt],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCA(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-10-30 09:56:24.319 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/is-open],methods=[GET]}" onto public int com.inspur.cloud.console.usercert.controller.UserCertController.isOpenService()
[]--[]--2020-10-30 09:56:24.320 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/opening],methods=[POST]}" onto public int com.inspur.cloud.console.usercert.controller.UserCertController.openService()
[]--[]--2020-10-30 09:56:24.320 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/number],methods=[GET]}" onto public com.inspur.cloud.console.kgc.entity.ProductAndDeviceNum com.inspur.cloud.console.usercert.controller.UserCertController.calulateNumber()
[]--[]--2020-10-30 09:56:24.321 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/info],methods=[GET]}" onto public com.inspur.cloud.console.usercert.entity.UserCert com.inspur.cloud.console.usercert.controller.UserCertController.getUserCert()
[]--[]--2020-10-30 09:56:24.323 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
[]--[]--2020-10-30 09:56:24.324 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
[]--[]--2020-10-30 09:56:24.390 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 09:56:24.390 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 09:56:24.412 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in clientExceptionHandler
[]--[]--2020-10-30 09:56:24.412 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
[]--[]--2020-10-30 09:56:24.412 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected ResponseBodyAdvice implementation in responseResultBodyAdvisor
[]--[]--2020-10-30 09:56:24.412 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in commonControllerAdvice
[]--[]--2020-10-30 09:56:25.295 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskScheduler : Initializing ExecutorService  'taskScheduler'
[]--[]--2020-10-30 09:56:25.446 INFO --[  restartedMain]
                o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path ''
[]--[]--2020-10-30 09:56:25.457 INFO --[  restartedMain]
                o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping : Mapped "{[/prometheus],methods=[GET],produces=[text/plain;version=0.0.4;charset=utf-8]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
[]--[]--2020-10-30 09:56:25.607 INFO --[  restartedMain]
                o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[]--[]--2020-10-30 09:56:25.772 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
[]--[]--2020-10-30 09:56:25.774 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
[]--[]--2020-10-30 09:56:25.781 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
[]--[]--2020-10-30 09:56:25.787 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
[]--[]--2020-10-30 09:56:25.789 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
[]--[]--2020-10-30 09:56:25.817 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0
[]--[]--2020-10-30 09:56:25.818 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
[]--[]--2020-10-30 09:56:25.818 INFO --[  restartedMain]
                o.s.i.channel.PublishSubscribeChannel    : Channel 'i-id-service.errorChannel' has 1 subscriber(s).
[]--[]--2020-10-30 09:56:25.818 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : started _org.springframework.integration.errorLogger
[]--[]--2020-10-30 09:56:25.818 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
[]--[]--2020-10-30 09:56:25.860 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8762 (http) with context path ''
[]--[]--2020-10-30 09:56:25.866 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Started IIDApplication in 9.64 seconds (JVM running for 10.224)
[]--[]--2020-10-30 09:56:25.869 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...begin...
[]--[]--2020-10-30 09:56:25.952 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...end...
[]--[]--2020-10-30 09:56:26.134 INFO --[RMI TCP Connection(5)-127.0.0.1]
                o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [10.110.64.31:31675]
[]--[]--2020-10-30 09:56:26.140 INFO --[RMI TCP Connection(4)-127.0.0.1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
[]--[]--2020-10-30 09:56:26.140 INFO --[RMI TCP Connection(4)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
[]--[]--2020-10-30 09:56:26.163 INFO --[RMI TCP Connection(4)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 23 ms
[]--[]--2020-10-30 09:56:26.216 INFO --[RMI TCP Connection(5)-127.0.0.1]
                o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#556624b8:0/SimpleConnection@86d6a53 [delegate=amqp://guest@10.110.64.31:31675/, localPort= 55218]
[]--[]--2020-10-30 09:56:26.359 INFO --[RMI TCP Connection(5)-127.0.0.1]
                io.lettuce.core.EpollProvider            : Starting without optional epoll library
[]--[]--2020-10-30 09:56:26.361 INFO --[RMI TCP Connection(5)-127.0.0.1]
                io.lettuce.core.KqueueProvider           : Starting without optional kqueue library
[]--[]--2020-10-30 09:56:47.130 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-begin-1604023007130
[]--[]--2020-10-30 09:56:47.132 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : SecurityContextUtil.cleanSecurityContext()
[]--[]--2020-10-30 09:56:47.132 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] auth: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@72951fce: Principal: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@1aa1131e; Granted Authorities: ROLE_ACCOUNT_ADMIN, ROLE_RDS_ADMIN, ROLE_UMA_AUTHORIZATION, ROLE_OFFLINE_ACCESS
[]--[]--2020-10-30 09:56:47.133 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] is KeycloakAuthenticationToken
[]--[]--2020-10-30 09:56:47.133 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isServiceAccount: false
[]--[]--2020-10-30 09:56:47.133 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 09:56:47.133 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] begin
[]--[]--2020-10-30 09:56:47.380 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] request success, responseBody: {"id":"1d44bfda-8fd2-4e2b-a99c-21bdf690c753","createdTimestamp":1588827826514,"username":"inspurtest01","enabled":true,"totp":false,"emailVerified":false,"firstName":"","lastName":"","email":"inspurtest01@inspur.com","attributes":{"lastLoginTime":["1604022806263"],"project":["inspurtest01"],"thisLoginTime":["1604022831024"]},"disableableCredentialTypes":["password"],"requiredActions":[],"federatedIdentities":[],"notBefore":1602302654,"access":{"manageGroupMembership":true,"view":true,"mapRoles":true,"impersonate":true,"manage":true}}
[]--[]--2020-10-30 09:56:47.383 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] userMap: {id=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, createdTimestamp=1588827826514, username=inspurtest01, enabled=true, totp=false, emailVerified=false, firstName=, lastName=, email=inspurtest01@inspur.com, attributes={lastLoginTime=[1604022806263], project=[inspurtest01], thisLoginTime=[1604022831024]}, disableableCredentialTypes=[password], requiredActions=[], federatedIdentities=[], notBefore=1602302654, access={manageGroupMembership=true, view=true, mapRoles=true, impersonate=true, manage=true}}
[]--[]--2020-10-30 09:56:47.383 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : {lastLoginTime=[1604022806263], project=[inspurtest01], thisLoginTime=[1604022831024]}
[]--[]--2020-10-30 09:56:47.383 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserGroupsById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 09:56:47.384 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] begin
[]--[]--2020-10-30 09:56:47.436 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] request success, responseBody: [{"id":"047bd339-8ee6-42fe-8618-a99e8279dd79","name":"group-inspurtest01","description":null,"createdAt":0,"accountId":null}]
[]--[]--2020-10-30 09:56:47.443 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isRootUser: true
[]--[]--2020-10-30 09:56:47.444 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-doFilter-1604023007444
[]--[]--2020-10-30 09:56:47.449 DEBUG--[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.doFilter()...
[i-id-service]--[46f59a0d-038a-4fd5-9ee9-2fe1a5e394e6]--2020-10-30 09:56:47.450 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : 是否为主账号true
[i-id-service]--[46f59a0d-038a-4fd5-9ee9-2fe1a5e394e6]--2020-10-30 09:56:47.452 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : user id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753,Creator Id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753, request url: /iid/v1/root-cert/download/373858911508283392/crt, request id: 46f59a0d-038a-4fd5-9ee9-2fe1a5e394e6
[i-id-service]--[46f59a0d-038a-4fd5-9ee9-2fe1a5e394e6]--2020-10-30 09:56:47.539 DEBUG--[http-nio-8762-exec-1]
                c.i.iam.adapter.aop.PermissionContextAop : requesturi=/iid/v1/root-cert/download/373858911508283392/crt
[]--[]--2020-10-30 09:56:52.998 DEBUG--[      Thread-19]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] begin
[]--[]--2020-10-30 09:56:53.070 DEBUG--[      Thread-19]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] request success, responseBody: {"id":"e4e590c17448874b017448a48059000d","authUrl":"https://auth-cloud-dev.inspurcloud.cn/auth","realm":"picp","client":"bss-server","databaseName":"icp_iid","version":"1.9.7","createdAt":"2020-09-01T07:49:34Z","updatedAt":null}
[]--[]--2020-10-30 10:00:31.607 DEBUG--[      Thread-30]
                c.i.c.s.m.u.spring.SpringContextHolder   : 清除SpringContextHolder中的ApplicationContext:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@46e394b0: startup date [Fri Oct 30 09:56:17 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 10:00:32.743 INFO --[      Thread-30]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
[]--[]--2020-10-30 10:00:32.747 INFO --[      Thread-30]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
[]--[]--2020-10-30 10:00:35.038 DEBUG--[localhost-startStop-2]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.destroy()...
[]--[]--2020-10-30 10:16:01.465 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Starting IIDApplication on JiangYuPengdeMacBook-Pro.local with PID 29744 (/Users/jiangyupeng/Java/Company/iid-service/out/production/classes started by jiangyupeng in /Users/jiangyupeng/Java/Company/iid-service)
[]--[]--2020-10-30 10:16:01.468 DEBUG--[  restartedMain]
                com.inspur.cloud.IIDApplication          : Running with Spring Boot v2.0.5.RELEASE, Spring v5.0.9.RELEASE
[]--[]--2020-10-30 10:16:01.468 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : The following profiles are active: prod
[]--[]--2020-10-30 10:16:01.590 INFO --[  restartedMain]
                o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ad2c1a7: startup date [Fri Oct 30 10:16:01 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 10:16:02.289 INFO --[  restartedMain]
                o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'httpSessionManager' with a different definition: replacing [Generic bean: class [org.keycloak.adapters.springsecurity.management.HttpSessionManager]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/org.keycloak/keycloak-spring-security-adapter/4.6.0.Final/8a42a701686abd300fd73288f1e1ce9807a95dd1/keycloak-spring-security-adapter-4.6.0.Final.jar!/org/keycloak/adapters/springsecurity/management/HttpSessionManager.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=securityConfig; factoryMethodName=httpSessionManager; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/inspur/iam/adapter/config/SecurityConfig.class]]
[]--[]--2020-10-30 10:16:02.607 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-10-30 10:16:02.636 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-10-30 10:16:02.677 INFO --[  restartedMain]
                o.s.i.config.IntegrationRegistrar        : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
[]--[]--2020-10-30 10:16:03.057 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
[]--[]--2020-10-30 10:16:03.064 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
[]--[]--2020-10-30 10:16:03.163 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$4c84288b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 10:16:03.256 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$86186a5d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 10:16:03.428 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$f10a258c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 10:16:04.209 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8762 (http)
[]--[]--2020-10-30 10:16:04.227 INFO --[  restartedMain]
                org.apache.catalina.core.StandardService : Starting service [Tomcat]
[]--[]--2020-10-30 10:16:04.227 INFO --[  restartedMain]
                org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.34
[]--[]--2020-10-30 10:16:04.230 INFO --[localhost-startStop-1]
                o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/jiangyupeng/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
[]--[]--2020-10-30 10:16:04.307 INFO --[localhost-startStop-1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
[]--[]--2020-10-30 10:16:04.307 INFO --[localhost-startStop-1]
                o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2717 ms
[]--[]--2020-10-30 10:16:06.025 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'characterEncodingFilter' to: [/*]
[]--[]--2020-10-30 10:16:06.026 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'webMvcMetricsFilter' to: [/*]
[]--[]--2020-10-30 10:16:06.026 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
[]--[]--2020-10-30 10:16:06.027 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpPutFormContentFilter' to: [/*]
[]--[]--2020-10-30 10:16:06.027 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestContextFilter' to: [/*]
[]--[]--2020-10-30 10:16:06.028 INFO --[localhost-startStop-1]
                o.s.b.w.s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
[]--[]--2020-10-30 10:16:06.028 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'securityContextFilter' to urls: [/*]
[]--[]--2020-10-30 10:16:06.028 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpTraceFilter' to: [/*]
[]--[]--2020-10-30 10:16:06.028 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticationProcessingFilter was not registered (disabled)
[]--[]--2020-10-30 10:16:06.028 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakPreAuthActionsFilter was not registered (disabled)
[]--[]--2020-10-30 10:16:06.028 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticatedActionsFilter was not registered (disabled)
[]--[]--2020-10-30 10:16:06.029 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakSecurityContextRequestFilter was not registered (disabled)
[]--[]--2020-10-30 10:16:06.029 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestFilter' to: [/*]
[]--[]--2020-10-30 10:16:06.029 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'repeatedlyReadFilter' to: [/*]
[]--[]--2020-10-30 10:16:06.029 INFO --[localhost-startStop-1]
                o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
[]--[]--2020-10-30 10:16:06.044 DEBUG--[localhost-startStop-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.init()......
[]--[]--2020-10-30 10:16:06.223 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
[]--[]--2020-10-30 10:16:06.902 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
[]--[]--2020-10-30 10:16:06.952 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
[]--[]--2020-10-30 10:16:06.964 INFO --[  restartedMain]
                o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
[]--[]--2020-10-30 10:16:07.020 INFO --[  restartedMain]
                org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
[]--[]--2020-10-30 10:16:07.022 INFO --[  restartedMain]
                org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
[]--[]--2020-10-30 10:16:07.054 INFO --[  restartedMain]
                org.hibernate.annotations.common.Version : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
[]--[]--2020-10-30 10:16:07.325 INFO --[  restartedMain]
                org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
[]--[]--2020-10-30 10:16:07.475 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
[]--[]--2020-10-30 10:16:07.533 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] there is no iam folder in Resource!
[]--[]--2020-10-30 10:16:07.533 DEBUG--[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] projectPath: /Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/com.inspur.iam/iam-adapter-java/1.9.7/6706f5ae335155c33a45369c1400847f77286669
[]--[]--2020-10-30 10:16:07.533 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.LiquiabseInit] there is no liquibase-xml in local directory!
[]--[]--2020-10-30 10:16:07.546 DEBUG--[  restartedMain]
                com.inspur.iam.adapter.util.VersionUtil  : [VersionUtil.uploadVersion] adaper version: 1.9.7
[]--[]--2020-10-30 10:16:08.080 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 开始创建RestTemplate-->[tokenType=USER,timeZone=GMT,WriteDatesAsTimestamps=null,referer=https://console1.cloud.inspur.com/,connectionRequestTimeout=0,ConnectTimeout=0,ReadTimeout=0]
[]--[]--2020-10-30 10:16:08.087 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 创建RestTemplate完成-->org.keycloak.adapters.springsecurity.client.KeycloakRestTemplate@75cddd08
[]--[]--2020-10-30 10:16:08.238 DEBUG--[  restartedMain]
                c.i.c.s.m.u.spring.SpringContextHolder   : 注入ApplicationContext到SpringContextHolder:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ad2c1a7: startup date [Fri Oct 30 10:16:01 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 10:16:08.396 INFO --[  restartedMain]
                o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e3019ce, org.springframework.security.web.context.SecurityContextPersistenceFilter@2560696c, org.springframework.security.web.header.HeaderWriterFilter@45502796, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@56f5aeca, org.springframework.security.web.authentication.logout.LogoutFilter@183ad552, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@3c9a0255, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a1d5992, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4b7f8f2c, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@cdcdb3e, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@24814fc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1d41765e, org.springframework.security.web.session.SessionManagementFilter@42183191, org.springframework.security.web.access.ExceptionTranslationFilter@242f2620, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@62f87be3]
[]--[]--2020-10-30 10:16:08.477 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService  'taskExecutor'
[]--[]--2020-10-30 10:16:08.584 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 10:16:08.674 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ad2c1a7: startup date [Fri Oct 30 10:16:01 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 10:16:08.689 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Detected ResponseBodyAdvice bean in responseResultBodyAdvisor
[]--[]--2020-10-30 10:16:08.723 WARN --[  restartedMain]
                o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[]--[]--2020-10-30 10:16:08.871 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/download],methods=[GET]}" onto public void com.inspur.cloud.console.device.controller.DeviceController.downloadDevices(javax.servlet.http.HttpServletResponse,java.lang.String,java.lang.String,java.lang.Integer) throws java.io.IOException
[]--[]--2020-10-30 10:16:08.872 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secret],methods=[GET]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecret(java.lang.String,java.lang.String)
[]--[]--2020-10-30 10:16:08.872 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secrets],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecrets(org.springframework.web.multipart.MultipartFile) throws java.io.IOException
[]--[]--2020-10-30 10:16:08.872 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.device.controller.DeviceController.querySecretKeyList(int,int,java.lang.String,java.lang.String,java.lang.Integer)
[]--[]--2020-10-30 10:16:08.874 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<java.util.List<com.inspur.cloud.console.dict.entity.DictItemBean>> com.inspur.cloud.console.dict.controller.DictController.getDictItemByGroupId(java.lang.String)
[]--[]--2020-10-30 10:16:08.874 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictCache()
[]--[]--2020-10-30 10:16:08.875 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictGroupCache(java.lang.String)
[]--[]--2020-10-30 10:16:08.875 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}/items/{itemId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<com.inspur.cloud.console.dict.entity.DictItemBean> com.inspur.cloud.console.dict.controller.DictController.getDictItemByKey(java.lang.String,java.lang.String)
[]--[]--2020-10-30 10:16:08.875 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<?> com.inspur.cloud.console.dict.controller.DictController.getDict(java.lang.String)
[]--[]--2020-10-30 10:16:08.876 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/health-status],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.health.HealthController.healthStatus()
[]--[]--2020-10-30 10:16:08.879 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.addProduct(com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-10-30 10:16:08.879 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}],methods=[PUT]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.updateProduct(java.lang.String,com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-10-30 10:16:08.880 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail],methods=[GET]}" onto public com.inspur.cloud.console.product.entity.ProductDo com.inspur.cloud.console.product.controller.ProductController.productDetails(java.lang.String)
[]--[]--2020-10-30 10:16:08.880 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.queryProductList(int,int,java.lang.String)
[]--[]--2020-10-30 10:16:08.880 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.productList(java.lang.String,int,int)
[]--[]--2020-10-30 10:16:08.881 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.product.entity.ProductsVO> com.inspur.cloud.console.product.controller.ProductController.productList()
[]--[]--2020-10-30 10:16:08.881 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/metrics]}" onto public void com.inspur.cloud.console.prometheus.controller.MetricsController.metrics(javax.servlet.http.HttpServletResponse) throws java.io.IOException
[]--[]--2020-10-30 10:16:08.886 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/rootCertList],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.rootcert.entity.RootCert> com.inspur.cloud.console.rootcert.controller.RootCertController.queryRootCertList()
[]--[]--2020-10-30 10:16:08.886 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/create-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.createCA(com.inspur.cloud.console.rootcert.entity.CreateRootCertParams)
[]--[]--2020-10-30 10:16:08.887 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/import-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.importCA(com.inspur.cloud.console.rootcert.entity.ImportRootCertParams) throws java.io.IOException
[]--[]--2020-10-30 10:16:08.887 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/crt],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCaCrt(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-10-30 10:16:08.887 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/key],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCaKey(javax.servlet.http.HttpServletResponse,java.lang.String)
[]--[]--2020-10-30 10:16:08.888 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/is-open],methods=[GET]}" onto public int com.inspur.cloud.console.usercert.controller.UserCertController.isOpenService()
[]--[]--2020-10-30 10:16:08.889 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/opening],methods=[POST]}" onto public int com.inspur.cloud.console.usercert.controller.UserCertController.openService()
[]--[]--2020-10-30 10:16:08.889 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/number],methods=[GET]}" onto public com.inspur.cloud.console.kgc.entity.ProductAndDeviceNum com.inspur.cloud.console.usercert.controller.UserCertController.calulateNumber()
[]--[]--2020-10-30 10:16:08.889 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/info],methods=[GET]}" onto public com.inspur.cloud.console.usercert.entity.UserCert com.inspur.cloud.console.usercert.controller.UserCertController.getUserCert()
[]--[]--2020-10-30 10:16:08.892 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
[]--[]--2020-10-30 10:16:08.895 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
[]--[]--2020-10-30 10:16:08.980 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 10:16:08.980 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 10:16:09.010 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in clientExceptionHandler
[]--[]--2020-10-30 10:16:09.010 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
[]--[]--2020-10-30 10:16:09.011 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected ResponseBodyAdvice implementation in responseResultBodyAdvisor
[]--[]--2020-10-30 10:16:09.011 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in commonControllerAdvice
[]--[]--2020-10-30 10:16:09.833 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskScheduler : Initializing ExecutorService  'taskScheduler'
[]--[]--2020-10-30 10:16:09.980 INFO --[  restartedMain]
                o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path ''
[]--[]--2020-10-30 10:16:09.991 INFO --[  restartedMain]
                o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping : Mapped "{[/prometheus],methods=[GET],produces=[text/plain;version=0.0.4;charset=utf-8]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
[]--[]--2020-10-30 10:16:10.124 INFO --[  restartedMain]
                o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[]--[]--2020-10-30 10:16:10.289 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
[]--[]--2020-10-30 10:16:10.291 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
[]--[]--2020-10-30 10:16:10.298 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
[]--[]--2020-10-30 10:16:10.304 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
[]--[]--2020-10-30 10:16:10.307 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
[]--[]--2020-10-30 10:16:10.335 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0
[]--[]--2020-10-30 10:16:10.336 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
[]--[]--2020-10-30 10:16:10.336 INFO --[  restartedMain]
                o.s.i.channel.PublishSubscribeChannel    : Channel 'i-id-service.errorChannel' has 1 subscriber(s).
[]--[]--2020-10-30 10:16:10.336 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : started _org.springframework.integration.errorLogger
[]--[]--2020-10-30 10:16:10.336 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
[]--[]--2020-10-30 10:16:10.377 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8762 (http) with context path ''
[]--[]--2020-10-30 10:16:10.382 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Started IIDApplication in 10.114 seconds (JVM running for 10.822)
[]--[]--2020-10-30 10:16:10.386 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...begin...
[]--[]--2020-10-30 10:16:10.481 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...end...
[]--[]--2020-10-30 10:16:10.977 INFO --[RMI TCP Connection(1)-127.0.0.1]
                o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [10.110.64.31:31675]
[]--[]--2020-10-30 10:16:10.982 INFO --[RMI TCP Connection(2)-127.0.0.1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
[]--[]--2020-10-30 10:16:10.982 INFO --[RMI TCP Connection(2)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
[]--[]--2020-10-30 10:16:11.003 INFO --[RMI TCP Connection(2)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 20 ms
[]--[]--2020-10-30 10:16:11.093 INFO --[RMI TCP Connection(1)-127.0.0.1]
                o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#4b311b28:0/SimpleConnection@6d87eaea [delegate=amqp://guest@10.110.64.31:31675/, localPort= 58063]
[]--[]--2020-10-30 10:16:11.294 INFO --[RMI TCP Connection(1)-127.0.0.1]
                io.lettuce.core.EpollProvider            : Starting without optional epoll library
[]--[]--2020-10-30 10:16:11.296 INFO --[RMI TCP Connection(1)-127.0.0.1]
                io.lettuce.core.KqueueProvider           : Starting without optional kqueue library
[]--[]--2020-10-30 10:16:20.477 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-begin-1604024180477
[]--[]--2020-10-30 10:16:20.479 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : SecurityContextUtil.cleanSecurityContext()
[]--[]--2020-10-30 10:16:20.479 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] auth: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@26539397: Principal: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@6f304450; Granted Authorities: ROLE_ACCOUNT_ADMIN, ROLE_RDS_ADMIN, ROLE_UMA_AUTHORIZATION, ROLE_OFFLINE_ACCESS
[]--[]--2020-10-30 10:16:20.480 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] is KeycloakAuthenticationToken
[]--[]--2020-10-30 10:16:20.480 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isServiceAccount: false
[]--[]--2020-10-30 10:16:20.480 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 10:16:20.480 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] begin
[]--[]--2020-10-30 10:16:20.733 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] request success, responseBody: {"id":"1d44bfda-8fd2-4e2b-a99c-21bdf690c753","createdTimestamp":1588827826514,"username":"inspurtest01","enabled":true,"totp":false,"emailVerified":false,"firstName":"","lastName":"","email":"inspurtest01@inspur.com","attributes":{"lastLoginTime":["1604024013901"],"project":["inspurtest01"],"thisLoginTime":["1604024028678"]},"disableableCredentialTypes":["password"],"requiredActions":[],"federatedIdentities":[],"notBefore":1602302654,"access":{"manageGroupMembership":true,"view":true,"mapRoles":true,"impersonate":true,"manage":true}}
[]--[]--2020-10-30 10:16:20.735 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] userMap: {id=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, createdTimestamp=1588827826514, username=inspurtest01, enabled=true, totp=false, emailVerified=false, firstName=, lastName=, email=inspurtest01@inspur.com, attributes={lastLoginTime=[1604024013901], project=[inspurtest01], thisLoginTime=[1604024028678]}, disableableCredentialTypes=[password], requiredActions=[], federatedIdentities=[], notBefore=1602302654, access={manageGroupMembership=true, view=true, mapRoles=true, impersonate=true, manage=true}}
[]--[]--2020-10-30 10:16:20.735 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : {lastLoginTime=[1604024013901], project=[inspurtest01], thisLoginTime=[1604024028678]}
[]--[]--2020-10-30 10:16:20.735 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserGroupsById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 10:16:20.735 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] begin
[]--[]--2020-10-30 10:16:20.776 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] request success, responseBody: [{"id":"047bd339-8ee6-42fe-8618-a99e8279dd79","name":"group-inspurtest01","description":null,"createdAt":0,"accountId":null}]
[]--[]--2020-10-30 10:16:20.783 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isRootUser: true
[]--[]--2020-10-30 10:16:20.785 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-doFilter-1604024180785
[]--[]--2020-10-30 10:16:20.794 DEBUG--[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.doFilter()...
[i-id-service]--[040a1950-d8a3-49a8-984f-cc4246c4c0d4]--2020-10-30 10:16:20.795 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : 是否为主账号true
[i-id-service]--[040a1950-d8a3-49a8-984f-cc4246c4c0d4]--2020-10-30 10:16:20.797 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : user id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753,Creator Id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753, request url: /iid/v1/root-cert/download/373858911508283392/crt, request id: 040a1950-d8a3-49a8-984f-cc4246c4c0d4
[i-id-service]--[040a1950-d8a3-49a8-984f-cc4246c4c0d4]--2020-10-30 10:16:20.895 DEBUG--[http-nio-8762-exec-1]
                c.i.iam.adapter.aop.PermissionContextAop : requesturi=/iid/v1/root-cert/download/373858911508283392/crt
[]--[]--2020-10-30 10:16:37.549 DEBUG--[      Thread-21]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] begin
[]--[]--2020-10-30 10:16:37.601 DEBUG--[      Thread-21]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] request success, responseBody: {"id":"e4e590c17448874b017448a48059000d","authUrl":"https://auth-cloud-dev.inspurcloud.cn/auth","realm":"picp","client":"bss-server","databaseName":"icp_iid","version":"1.9.7","createdAt":"2020-09-01T07:49:34Z","updatedAt":null}
[]--[]--2020-10-30 10:17:53.443 INFO --[      Thread-31]
                o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ad2c1a7: startup date [Fri Oct 30 10:16:01 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 10:17:53.459 DEBUG--[      Thread-31]
                c.i.c.s.m.u.spring.SpringContextHolder   : 清除SpringContextHolder中的ApplicationContext:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ad2c1a7: startup date [Fri Oct 30 10:16:01 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 10:17:54.593 INFO --[      Thread-31]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
[]--[]--2020-10-30 10:17:54.597 INFO --[      Thread-31]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
[]--[]--2020-10-30 10:17:56.915 DEBUG--[localhost-startStop-2]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.destroy()...
[]--[]--2020-10-30 10:22:25.380 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Starting IIDApplication on JiangYuPengdeMacBook-Pro.local with PID 29817 (/Users/jiangyupeng/Java/Company/iid-service/out/production/classes started by jiangyupeng in /Users/jiangyupeng/Java/Company/iid-service)
[]--[]--2020-10-30 10:22:25.383 DEBUG--[  restartedMain]
                com.inspur.cloud.IIDApplication          : Running with Spring Boot v2.0.5.RELEASE, Spring v5.0.9.RELEASE
[]--[]--2020-10-30 10:22:25.383 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : The following profiles are active: prod
[]--[]--2020-10-30 10:22:25.504 INFO --[  restartedMain]
                o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@31f53e18: startup date [Fri Oct 30 10:22:25 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 10:22:26.205 INFO --[  restartedMain]
                o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'httpSessionManager' with a different definition: replacing [Generic bean: class [org.keycloak.adapters.springsecurity.management.HttpSessionManager]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/org.keycloak/keycloak-spring-security-adapter/4.6.0.Final/8a42a701686abd300fd73288f1e1ce9807a95dd1/keycloak-spring-security-adapter-4.6.0.Final.jar!/org/keycloak/adapters/springsecurity/management/HttpSessionManager.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=securityConfig; factoryMethodName=httpSessionManager; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/inspur/iam/adapter/config/SecurityConfig.class]]
[]--[]--2020-10-30 10:22:26.490 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-10-30 10:22:26.516 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-10-30 10:22:26.559 INFO --[  restartedMain]
                o.s.i.config.IntegrationRegistrar        : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
[]--[]--2020-10-30 10:22:26.926 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
[]--[]--2020-10-30 10:22:26.931 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
[]--[]--2020-10-30 10:22:27.027 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$a7aa3bb8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 10:22:27.120 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e13e7d8a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 10:22:27.294 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$4c3038b9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 10:22:28.023 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8762 (http)
[]--[]--2020-10-30 10:22:28.042 INFO --[  restartedMain]
                org.apache.catalina.core.StandardService : Starting service [Tomcat]
[]--[]--2020-10-30 10:22:28.043 INFO --[  restartedMain]
                org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.34
[]--[]--2020-10-30 10:22:28.046 INFO --[localhost-startStop-1]
                o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/jiangyupeng/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
[]--[]--2020-10-30 10:22:28.126 INFO --[localhost-startStop-1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
[]--[]--2020-10-30 10:22:28.126 INFO --[localhost-startStop-1]
                o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2622 ms
[]--[]--2020-10-30 10:22:29.875 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'characterEncodingFilter' to: [/*]
[]--[]--2020-10-30 10:22:29.875 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'webMvcMetricsFilter' to: [/*]
[]--[]--2020-10-30 10:22:29.876 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
[]--[]--2020-10-30 10:22:29.876 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpPutFormContentFilter' to: [/*]
[]--[]--2020-10-30 10:22:29.876 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestContextFilter' to: [/*]
[]--[]--2020-10-30 10:22:29.877 INFO --[localhost-startStop-1]
                o.s.b.w.s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
[]--[]--2020-10-30 10:22:29.877 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'securityContextFilter' to urls: [/*]
[]--[]--2020-10-30 10:22:29.877 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpTraceFilter' to: [/*]
[]--[]--2020-10-30 10:22:29.877 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticationProcessingFilter was not registered (disabled)
[]--[]--2020-10-30 10:22:29.878 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakPreAuthActionsFilter was not registered (disabled)
[]--[]--2020-10-30 10:22:29.878 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticatedActionsFilter was not registered (disabled)
[]--[]--2020-10-30 10:22:29.878 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakSecurityContextRequestFilter was not registered (disabled)
[]--[]--2020-10-30 10:22:29.878 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestFilter' to: [/*]
[]--[]--2020-10-30 10:22:29.878 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'repeatedlyReadFilter' to: [/*]
[]--[]--2020-10-30 10:22:29.879 INFO --[localhost-startStop-1]
                o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
[]--[]--2020-10-30 10:22:29.895 DEBUG--[localhost-startStop-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.init()......
[]--[]--2020-10-30 10:22:30.071 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
[]--[]--2020-10-30 10:22:30.659 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
[]--[]--2020-10-30 10:22:30.707 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
[]--[]--2020-10-30 10:22:30.718 INFO --[  restartedMain]
                o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
[]--[]--2020-10-30 10:22:30.775 INFO --[  restartedMain]
                org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
[]--[]--2020-10-30 10:22:30.777 INFO --[  restartedMain]
                org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
[]--[]--2020-10-30 10:22:30.812 INFO --[  restartedMain]
                org.hibernate.annotations.common.Version : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
[]--[]--2020-10-30 10:22:31.105 INFO --[  restartedMain]
                org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
[]--[]--2020-10-30 10:22:31.253 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
[]--[]--2020-10-30 10:22:31.313 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] there is no iam folder in Resource!
[]--[]--2020-10-30 10:22:31.313 DEBUG--[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] projectPath: /Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/com.inspur.iam/iam-adapter-java/1.9.7/6706f5ae335155c33a45369c1400847f77286669
[]--[]--2020-10-30 10:22:31.313 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.LiquiabseInit] there is no liquibase-xml in local directory!
[]--[]--2020-10-30 10:22:31.325 DEBUG--[  restartedMain]
                com.inspur.iam.adapter.util.VersionUtil  : [VersionUtil.uploadVersion] adaper version: 1.9.7
[]--[]--2020-10-30 10:22:31.873 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 开始创建RestTemplate-->[tokenType=USER,timeZone=GMT,WriteDatesAsTimestamps=null,referer=https://console1.cloud.inspur.com/,connectionRequestTimeout=0,ConnectTimeout=0,ReadTimeout=0]
[]--[]--2020-10-30 10:22:31.881 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 创建RestTemplate完成-->org.keycloak.adapters.springsecurity.client.KeycloakRestTemplate@406b16be
[]--[]--2020-10-30 10:22:32.036 DEBUG--[  restartedMain]
                c.i.c.s.m.u.spring.SpringContextHolder   : 注入ApplicationContext到SpringContextHolder:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@31f53e18: startup date [Fri Oct 30 10:22:25 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 10:22:32.200 INFO --[  restartedMain]
                o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c92cb12, org.springframework.security.web.context.SecurityContextPersistenceFilter@663c8dc2, org.springframework.security.web.header.HeaderWriterFilter@68d410e2, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@58a85cc5, org.springframework.security.web.authentication.logout.LogoutFilter@264cacfe, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@5a19089c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19e92813, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@176d8d47, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@2d4226a9, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@696345a3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@233bf426, org.springframework.security.web.session.SessionManagementFilter@7903e21a, org.springframework.security.web.access.ExceptionTranslationFilter@6dde6d6f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@51389072]
[]--[]--2020-10-30 10:22:32.282 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService  'taskExecutor'
[]--[]--2020-10-30 10:22:32.386 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 10:22:32.482 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@31f53e18: startup date [Fri Oct 30 10:22:25 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 10:22:32.495 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Detected ResponseBodyAdvice bean in responseResultBodyAdvisor
[]--[]--2020-10-30 10:22:32.530 WARN --[  restartedMain]
                o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[]--[]--2020-10-30 10:22:32.629 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.device.controller.DeviceController.querySecretKeyList(int,int,java.lang.String,java.lang.String,java.lang.Integer)
[]--[]--2020-10-30 10:22:32.630 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/download],methods=[GET]}" onto public void com.inspur.cloud.console.device.controller.DeviceController.downloadDevices(javax.servlet.http.HttpServletResponse,java.lang.String,java.lang.String,java.lang.Integer) throws java.io.IOException
[]--[]--2020-10-30 10:22:32.631 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secret],methods=[GET]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecret(java.lang.String,java.lang.String)
[]--[]--2020-10-30 10:22:32.631 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secrets],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecrets(org.springframework.web.multipart.MultipartFile) throws java.io.IOException
[]--[]--2020-10-30 10:22:32.633 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<java.util.List<com.inspur.cloud.console.dict.entity.DictItemBean>> com.inspur.cloud.console.dict.controller.DictController.getDictItemByGroupId(java.lang.String)
[]--[]--2020-10-30 10:22:32.633 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictCache()
[]--[]--2020-10-30 10:22:32.634 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictGroupCache(java.lang.String)
[]--[]--2020-10-30 10:22:32.634 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}/items/{itemId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<com.inspur.cloud.console.dict.entity.DictItemBean> com.inspur.cloud.console.dict.controller.DictController.getDictItemByKey(java.lang.String,java.lang.String)
[]--[]--2020-10-30 10:22:32.635 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<?> com.inspur.cloud.console.dict.controller.DictController.getDict(java.lang.String)
[]--[]--2020-10-30 10:22:32.636 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/health-status],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.health.HealthController.healthStatus()
[]--[]--2020-10-30 10:22:32.639 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.addProduct(com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-10-30 10:22:32.639 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}],methods=[PUT]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.updateProduct(java.lang.String,com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-10-30 10:22:32.639 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail],methods=[GET]}" onto public com.inspur.cloud.console.product.entity.ProductDo com.inspur.cloud.console.product.controller.ProductController.productDetails(java.lang.String)
[]--[]--2020-10-30 10:22:32.640 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.queryProductList(int,int,java.lang.String)
[]--[]--2020-10-30 10:22:32.640 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.productList(java.lang.String,int,int)
[]--[]--2020-10-30 10:22:32.640 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.product.entity.ProductsVO> com.inspur.cloud.console.product.controller.ProductController.productList()
[]--[]--2020-10-30 10:22:32.641 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/metrics]}" onto public void com.inspur.cloud.console.prometheus.controller.MetricsController.metrics(javax.servlet.http.HttpServletResponse) throws java.io.IOException
[]--[]--2020-10-30 10:22:32.644 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/rootCertList],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.rootcert.entity.RootCert> com.inspur.cloud.console.rootcert.controller.RootCertController.queryRootCertList()
[]--[]--2020-10-30 10:22:32.644 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/crt],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCaCrt(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-10-30 10:22:32.644 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/key],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCaKey(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-10-30 10:22:32.645 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/create-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.createCA(com.inspur.cloud.console.rootcert.entity.CreateRootCertParams)
[]--[]--2020-10-30 10:22:32.645 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/import-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.importCA(com.inspur.cloud.console.rootcert.entity.ImportRootCertParams) throws java.io.IOException
[]--[]--2020-10-30 10:22:32.646 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/is-open],methods=[GET]}" onto public int com.inspur.cloud.console.usercert.controller.UserCertController.isOpenService()
[]--[]--2020-10-30 10:22:32.647 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/info],methods=[GET]}" onto public com.inspur.cloud.console.usercert.entity.UserCert com.inspur.cloud.console.usercert.controller.UserCertController.getUserCert()
[]--[]--2020-10-30 10:22:32.647 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/opening],methods=[POST]}" onto public int com.inspur.cloud.console.usercert.controller.UserCertController.openService()
[]--[]--2020-10-30 10:22:32.647 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/number],methods=[GET]}" onto public com.inspur.cloud.console.kgc.entity.ProductAndDeviceNum com.inspur.cloud.console.usercert.controller.UserCertController.calulateNumber()
[]--[]--2020-10-30 10:22:32.649 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
[]--[]--2020-10-30 10:22:32.650 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
[]--[]--2020-10-30 10:22:32.719 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 10:22:32.720 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 10:22:32.768 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in clientExceptionHandler
[]--[]--2020-10-30 10:22:32.768 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
[]--[]--2020-10-30 10:22:32.768 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected ResponseBodyAdvice implementation in responseResultBodyAdvisor
[]--[]--2020-10-30 10:22:32.768 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in commonControllerAdvice
[]--[]--2020-10-30 10:22:33.572 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskScheduler : Initializing ExecutorService  'taskScheduler'
[]--[]--2020-10-30 10:22:33.721 INFO --[  restartedMain]
                o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path ''
[]--[]--2020-10-30 10:22:33.732 INFO --[  restartedMain]
                o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping : Mapped "{[/prometheus],methods=[GET],produces=[text/plain;version=0.0.4;charset=utf-8]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
[]--[]--2020-10-30 10:22:33.864 INFO --[  restartedMain]
                o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[]--[]--2020-10-30 10:22:34.035 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
[]--[]--2020-10-30 10:22:34.036 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
[]--[]--2020-10-30 10:22:34.043 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
[]--[]--2020-10-30 10:22:34.048 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
[]--[]--2020-10-30 10:22:34.050 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
[]--[]--2020-10-30 10:22:34.103 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0
[]--[]--2020-10-30 10:22:34.103 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
[]--[]--2020-10-30 10:22:34.103 INFO --[  restartedMain]
                o.s.i.channel.PublishSubscribeChannel    : Channel 'i-id-service.errorChannel' has 1 subscriber(s).
[]--[]--2020-10-30 10:22:34.104 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : started _org.springframework.integration.errorLogger
[]--[]--2020-10-30 10:22:34.104 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
[]--[]--2020-10-30 10:22:34.144 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8762 (http) with context path ''
[]--[]--2020-10-30 10:22:34.149 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Started IIDApplication in 9.978 seconds (JVM running for 10.708)
[]--[]--2020-10-30 10:22:34.153 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...begin...
[]--[]--2020-10-30 10:22:34.271 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...end...
[]--[]--2020-10-30 10:22:34.351 INFO --[RMI TCP Connection(1)-127.0.0.1]
                o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [10.110.64.31:31675]
[]--[]--2020-10-30 10:22:34.357 INFO --[RMI TCP Connection(2)-127.0.0.1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
[]--[]--2020-10-30 10:22:34.357 INFO --[RMI TCP Connection(2)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
[]--[]--2020-10-30 10:22:34.381 INFO --[RMI TCP Connection(2)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 24 ms
[]--[]--2020-10-30 10:22:34.477 INFO --[RMI TCP Connection(1)-127.0.0.1]
                o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6520d8c:0/SimpleConnection@21bd257b [delegate=amqp://guest@10.110.64.31:31675/, localPort= 59033]
[]--[]--2020-10-30 10:22:34.716 INFO --[RMI TCP Connection(1)-127.0.0.1]
                io.lettuce.core.EpollProvider            : Starting without optional epoll library
[]--[]--2020-10-30 10:22:34.717 INFO --[RMI TCP Connection(1)-127.0.0.1]
                io.lettuce.core.KqueueProvider           : Starting without optional kqueue library
[]--[]--2020-10-30 10:22:47.592 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-begin-1604024567592
[]--[]--2020-10-30 10:22:47.594 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : SecurityContextUtil.cleanSecurityContext()
[]--[]--2020-10-30 10:22:47.595 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] auth: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@798fe48b: Principal: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@637de31a; Granted Authorities: ROLE_ACCOUNT_ADMIN, ROLE_RDS_ADMIN, ROLE_UMA_AUTHORIZATION, ROLE_OFFLINE_ACCESS
[]--[]--2020-10-30 10:22:47.595 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] is KeycloakAuthenticationToken
[]--[]--2020-10-30 10:22:47.595 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isServiceAccount: false
[]--[]--2020-10-30 10:22:47.595 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 10:22:47.595 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] begin
[]--[]--2020-10-30 10:22:47.839 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] request success, responseBody: {"id":"1d44bfda-8fd2-4e2b-a99c-21bdf690c753","createdTimestamp":1588827826514,"username":"inspurtest01","enabled":true,"totp":false,"emailVerified":false,"firstName":"","lastName":"","email":"inspurtest01@inspur.com","attributes":{"lastLoginTime":["1604024382834"],"project":["inspurtest01"],"thisLoginTime":["1604024558022"]},"disableableCredentialTypes":["password"],"requiredActions":[],"federatedIdentities":[],"notBefore":1602302654,"access":{"manageGroupMembership":true,"view":true,"mapRoles":true,"impersonate":true,"manage":true}}
[]--[]--2020-10-30 10:22:47.842 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] userMap: {id=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, createdTimestamp=1588827826514, username=inspurtest01, enabled=true, totp=false, emailVerified=false, firstName=, lastName=, email=inspurtest01@inspur.com, attributes={lastLoginTime=[1604024382834], project=[inspurtest01], thisLoginTime=[1604024558022]}, disableableCredentialTypes=[password], requiredActions=[], federatedIdentities=[], notBefore=1602302654, access={manageGroupMembership=true, view=true, mapRoles=true, impersonate=true, manage=true}}
[]--[]--2020-10-30 10:22:47.842 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : {lastLoginTime=[1604024382834], project=[inspurtest01], thisLoginTime=[1604024558022]}
[]--[]--2020-10-30 10:22:47.842 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserGroupsById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 10:22:47.842 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] begin
[]--[]--2020-10-30 10:22:47.887 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] request success, responseBody: [{"id":"047bd339-8ee6-42fe-8618-a99e8279dd79","name":"group-inspurtest01","description":null,"createdAt":0,"accountId":null}]
[]--[]--2020-10-30 10:22:47.895 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isRootUser: true
[]--[]--2020-10-30 10:22:47.897 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-doFilter-1604024567897
[]--[]--2020-10-30 10:22:47.902 DEBUG--[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.doFilter()...
[i-id-service]--[38f01d45-39b6-439a-8adf-66fa9cc6af5a]--2020-10-30 10:22:47.903 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : 是否为主账号true
[i-id-service]--[38f01d45-39b6-439a-8adf-66fa9cc6af5a]--2020-10-30 10:22:47.904 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : user id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753,Creator Id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753, request url: /iid/v1/root-cert/download/373858911508283392/crt, request id: 38f01d45-39b6-439a-8adf-66fa9cc6af5a
[i-id-service]--[38f01d45-39b6-439a-8adf-66fa9cc6af5a]--2020-10-30 10:22:47.990 DEBUG--[http-nio-8762-exec-1]
                c.i.iam.adapter.aop.PermissionContextAop : requesturi=/iid/v1/root-cert/download/373858911508283392/crt
[]--[]--2020-10-30 10:23:01.328 DEBUG--[      Thread-21]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] begin
[]--[]--2020-10-30 10:23:01.402 DEBUG--[      Thread-21]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] request success, responseBody: {"id":"e4e590c17448874b017448a48059000d","authUrl":"https://auth-cloud-dev.inspurcloud.cn/auth","realm":"picp","client":"bss-server","databaseName":"icp_iid","version":"1.9.7","createdAt":"2020-09-01T07:49:34Z","updatedAt":null}
[]--[]--2020-10-30 10:28:23.949 DEBUG--[      Thread-31]
                c.i.c.s.m.u.spring.SpringContextHolder   : 清除SpringContextHolder中的ApplicationContext:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@31f53e18: startup date [Fri Oct 30 10:22:25 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 10:28:25.087 INFO --[      Thread-31]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
[]--[]--2020-10-30 10:28:25.092 INFO --[      Thread-31]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
[]--[]--2020-10-30 10:28:27.402 DEBUG--[localhost-startStop-2]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.destroy()...
[]--[]--2020-10-30 10:43:24.806 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Starting IIDApplication on JiangYuPengdeMacBook-Pro.local with PID 30046 (/Users/jiangyupeng/Java/Company/iid-service/out/production/classes started by jiangyupeng in /Users/jiangyupeng/Java/Company/iid-service)
[]--[]--2020-10-30 10:43:24.809 DEBUG--[  restartedMain]
                com.inspur.cloud.IIDApplication          : Running with Spring Boot v2.0.5.RELEASE, Spring v5.0.9.RELEASE
[]--[]--2020-10-30 10:43:24.809 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : The following profiles are active: prod
[]--[]--2020-10-30 10:43:24.965 INFO --[  restartedMain]
                o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4b1603df: startup date [Fri Oct 30 10:43:24 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 10:43:25.897 INFO --[  restartedMain]
                o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'httpSessionManager' with a different definition: replacing [Generic bean: class [org.keycloak.adapters.springsecurity.management.HttpSessionManager]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/org.keycloak/keycloak-spring-security-adapter/4.6.0.Final/8a42a701686abd300fd73288f1e1ce9807a95dd1/keycloak-spring-security-adapter-4.6.0.Final.jar!/org/keycloak/adapters/springsecurity/management/HttpSessionManager.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=securityConfig; factoryMethodName=httpSessionManager; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/inspur/iam/adapter/config/SecurityConfig.class]]
[]--[]--2020-10-30 10:43:26.334 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-10-30 10:43:26.373 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-10-30 10:43:26.444 INFO --[  restartedMain]
                o.s.i.config.IntegrationRegistrar        : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
[]--[]--2020-10-30 10:43:27.037 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
[]--[]--2020-10-30 10:43:27.047 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
[]--[]--2020-10-30 10:43:27.167 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$2668d054] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 10:43:27.286 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5ffd1226] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 10:43:27.521 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$caeecd55] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 10:43:28.461 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8762 (http)
[]--[]--2020-10-30 10:43:28.488 INFO --[  restartedMain]
                org.apache.catalina.core.StandardService : Starting service [Tomcat]
[]--[]--2020-10-30 10:43:28.488 INFO --[  restartedMain]
                org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.34
[]--[]--2020-10-30 10:43:28.492 INFO --[localhost-startStop-1]
                o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/jiangyupeng/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
[]--[]--2020-10-30 10:43:28.599 INFO --[localhost-startStop-1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
[]--[]--2020-10-30 10:43:28.599 INFO --[localhost-startStop-1]
                o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3634 ms
[]--[]--2020-10-30 10:43:31.004 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'characterEncodingFilter' to: [/*]
[]--[]--2020-10-30 10:43:31.005 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'webMvcMetricsFilter' to: [/*]
[]--[]--2020-10-30 10:43:31.005 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
[]--[]--2020-10-30 10:43:31.005 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpPutFormContentFilter' to: [/*]
[]--[]--2020-10-30 10:43:31.006 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestContextFilter' to: [/*]
[]--[]--2020-10-30 10:43:31.007 INFO --[localhost-startStop-1]
                o.s.b.w.s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
[]--[]--2020-10-30 10:43:31.007 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'securityContextFilter' to urls: [/*]
[]--[]--2020-10-30 10:43:31.007 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpTraceFilter' to: [/*]
[]--[]--2020-10-30 10:43:31.007 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticationProcessingFilter was not registered (disabled)
[]--[]--2020-10-30 10:43:31.007 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakPreAuthActionsFilter was not registered (disabled)
[]--[]--2020-10-30 10:43:31.008 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticatedActionsFilter was not registered (disabled)
[]--[]--2020-10-30 10:43:31.008 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakSecurityContextRequestFilter was not registered (disabled)
[]--[]--2020-10-30 10:43:31.008 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestFilter' to: [/*]
[]--[]--2020-10-30 10:43:31.008 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'repeatedlyReadFilter' to: [/*]
[]--[]--2020-10-30 10:43:31.009 INFO --[localhost-startStop-1]
                o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
[]--[]--2020-10-30 10:43:31.029 DEBUG--[localhost-startStop-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.init()......
[]--[]--2020-10-30 10:43:31.210 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
[]--[]--2020-10-30 10:43:31.734 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
[]--[]--2020-10-30 10:43:31.853 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
[]--[]--2020-10-30 10:43:31.885 INFO --[  restartedMain]
                o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
[]--[]--2020-10-30 10:43:31.976 INFO --[  restartedMain]
                org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
[]--[]--2020-10-30 10:43:31.978 INFO --[  restartedMain]
                org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
[]--[]--2020-10-30 10:43:32.031 INFO --[  restartedMain]
                org.hibernate.annotations.common.Version : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
[]--[]--2020-10-30 10:43:32.194 INFO --[  restartedMain]
                org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
[]--[]--2020-10-30 10:43:32.624 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
[]--[]--2020-10-30 10:43:32.695 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] there is no iam folder in Resource!
[]--[]--2020-10-30 10:43:32.695 DEBUG--[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] projectPath: /Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/com.inspur.iam/iam-adapter-java/1.9.7/6706f5ae335155c33a45369c1400847f77286669
[]--[]--2020-10-30 10:43:32.695 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.LiquiabseInit] there is no liquibase-xml in local directory!
[]--[]--2020-10-30 10:43:32.710 DEBUG--[  restartedMain]
                com.inspur.iam.adapter.util.VersionUtil  : [VersionUtil.uploadVersion] adaper version: 1.9.7
[]--[]--2020-10-30 10:43:33.370 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 开始创建RestTemplate-->[tokenType=USER,timeZone=GMT,WriteDatesAsTimestamps=null,referer=https://console1.cloud.inspur.com/,connectionRequestTimeout=0,ConnectTimeout=0,ReadTimeout=0]
[]--[]--2020-10-30 10:43:33.376 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 创建RestTemplate完成-->org.keycloak.adapters.springsecurity.client.KeycloakRestTemplate@3928741e
[]--[]--2020-10-30 10:43:33.531 DEBUG--[  restartedMain]
                c.i.c.s.m.u.spring.SpringContextHolder   : 注入ApplicationContext到SpringContextHolder:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4b1603df: startup date [Fri Oct 30 10:43:24 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 10:43:33.751 INFO --[  restartedMain]
                o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55146236, org.springframework.security.web.context.SecurityContextPersistenceFilter@5445af1c, org.springframework.security.web.header.HeaderWriterFilter@7635533c, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@607dd9ce, org.springframework.security.web.authentication.logout.LogoutFilter@58dd0605, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@3cfea61c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@20beb156, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7edafb74, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@5b0a60fa, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@5cc3e4ef, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b5410f0, org.springframework.security.web.session.SessionManagementFilter@4f59dc31, org.springframework.security.web.access.ExceptionTranslationFilter@62d6e09d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5c48ef6b]
[]--[]--2020-10-30 10:43:33.851 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService  'taskExecutor'
[]--[]--2020-10-30 10:43:33.975 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 10:43:34.078 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4b1603df: startup date [Fri Oct 30 10:43:24 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 10:43:34.091 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Detected ResponseBodyAdvice bean in responseResultBodyAdvisor
[]--[]--2020-10-30 10:43:34.128 WARN --[  restartedMain]
                o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[]--[]--2020-10-30 10:43:34.225 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.device.controller.DeviceController.querySecretKeyList(int,int,java.lang.String,java.lang.String,java.lang.Integer)
[]--[]--2020-10-30 10:43:34.226 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/download],methods=[GET]}" onto public void com.inspur.cloud.console.device.controller.DeviceController.downloadDevices(javax.servlet.http.HttpServletResponse,java.lang.String,java.lang.String,java.lang.Integer) throws java.io.IOException
[]--[]--2020-10-30 10:43:34.226 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secret],methods=[GET]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecret(java.lang.String,java.lang.String)
[]--[]--2020-10-30 10:43:34.227 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secrets],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecrets(org.springframework.web.multipart.MultipartFile) throws java.io.IOException
[]--[]--2020-10-30 10:43:34.228 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<java.util.List<com.inspur.cloud.console.dict.entity.DictItemBean>> com.inspur.cloud.console.dict.controller.DictController.getDictItemByGroupId(java.lang.String)
[]--[]--2020-10-30 10:43:34.229 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictCache()
[]--[]--2020-10-30 10:43:34.229 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictGroupCache(java.lang.String)
[]--[]--2020-10-30 10:43:34.230 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}/items/{itemId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<com.inspur.cloud.console.dict.entity.DictItemBean> com.inspur.cloud.console.dict.controller.DictController.getDictItemByKey(java.lang.String,java.lang.String)
[]--[]--2020-10-30 10:43:34.230 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<?> com.inspur.cloud.console.dict.controller.DictController.getDict(java.lang.String)
[]--[]--2020-10-30 10:43:34.231 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/health-status],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.health.HealthController.healthStatus()
[]--[]--2020-10-30 10:43:34.234 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.product.entity.ProductsVO> com.inspur.cloud.console.product.controller.ProductController.productList()
[]--[]--2020-10-30 10:43:34.234 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.productList(java.lang.String,int,int)
[]--[]--2020-10-30 10:43:34.235 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.addProduct(com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-10-30 10:43:34.235 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}],methods=[PUT]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.updateProduct(java.lang.String,com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-10-30 10:43:34.235 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail],methods=[GET]}" onto public com.inspur.cloud.console.product.entity.ProductDo com.inspur.cloud.console.product.controller.ProductController.productDetails(java.lang.String)
[]--[]--2020-10-30 10:43:34.235 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.queryProductList(int,int,java.lang.String)
[]--[]--2020-10-30 10:43:34.236 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/metrics]}" onto public void com.inspur.cloud.console.prometheus.controller.MetricsController.metrics(javax.servlet.http.HttpServletResponse) throws java.io.IOException
[]--[]--2020-10-30 10:43:34.238 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/rootCertList],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.rootcert.entity.RootCert> com.inspur.cloud.console.rootcert.controller.RootCertController.queryRootCertList()
[]--[]--2020-10-30 10:43:34.239 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/create-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.createCA(com.inspur.cloud.console.rootcert.entity.CreateRootCertParams)
[]--[]--2020-10-30 10:43:34.239 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/import-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.importCA(com.inspur.cloud.console.rootcert.entity.ImportRootCertParams) throws java.io.IOException
[]--[]--2020-10-30 10:43:34.240 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/crt],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCaCrt(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-10-30 10:43:34.240 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/key],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCaKey(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-10-30 10:43:34.241 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/info],methods=[GET]}" onto public com.inspur.cloud.console.usercert.entity.UserCert com.inspur.cloud.console.usercert.controller.UserCertController.getUserCert()
[]--[]--2020-10-30 10:43:34.242 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/is-open],methods=[GET]}" onto public int com.inspur.cloud.console.usercert.controller.UserCertController.isOpenService()
[]--[]--2020-10-30 10:43:34.242 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/opening],methods=[POST]}" onto public int com.inspur.cloud.console.usercert.controller.UserCertController.openService()
[]--[]--2020-10-30 10:43:34.243 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/number],methods=[GET]}" onto public com.inspur.cloud.console.kgc.entity.ProductAndDeviceNum com.inspur.cloud.console.usercert.controller.UserCertController.calulateNumber()
[]--[]--2020-10-30 10:43:34.245 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
[]--[]--2020-10-30 10:43:34.246 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
[]--[]--2020-10-30 10:43:34.303 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 10:43:34.303 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 10:43:34.325 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in clientExceptionHandler
[]--[]--2020-10-30 10:43:34.325 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
[]--[]--2020-10-30 10:43:34.325 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected ResponseBodyAdvice implementation in responseResultBodyAdvisor
[]--[]--2020-10-30 10:43:34.325 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in commonControllerAdvice
[]--[]--2020-10-30 10:43:35.459 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskScheduler : Initializing ExecutorService  'taskScheduler'
[]--[]--2020-10-30 10:43:35.631 INFO --[  restartedMain]
                o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path ''
[]--[]--2020-10-30 10:43:35.644 INFO --[  restartedMain]
                o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping : Mapped "{[/prometheus],methods=[GET],produces=[text/plain;version=0.0.4;charset=utf-8]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
[]--[]--2020-10-30 10:43:35.778 INFO --[  restartedMain]
                o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[]--[]--2020-10-30 10:43:35.963 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
[]--[]--2020-10-30 10:43:35.965 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
[]--[]--2020-10-30 10:43:35.972 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
[]--[]--2020-10-30 10:43:35.977 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
[]--[]--2020-10-30 10:43:35.979 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
[]--[]--2020-10-30 10:43:36.012 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0
[]--[]--2020-10-30 10:43:36.012 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
[]--[]--2020-10-30 10:43:36.012 INFO --[  restartedMain]
                o.s.i.channel.PublishSubscribeChannel    : Channel 'i-id-service.errorChannel' has 1 subscriber(s).
[]--[]--2020-10-30 10:43:36.012 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : started _org.springframework.integration.errorLogger
[]--[]--2020-10-30 10:43:36.012 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
[]--[]--2020-10-30 10:43:36.058 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8762 (http) with context path ''
[]--[]--2020-10-30 10:43:36.062 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Started IIDApplication in 12.578 seconds (JVM running for 13.189)
[]--[]--2020-10-30 10:43:36.065 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...begin...
[]--[]--2020-10-30 10:43:36.178 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...end...
[]--[]--2020-10-30 10:43:36.539 INFO --[RMI TCP Connection(5)-127.0.0.1]
                o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [10.110.64.31:31675]
[]--[]--2020-10-30 10:43:36.544 INFO --[RMI TCP Connection(4)-127.0.0.1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
[]--[]--2020-10-30 10:43:36.544 INFO --[RMI TCP Connection(4)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
[]--[]--2020-10-30 10:43:36.567 INFO --[RMI TCP Connection(4)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 22 ms
[]--[]--2020-10-30 10:43:36.756 INFO --[RMI TCP Connection(5)-127.0.0.1]
                o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#355da11b:0/SimpleConnection@609e72d2 [delegate=amqp://guest@10.110.64.31:31675/, localPort= 61254]
[]--[]--2020-10-30 10:43:37.044 INFO --[RMI TCP Connection(5)-127.0.0.1]
                io.lettuce.core.EpollProvider            : Starting without optional epoll library
[]--[]--2020-10-30 10:43:37.045 INFO --[RMI TCP Connection(5)-127.0.0.1]
                io.lettuce.core.KqueueProvider           : Starting without optional kqueue library
[]--[]--2020-10-30 10:43:50.752 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-begin-1604025830752
[]--[]--2020-10-30 10:43:50.754 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : SecurityContextUtil.cleanSecurityContext()
[]--[]--2020-10-30 10:43:50.755 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] auth: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@2b927508: Principal: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@6c4927c5; Granted Authorities: ROLE_ACCOUNT_ADMIN, ROLE_RDS_ADMIN, ROLE_UMA_AUTHORIZATION, ROLE_OFFLINE_ACCESS
[]--[]--2020-10-30 10:43:50.755 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] is KeycloakAuthenticationToken
[]--[]--2020-10-30 10:43:50.755 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isServiceAccount: false
[]--[]--2020-10-30 10:43:50.755 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 10:43:50.756 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] begin
[]--[]--2020-10-30 10:43:51.029 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] request success, responseBody: {"id":"1d44bfda-8fd2-4e2b-a99c-21bdf690c753","createdTimestamp":1588827826514,"username":"inspurtest01","enabled":true,"totp":false,"emailVerified":false,"firstName":"","lastName":"","email":"inspurtest01@inspur.com","attributes":{"lastLoginTime":["1604025704630"],"project":["inspurtest01"],"thisLoginTime":["1604025819875"]},"disableableCredentialTypes":["password"],"requiredActions":[],"federatedIdentities":[],"notBefore":1602302654,"access":{"manageGroupMembership":true,"view":true,"mapRoles":true,"impersonate":true,"manage":true}}
[]--[]--2020-10-30 10:43:51.031 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] userMap: {id=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, createdTimestamp=1588827826514, username=inspurtest01, enabled=true, totp=false, emailVerified=false, firstName=, lastName=, email=inspurtest01@inspur.com, attributes={lastLoginTime=[1604025704630], project=[inspurtest01], thisLoginTime=[1604025819875]}, disableableCredentialTypes=[password], requiredActions=[], federatedIdentities=[], notBefore=1602302654, access={manageGroupMembership=true, view=true, mapRoles=true, impersonate=true, manage=true}}
[]--[]--2020-10-30 10:43:51.031 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : {lastLoginTime=[1604025704630], project=[inspurtest01], thisLoginTime=[1604025819875]}
[]--[]--2020-10-30 10:43:51.031 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserGroupsById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 10:43:51.031 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] begin
[]--[]--2020-10-30 10:43:51.065 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] request success, responseBody: [{"id":"047bd339-8ee6-42fe-8618-a99e8279dd79","name":"group-inspurtest01","description":null,"createdAt":0,"accountId":null}]
[]--[]--2020-10-30 10:43:51.071 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isRootUser: true
[]--[]--2020-10-30 10:43:51.073 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-doFilter-1604025831073
[]--[]--2020-10-30 10:43:51.076 DEBUG--[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.doFilter()...
[i-id-service]--[db10d77a-37aa-49ca-841c-d8c4d16add2c]--2020-10-30 10:43:51.077 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : 是否为主账号true
[i-id-service]--[db10d77a-37aa-49ca-841c-d8c4d16add2c]--2020-10-30 10:43:51.078 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : user id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753,Creator Id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753, request url: /iid/v1/root-cert/download/373858911508283392/crt, request id: db10d77a-37aa-49ca-841c-d8c4d16add2c
[i-id-service]--[db10d77a-37aa-49ca-841c-d8c4d16add2c]--2020-10-30 10:43:51.198 DEBUG--[http-nio-8762-exec-1]
                c.i.iam.adapter.aop.PermissionContextAop : requesturi=/iid/v1/root-cert/download/373858911508283392/crt
[]--[]--2020-10-30 10:44:02.715 DEBUG--[      Thread-24]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] begin
[]--[]--2020-10-30 10:44:02.796 DEBUG--[      Thread-24]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] request success, responseBody: {"id":"e4e590c17448874b017448a48059000d","authUrl":"https://auth-cloud-dev.inspurcloud.cn/auth","realm":"picp","client":"bss-server","databaseName":"icp_iid","version":"1.9.7","createdAt":"2020-09-01T07:49:34Z","updatedAt":null}
[]--[]--2020-10-30 10:51:09.745 DEBUG--[      Thread-36]
                c.i.c.s.m.u.spring.SpringContextHolder   : 清除SpringContextHolder中的ApplicationContext:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4b1603df: startup date [Fri Oct 30 10:43:24 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 10:51:10.912 INFO --[      Thread-36]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
[]--[]--2020-10-30 10:51:10.919 INFO --[      Thread-36]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
[]--[]--2020-10-30 10:51:13.219 DEBUG--[localhost-startStop-2]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.destroy()...
[]--[]--2020-10-30 10:51:18.357 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Starting IIDApplication on JiangYuPengdeMacBook-Pro.local with PID 30137 (/Users/jiangyupeng/Java/Company/iid-service/out/production/classes started by jiangyupeng in /Users/jiangyupeng/Java/Company/iid-service)
[]--[]--2020-10-30 10:51:18.359 DEBUG--[  restartedMain]
                com.inspur.cloud.IIDApplication          : Running with Spring Boot v2.0.5.RELEASE, Spring v5.0.9.RELEASE
[]--[]--2020-10-30 10:51:18.359 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : The following profiles are active: prod
[]--[]--2020-10-30 10:51:18.470 INFO --[  restartedMain]
                o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c66dde0: startup date [Fri Oct 30 10:51:18 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 10:51:19.164 INFO --[  restartedMain]
                o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'httpSessionManager' with a different definition: replacing [Generic bean: class [org.keycloak.adapters.springsecurity.management.HttpSessionManager]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/org.keycloak/keycloak-spring-security-adapter/4.6.0.Final/8a42a701686abd300fd73288f1e1ce9807a95dd1/keycloak-spring-security-adapter-4.6.0.Final.jar!/org/keycloak/adapters/springsecurity/management/HttpSessionManager.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=securityConfig; factoryMethodName=httpSessionManager; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/inspur/iam/adapter/config/SecurityConfig.class]]
[]--[]--2020-10-30 10:51:19.446 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-10-30 10:51:19.472 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-10-30 10:51:19.515 INFO --[  restartedMain]
                o.s.i.config.IntegrationRegistrar        : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
[]--[]--2020-10-30 10:51:19.878 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
[]--[]--2020-10-30 10:51:19.883 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
[]--[]--2020-10-30 10:51:19.976 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$b6e97c2c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 10:51:20.069 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f07dbdfe] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 10:51:20.244 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$5b6f792d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 10:51:20.952 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8762 (http)
[]--[]--2020-10-30 10:51:20.970 INFO --[  restartedMain]
                org.apache.catalina.core.StandardService : Starting service [Tomcat]
[]--[]--2020-10-30 10:51:20.970 INFO --[  restartedMain]
                org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.34
[]--[]--2020-10-30 10:51:20.973 INFO --[localhost-startStop-1]
                o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/jiangyupeng/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
[]--[]--2020-10-30 10:51:21.055 INFO --[localhost-startStop-1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
[]--[]--2020-10-30 10:51:21.056 INFO --[localhost-startStop-1]
                o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2585 ms
[]--[]--2020-10-30 10:51:22.767 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'characterEncodingFilter' to: [/*]
[]--[]--2020-10-30 10:51:22.767 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'webMvcMetricsFilter' to: [/*]
[]--[]--2020-10-30 10:51:22.767 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
[]--[]--2020-10-30 10:51:22.768 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpPutFormContentFilter' to: [/*]
[]--[]--2020-10-30 10:51:22.768 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestContextFilter' to: [/*]
[]--[]--2020-10-30 10:51:22.769 INFO --[localhost-startStop-1]
                o.s.b.w.s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
[]--[]--2020-10-30 10:51:22.769 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'securityContextFilter' to urls: [/*]
[]--[]--2020-10-30 10:51:22.769 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpTraceFilter' to: [/*]
[]--[]--2020-10-30 10:51:22.769 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticationProcessingFilter was not registered (disabled)
[]--[]--2020-10-30 10:51:22.770 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakPreAuthActionsFilter was not registered (disabled)
[]--[]--2020-10-30 10:51:22.770 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticatedActionsFilter was not registered (disabled)
[]--[]--2020-10-30 10:51:22.770 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakSecurityContextRequestFilter was not registered (disabled)
[]--[]--2020-10-30 10:51:22.770 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestFilter' to: [/*]
[]--[]--2020-10-30 10:51:22.770 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'repeatedlyReadFilter' to: [/*]
[]--[]--2020-10-30 10:51:22.771 INFO --[localhost-startStop-1]
                o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
[]--[]--2020-10-30 10:51:22.786 DEBUG--[localhost-startStop-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.init()......
[]--[]--2020-10-30 10:51:22.976 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
[]--[]--2020-10-30 10:51:23.527 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
[]--[]--2020-10-30 10:51:23.584 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
[]--[]--2020-10-30 10:51:23.597 INFO --[  restartedMain]
                o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
[]--[]--2020-10-30 10:51:23.656 INFO --[  restartedMain]
                org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
[]--[]--2020-10-30 10:51:23.657 INFO --[  restartedMain]
                org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
[]--[]--2020-10-30 10:51:23.694 INFO --[  restartedMain]
                org.hibernate.annotations.common.Version : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
[]--[]--2020-10-30 10:51:23.969 INFO --[  restartedMain]
                org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
[]--[]--2020-10-30 10:51:24.122 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
[]--[]--2020-10-30 10:51:24.181 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] there is no iam folder in Resource!
[]--[]--2020-10-30 10:51:24.181 DEBUG--[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] projectPath: /Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/com.inspur.iam/iam-adapter-java/1.9.7/6706f5ae335155c33a45369c1400847f77286669
[]--[]--2020-10-30 10:51:24.181 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.LiquiabseInit] there is no liquibase-xml in local directory!
[]--[]--2020-10-30 10:51:24.194 DEBUG--[  restartedMain]
                com.inspur.iam.adapter.util.VersionUtil  : [VersionUtil.uploadVersion] adaper version: 1.9.7
[]--[]--2020-10-30 10:51:24.738 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 开始创建RestTemplate-->[tokenType=USER,timeZone=GMT,WriteDatesAsTimestamps=null,referer=https://console1.cloud.inspur.com/,connectionRequestTimeout=0,ConnectTimeout=0,ReadTimeout=0]
[]--[]--2020-10-30 10:51:24.745 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 创建RestTemplate完成-->org.keycloak.adapters.springsecurity.client.KeycloakRestTemplate@39990216
[]--[]--2020-10-30 10:51:24.897 DEBUG--[  restartedMain]
                c.i.c.s.m.u.spring.SpringContextHolder   : 注入ApplicationContext到SpringContextHolder:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c66dde0: startup date [Fri Oct 30 10:51:18 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 10:51:25.062 INFO --[  restartedMain]
                o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6fba4110, org.springframework.security.web.context.SecurityContextPersistenceFilter@7324efd1, org.springframework.security.web.header.HeaderWriterFilter@311c8492, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@44b79f7e, org.springframework.security.web.authentication.logout.LogoutFilter@4b84bfca, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@6c3d00bd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f98c996, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@66de4a69, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@5f55f7ce, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@7cfd2325, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@510452e9, org.springframework.security.web.session.SessionManagementFilter@12aecad7, org.springframework.security.web.access.ExceptionTranslationFilter@6807cc2e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@569fbb38]
[]--[]--2020-10-30 10:51:25.146 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService  'taskExecutor'
[]--[]--2020-10-30 10:51:25.248 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 10:51:25.332 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c66dde0: startup date [Fri Oct 30 10:51:18 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 10:51:25.345 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Detected ResponseBodyAdvice bean in responseResultBodyAdvisor
[]--[]--2020-10-30 10:51:25.379 WARN --[  restartedMain]
                o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[]--[]--2020-10-30 10:51:25.447 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.device.controller.DeviceController.querySecretKeyList(int,int,java.lang.String,java.lang.String,java.lang.Integer)
[]--[]--2020-10-30 10:51:25.448 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/download],methods=[GET]}" onto public void com.inspur.cloud.console.device.controller.DeviceController.downloadDevices(javax.servlet.http.HttpServletResponse,java.lang.String,java.lang.String,java.lang.Integer) throws java.io.IOException
[]--[]--2020-10-30 10:51:25.448 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secret],methods=[GET]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecret(java.lang.String,java.lang.String)
[]--[]--2020-10-30 10:51:25.449 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secrets],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecrets(org.springframework.web.multipart.MultipartFile) throws java.io.IOException
[]--[]--2020-10-30 10:51:25.450 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<java.util.List<com.inspur.cloud.console.dict.entity.DictItemBean>> com.inspur.cloud.console.dict.controller.DictController.getDictItemByGroupId(java.lang.String)
[]--[]--2020-10-30 10:51:25.451 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictCache()
[]--[]--2020-10-30 10:51:25.451 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictGroupCache(java.lang.String)
[]--[]--2020-10-30 10:51:25.451 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}/items/{itemId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<com.inspur.cloud.console.dict.entity.DictItemBean> com.inspur.cloud.console.dict.controller.DictController.getDictItemByKey(java.lang.String,java.lang.String)
[]--[]--2020-10-30 10:51:25.452 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<?> com.inspur.cloud.console.dict.controller.DictController.getDict(java.lang.String)
[]--[]--2020-10-30 10:51:25.452 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/health-status],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.health.HealthController.healthStatus()
[]--[]--2020-10-30 10:51:25.455 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.queryProductList(int,int,java.lang.String)
[]--[]--2020-10-30 10:51:25.456 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.addProduct(com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-10-30 10:51:25.456 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}],methods=[PUT]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.updateProduct(java.lang.String,com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-10-30 10:51:25.456 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail],methods=[GET]}" onto public com.inspur.cloud.console.product.entity.ProductDo com.inspur.cloud.console.product.controller.ProductController.productDetails(java.lang.String)
[]--[]--2020-10-30 10:51:25.456 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.productList(java.lang.String,int,int)
[]--[]--2020-10-30 10:51:25.457 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.product.entity.ProductsVO> com.inspur.cloud.console.product.controller.ProductController.productList()
[]--[]--2020-10-30 10:51:25.457 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/metrics]}" onto public void com.inspur.cloud.console.prometheus.controller.MetricsController.metrics(javax.servlet.http.HttpServletResponse) throws java.io.IOException
[]--[]--2020-10-30 10:51:25.460 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/crt],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCaCrt(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-10-30 10:51:25.460 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/rootCertList],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.rootcert.entity.RootCert> com.inspur.cloud.console.rootcert.controller.RootCertController.queryRootCertList()
[]--[]--2020-10-30 10:51:25.461 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/import-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.importCA(com.inspur.cloud.console.rootcert.entity.ImportRootCertParams) throws java.io.IOException
[]--[]--2020-10-30 10:51:25.461 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/key],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCaKey(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-10-30 10:51:25.461 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/create-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.createCA(com.inspur.cloud.console.rootcert.entity.CreateRootCertParams)
[]--[]--2020-10-30 10:51:25.462 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/info],methods=[GET]}" onto public com.inspur.cloud.console.usercert.entity.UserCert com.inspur.cloud.console.usercert.controller.UserCertController.getUserCert()
[]--[]--2020-10-30 10:51:25.463 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/is-open],methods=[GET]}" onto public int com.inspur.cloud.console.usercert.controller.UserCertController.isOpenService()
[]--[]--2020-10-30 10:51:25.463 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/opening],methods=[POST]}" onto public int com.inspur.cloud.console.usercert.controller.UserCertController.openService()
[]--[]--2020-10-30 10:51:25.463 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/number],methods=[GET]}" onto public com.inspur.cloud.console.kgc.entity.ProductAndDeviceNum com.inspur.cloud.console.usercert.controller.UserCertController.calulateNumber()
[]--[]--2020-10-30 10:51:25.465 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
[]--[]--2020-10-30 10:51:25.466 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
[]--[]--2020-10-30 10:51:25.527 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 10:51:25.527 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 10:51:25.553 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in clientExceptionHandler
[]--[]--2020-10-30 10:51:25.553 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
[]--[]--2020-10-30 10:51:25.553 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected ResponseBodyAdvice implementation in responseResultBodyAdvisor
[]--[]--2020-10-30 10:51:25.553 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in commonControllerAdvice
[]--[]--2020-10-30 10:51:26.387 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskScheduler : Initializing ExecutorService  'taskScheduler'
[]--[]--2020-10-30 10:51:26.537 INFO --[  restartedMain]
                o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path ''
[]--[]--2020-10-30 10:51:26.551 INFO --[  restartedMain]
                o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping : Mapped "{[/prometheus],methods=[GET],produces=[text/plain;version=0.0.4;charset=utf-8]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
[]--[]--2020-10-30 10:51:26.697 INFO --[  restartedMain]
                o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[]--[]--2020-10-30 10:51:26.875 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
[]--[]--2020-10-30 10:51:26.877 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
[]--[]--2020-10-30 10:51:26.884 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
[]--[]--2020-10-30 10:51:26.889 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
[]--[]--2020-10-30 10:51:26.891 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
[]--[]--2020-10-30 10:51:26.923 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0
[]--[]--2020-10-30 10:51:26.924 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
[]--[]--2020-10-30 10:51:26.924 INFO --[  restartedMain]
                o.s.i.channel.PublishSubscribeChannel    : Channel 'i-id-service.errorChannel' has 1 subscriber(s).
[]--[]--2020-10-30 10:51:26.924 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : started _org.springframework.integration.errorLogger
[]--[]--2020-10-30 10:51:26.924 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
[]--[]--2020-10-30 10:51:26.965 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8762 (http) with context path ''
[]--[]--2020-10-30 10:51:26.971 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Started IIDApplication in 9.729 seconds (JVM running for 10.454)
[]--[]--2020-10-30 10:51:26.976 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...begin...
[]--[]--2020-10-30 10:51:27.050 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...end...
[]--[]--2020-10-30 10:51:27.535 INFO --[RMI TCP Connection(3)-127.0.0.1]
                o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [10.110.64.31:31675]
[]--[]--2020-10-30 10:51:27.540 INFO --[RMI TCP Connection(2)-127.0.0.1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
[]--[]--2020-10-30 10:51:27.540 INFO --[RMI TCP Connection(2)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
[]--[]--2020-10-30 10:51:27.565 INFO --[RMI TCP Connection(2)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 24 ms
[]--[]--2020-10-30 10:51:27.629 INFO --[RMI TCP Connection(3)-127.0.0.1]
                o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2914d3c1:0/SimpleConnection@530a6495 [delegate=amqp://guest@10.110.64.31:31675/, localPort= 62425]
[]--[]--2020-10-30 10:51:27.822 INFO --[RMI TCP Connection(3)-127.0.0.1]
                io.lettuce.core.EpollProvider            : Starting without optional epoll library
[]--[]--2020-10-30 10:51:27.828 INFO --[RMI TCP Connection(3)-127.0.0.1]
                io.lettuce.core.KqueueProvider           : Starting without optional kqueue library
[]--[]--2020-10-30 10:51:36.041 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-begin-1604026296041
[]--[]--2020-10-30 10:51:36.043 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : SecurityContextUtil.cleanSecurityContext()
[]--[]--2020-10-30 10:51:36.044 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] auth: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@61fe5250: Principal: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@29b482b9; Granted Authorities: ROLE_ACCOUNT_ADMIN, ROLE_RDS_ADMIN, ROLE_UMA_AUTHORIZATION, ROLE_OFFLINE_ACCESS
[]--[]--2020-10-30 10:51:36.045 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] is KeycloakAuthenticationToken
[]--[]--2020-10-30 10:51:36.045 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isServiceAccount: false
[]--[]--2020-10-30 10:51:36.045 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 10:51:36.045 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] begin
[]--[]--2020-10-30 10:51:36.332 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] request success, responseBody: {"id":"1d44bfda-8fd2-4e2b-a99c-21bdf690c753","createdTimestamp":1588827826514,"username":"inspurtest01","enabled":true,"totp":false,"emailVerified":false,"firstName":"","lastName":"","email":"inspurtest01@inspur.com","attributes":{"lastLoginTime":["1604026007709"],"project":["inspurtest01"],"thisLoginTime":["1604026039014"]},"disableableCredentialTypes":["password"],"requiredActions":[],"federatedIdentities":[],"notBefore":1602302654,"access":{"manageGroupMembership":true,"view":true,"mapRoles":true,"impersonate":true,"manage":true}}
[]--[]--2020-10-30 10:51:36.334 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] userMap: {id=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, createdTimestamp=1588827826514, username=inspurtest01, enabled=true, totp=false, emailVerified=false, firstName=, lastName=, email=inspurtest01@inspur.com, attributes={lastLoginTime=[1604026007709], project=[inspurtest01], thisLoginTime=[1604026039014]}, disableableCredentialTypes=[password], requiredActions=[], federatedIdentities=[], notBefore=1602302654, access={manageGroupMembership=true, view=true, mapRoles=true, impersonate=true, manage=true}}
[]--[]--2020-10-30 10:51:36.335 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : {lastLoginTime=[1604026007709], project=[inspurtest01], thisLoginTime=[1604026039014]}
[]--[]--2020-10-30 10:51:36.335 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserGroupsById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 10:51:36.335 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] begin
[]--[]--2020-10-30 10:51:36.375 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] request success, responseBody: [{"id":"047bd339-8ee6-42fe-8618-a99e8279dd79","name":"group-inspurtest01","description":null,"createdAt":0,"accountId":null}]
[]--[]--2020-10-30 10:51:36.383 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isRootUser: true
[]--[]--2020-10-30 10:51:36.385 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-doFilter-1604026296385
[]--[]--2020-10-30 10:51:36.389 DEBUG--[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.doFilter()...
[i-id-service]--[68892170-3a70-4bc3-a2d5-7a75821ead84]--2020-10-30 10:51:36.390 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : 是否为主账号true
[i-id-service]--[68892170-3a70-4bc3-a2d5-7a75821ead84]--2020-10-30 10:51:36.391 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : user id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753,Creator Id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753, request url: /iid/v1/root-cert/download/373858911508283392/crt, request id: 68892170-3a70-4bc3-a2d5-7a75821ead84
[i-id-service]--[68892170-3a70-4bc3-a2d5-7a75821ead84]--2020-10-30 10:51:36.474 DEBUG--[http-nio-8762-exec-1]
                c.i.iam.adapter.aop.PermissionContextAop : requesturi=/iid/v1/root-cert/download/373858911508283392/crt
[i-id-service]--[68892170-3a70-4bc3-a2d5-7a75821ead84]--2020-10-30 10:51:36.525 INFO --[http-nio-8762-exec-1]
                c.i.c.c.rootcert.filetools.FileUtils     : Successfully write string to file!
[]--[]--2020-10-30 10:51:54.199 DEBUG--[      Thread-20]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] begin
[]--[]--2020-10-30 10:51:54.252 DEBUG--[      Thread-20]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] request success, responseBody: {"id":"e4e590c17448874b017448a48059000d","authUrl":"https://auth-cloud-dev.inspurcloud.cn/auth","realm":"picp","client":"bss-server","databaseName":"icp_iid","version":"1.9.7","createdAt":"2020-09-01T07:49:34Z","updatedAt":null}
[]--[]--2020-10-30 10:51:58.492 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-begin-1604026318492
[]--[]--2020-10-30 10:51:58.492 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : SecurityContextUtil.cleanSecurityContext()
[]--[]--2020-10-30 10:51:58.492 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] auth: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@48a1597: Principal: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@435d6ec1; Granted Authorities: ROLE_ACCOUNT_ADMIN, ROLE_RDS_ADMIN, ROLE_UMA_AUTHORIZATION, ROLE_OFFLINE_ACCESS
[]--[]--2020-10-30 10:51:58.492 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] is KeycloakAuthenticationToken
[]--[]--2020-10-30 10:51:58.492 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isServiceAccount: false
[]--[]--2020-10-30 10:51:58.492 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 10:51:58.492 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] begin
[]--[]--2020-10-30 10:51:58.553 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] request success, responseBody: {"id":"1d44bfda-8fd2-4e2b-a99c-21bdf690c753","createdTimestamp":1588827826514,"username":"inspurtest01","enabled":true,"totp":false,"emailVerified":false,"firstName":"","lastName":"","email":"inspurtest01@inspur.com","attributes":{"lastLoginTime":["1604026007709"],"project":["inspurtest01"],"thisLoginTime":["1604026039014"]},"disableableCredentialTypes":["password"],"requiredActions":[],"federatedIdentities":[],"notBefore":1602302654,"access":{"manageGroupMembership":true,"view":true,"mapRoles":true,"impersonate":true,"manage":true}}
[]--[]--2020-10-30 10:51:58.554 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] userMap: {id=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, createdTimestamp=1588827826514, username=inspurtest01, enabled=true, totp=false, emailVerified=false, firstName=, lastName=, email=inspurtest01@inspur.com, attributes={lastLoginTime=[1604026007709], project=[inspurtest01], thisLoginTime=[1604026039014]}, disableableCredentialTypes=[password], requiredActions=[], federatedIdentities=[], notBefore=1602302654, access={manageGroupMembership=true, view=true, mapRoles=true, impersonate=true, manage=true}}
[]--[]--2020-10-30 10:51:58.554 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : {lastLoginTime=[1604026007709], project=[inspurtest01], thisLoginTime=[1604026039014]}
[]--[]--2020-10-30 10:51:58.555 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserGroupsById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 10:51:58.555 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] begin
[]--[]--2020-10-30 10:51:58.593 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] request success, responseBody: [{"id":"047bd339-8ee6-42fe-8618-a99e8279dd79","name":"group-inspurtest01","description":null,"createdAt":0,"accountId":null}]
[]--[]--2020-10-30 10:51:58.595 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isRootUser: true
[]--[]--2020-10-30 10:51:58.595 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-doFilter-1604026318595
[]--[]--2020-10-30 10:51:58.595 DEBUG--[http-nio-8762-exec-2]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.doFilter()...
[i-id-service]--[22f1f4b0-63f4-4dbb-a8ca-b82852374cf1]--2020-10-30 10:51:58.596 INFO --[http-nio-8762-exec-2]
                c.i.cloud.common.filter.RequestFilter    : 是否为主账号true
[i-id-service]--[22f1f4b0-63f4-4dbb-a8ca-b82852374cf1]--2020-10-30 10:51:58.596 INFO --[http-nio-8762-exec-2]
                c.i.cloud.common.filter.RequestFilter    : user id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753,Creator Id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753, request url: /iid/v1/root-cert/download/373858911508283392/crt, request id: 22f1f4b0-63f4-4dbb-a8ca-b82852374cf1
[i-id-service]--[22f1f4b0-63f4-4dbb-a8ca-b82852374cf1]--2020-10-30 10:51:58.598 DEBUG--[http-nio-8762-exec-2]
                c.i.iam.adapter.aop.PermissionContextAop : requesturi=/iid/v1/root-cert/download/373858911508283392/crt
[i-id-service]--[22f1f4b0-63f4-4dbb-a8ca-b82852374cf1]--2020-10-30 10:51:58.649 INFO --[http-nio-8762-exec-2]
                c.i.c.c.rootcert.filetools.FileUtils     : Successfully write string to file!
[]--[]--2020-10-30 10:57:13.192 WARN --[HikariPool-1 housekeeper]
                com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m49s538ms).
[]--[]--2020-10-30 11:02:27.466 DEBUG--[      Thread-30]
                c.i.c.s.m.u.spring.SpringContextHolder   : 清除SpringContextHolder中的ApplicationContext:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c66dde0: startup date [Fri Oct 30 10:51:18 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 11:02:28.808 INFO --[      Thread-30]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
[]--[]--2020-10-30 11:02:28.818 INFO --[      Thread-30]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
[]--[]--2020-10-30 11:02:31.114 DEBUG--[localhost-startStop-2]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.destroy()...
[]--[]--2020-10-30 11:02:36.326 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Starting IIDApplication on JiangYuPengdeMacBook-Pro.local with PID 30263 (/Users/jiangyupeng/Java/Company/iid-service/out/production/classes started by jiangyupeng in /Users/jiangyupeng/Java/Company/iid-service)
[]--[]--2020-10-30 11:02:36.327 DEBUG--[  restartedMain]
                com.inspur.cloud.IIDApplication          : Running with Spring Boot v2.0.5.RELEASE, Spring v5.0.9.RELEASE
[]--[]--2020-10-30 11:02:36.328 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : The following profiles are active: prod
[]--[]--2020-10-30 11:02:36.450 INFO --[  restartedMain]
                o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7e0e7692: startup date [Fri Oct 30 11:02:36 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 11:02:37.175 INFO --[  restartedMain]
                o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'httpSessionManager' with a different definition: replacing [Generic bean: class [org.keycloak.adapters.springsecurity.management.HttpSessionManager]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/org.keycloak/keycloak-spring-security-adapter/4.6.0.Final/8a42a701686abd300fd73288f1e1ce9807a95dd1/keycloak-spring-security-adapter-4.6.0.Final.jar!/org/keycloak/adapters/springsecurity/management/HttpSessionManager.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=securityConfig; factoryMethodName=httpSessionManager; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/inspur/iam/adapter/config/SecurityConfig.class]]
[]--[]--2020-10-30 11:02:37.475 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-10-30 11:02:37.504 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-10-30 11:02:37.552 INFO --[  restartedMain]
                o.s.i.config.IntegrationRegistrar        : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
[]--[]--2020-10-30 11:02:38.001 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
[]--[]--2020-10-30 11:02:38.008 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
[]--[]--2020-10-30 11:02:38.110 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$9dbe49fc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 11:02:38.209 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d7528bce] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 11:02:38.386 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$424446fd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 11:02:39.139 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8762 (http)
[]--[]--2020-10-30 11:02:39.160 INFO --[  restartedMain]
                org.apache.catalina.core.StandardService : Starting service [Tomcat]
[]--[]--2020-10-30 11:02:39.161 INFO --[  restartedMain]
                org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.34
[]--[]--2020-10-30 11:02:39.163 INFO --[localhost-startStop-1]
                o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/jiangyupeng/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
[]--[]--2020-10-30 11:02:39.243 INFO --[localhost-startStop-1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
[]--[]--2020-10-30 11:02:39.244 INFO --[localhost-startStop-1]
                o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2793 ms
[]--[]--2020-10-30 11:02:40.967 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'characterEncodingFilter' to: [/*]
[]--[]--2020-10-30 11:02:40.967 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'webMvcMetricsFilter' to: [/*]
[]--[]--2020-10-30 11:02:40.968 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
[]--[]--2020-10-30 11:02:40.968 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpPutFormContentFilter' to: [/*]
[]--[]--2020-10-30 11:02:40.968 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestContextFilter' to: [/*]
[]--[]--2020-10-30 11:02:40.968 INFO --[localhost-startStop-1]
                o.s.b.w.s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
[]--[]--2020-10-30 11:02:40.969 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'securityContextFilter' to urls: [/*]
[]--[]--2020-10-30 11:02:40.969 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpTraceFilter' to: [/*]
[]--[]--2020-10-30 11:02:40.969 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticationProcessingFilter was not registered (disabled)
[]--[]--2020-10-30 11:02:40.969 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakPreAuthActionsFilter was not registered (disabled)
[]--[]--2020-10-30 11:02:40.969 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticatedActionsFilter was not registered (disabled)
[]--[]--2020-10-30 11:02:40.969 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakSecurityContextRequestFilter was not registered (disabled)
[]--[]--2020-10-30 11:02:40.970 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestFilter' to: [/*]
[]--[]--2020-10-30 11:02:40.970 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'repeatedlyReadFilter' to: [/*]
[]--[]--2020-10-30 11:02:40.970 INFO --[localhost-startStop-1]
                o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
[]--[]--2020-10-30 11:02:40.984 DEBUG--[localhost-startStop-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.init()......
[]--[]--2020-10-30 11:02:41.154 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
[]--[]--2020-10-30 11:02:41.583 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
[]--[]--2020-10-30 11:02:41.633 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
[]--[]--2020-10-30 11:02:41.644 INFO --[  restartedMain]
                o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
[]--[]--2020-10-30 11:02:41.701 INFO --[  restartedMain]
                org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
[]--[]--2020-10-30 11:02:41.702 INFO --[  restartedMain]
                org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
[]--[]--2020-10-30 11:02:41.737 INFO --[  restartedMain]
                org.hibernate.annotations.common.Version : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
[]--[]--2020-10-30 11:02:41.998 INFO --[  restartedMain]
                org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
[]--[]--2020-10-30 11:02:42.147 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
[]--[]--2020-10-30 11:02:42.206 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] there is no iam folder in Resource!
[]--[]--2020-10-30 11:02:42.207 DEBUG--[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] projectPath: /Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/com.inspur.iam/iam-adapter-java/1.9.7/6706f5ae335155c33a45369c1400847f77286669
[]--[]--2020-10-30 11:02:42.207 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.LiquiabseInit] there is no liquibase-xml in local directory!
[]--[]--2020-10-30 11:02:42.220 DEBUG--[  restartedMain]
                com.inspur.iam.adapter.util.VersionUtil  : [VersionUtil.uploadVersion] adaper version: 1.9.7
[]--[]--2020-10-30 11:02:42.761 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 开始创建RestTemplate-->[tokenType=USER,timeZone=GMT,WriteDatesAsTimestamps=null,referer=https://console1.cloud.inspur.com/,connectionRequestTimeout=0,ConnectTimeout=0,ReadTimeout=0]
[]--[]--2020-10-30 11:02:42.768 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 创建RestTemplate完成-->org.keycloak.adapters.springsecurity.client.KeycloakRestTemplate@707a410b
[]--[]--2020-10-30 11:02:42.922 DEBUG--[  restartedMain]
                c.i.c.s.m.u.spring.SpringContextHolder   : 注入ApplicationContext到SpringContextHolder:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7e0e7692: startup date [Fri Oct 30 11:02:36 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 11:02:43.085 INFO --[  restartedMain]
                o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b65566, org.springframework.security.web.context.SecurityContextPersistenceFilter@183df894, org.springframework.security.web.header.HeaderWriterFilter@622599b4, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@7825c420, org.springframework.security.web.authentication.logout.LogoutFilter@3af2009f, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@76942728, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@8aa2f96, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ff65e83, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@519bb6d7, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@7e7d4015, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1dc0ad7d, org.springframework.security.web.session.SessionManagementFilter@b2b722e, org.springframework.security.web.access.ExceptionTranslationFilter@321dde49, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@11bcbddc]
[]--[]--2020-10-30 11:02:43.167 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService  'taskExecutor'
[]--[]--2020-10-30 11:02:43.267 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 11:02:43.351 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7e0e7692: startup date [Fri Oct 30 11:02:36 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 11:02:43.365 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Detected ResponseBodyAdvice bean in responseResultBodyAdvisor
[]--[]--2020-10-30 11:02:43.401 WARN --[  restartedMain]
                o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[]--[]--2020-10-30 11:02:43.478 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.device.controller.DeviceController.querySecretKeyList(int,int,java.lang.String,java.lang.String,java.lang.Integer)
[]--[]--2020-10-30 11:02:43.479 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/download],methods=[GET]}" onto public void com.inspur.cloud.console.device.controller.DeviceController.downloadDevices(javax.servlet.http.HttpServletResponse,java.lang.String,java.lang.String,java.lang.Integer) throws java.io.IOException
[]--[]--2020-10-30 11:02:43.480 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secret],methods=[GET]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecret(java.lang.String,java.lang.String)
[]--[]--2020-10-30 11:02:43.480 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secrets],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecrets(org.springframework.web.multipart.MultipartFile) throws java.io.IOException
[]--[]--2020-10-30 11:02:43.482 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<java.util.List<com.inspur.cloud.console.dict.entity.DictItemBean>> com.inspur.cloud.console.dict.controller.DictController.getDictItemByGroupId(java.lang.String)
[]--[]--2020-10-30 11:02:43.482 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictCache()
[]--[]--2020-10-30 11:02:43.482 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictGroupCache(java.lang.String)
[]--[]--2020-10-30 11:02:43.483 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}/items/{itemId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<com.inspur.cloud.console.dict.entity.DictItemBean> com.inspur.cloud.console.dict.controller.DictController.getDictItemByKey(java.lang.String,java.lang.String)
[]--[]--2020-10-30 11:02:43.483 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<?> com.inspur.cloud.console.dict.controller.DictController.getDict(java.lang.String)
[]--[]--2020-10-30 11:02:43.484 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/health-status],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.health.HealthController.healthStatus()
[]--[]--2020-10-30 11:02:43.486 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.addProduct(com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-10-30 11:02:43.487 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}],methods=[PUT]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.updateProduct(java.lang.String,com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-10-30 11:02:43.487 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail],methods=[GET]}" onto public com.inspur.cloud.console.product.entity.ProductDo com.inspur.cloud.console.product.controller.ProductController.productDetails(java.lang.String)
[]--[]--2020-10-30 11:02:43.487 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.queryProductList(int,int,java.lang.String)
[]--[]--2020-10-30 11:02:43.488 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.productList(java.lang.String,int,int)
[]--[]--2020-10-30 11:02:43.488 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.product.entity.ProductsVO> com.inspur.cloud.console.product.controller.ProductController.productList()
[]--[]--2020-10-30 11:02:43.489 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/metrics]}" onto public void com.inspur.cloud.console.prometheus.controller.MetricsController.metrics(javax.servlet.http.HttpServletResponse) throws java.io.IOException
[]--[]--2020-10-30 11:02:43.491 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/rootCertList],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.rootcert.entity.RootCert> com.inspur.cloud.console.rootcert.controller.RootCertController.queryRootCertList()
[]--[]--2020-10-30 11:02:43.492 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/import-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.importCA(com.inspur.cloud.console.rootcert.entity.ImportRootCertParams) throws java.io.IOException
[]--[]--2020-10-30 11:02:43.492 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/crt],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCaCrt(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-10-30 11:02:43.492 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/create-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.createCA(com.inspur.cloud.console.rootcert.entity.CreateRootCertParams)
[]--[]--2020-10-30 11:02:43.492 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/key],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCaKey(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-10-30 11:02:43.493 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/info],methods=[GET]}" onto public com.inspur.cloud.console.usercert.entity.UserCert com.inspur.cloud.console.usercert.controller.UserCertController.getUserCert()
[]--[]--2020-10-30 11:02:43.494 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/is-open],methods=[GET]}" onto public int com.inspur.cloud.console.usercert.controller.UserCertController.isOpenService()
[]--[]--2020-10-30 11:02:43.494 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/opening],methods=[POST]}" onto public int com.inspur.cloud.console.usercert.controller.UserCertController.openService()
[]--[]--2020-10-30 11:02:43.494 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/number],methods=[GET]}" onto public com.inspur.cloud.console.kgc.entity.ProductAndDeviceNum com.inspur.cloud.console.usercert.controller.UserCertController.calulateNumber()
[]--[]--2020-10-30 11:02:43.496 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
[]--[]--2020-10-30 11:02:43.497 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
[]--[]--2020-10-30 11:02:43.557 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 11:02:43.558 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 11:02:43.584 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in clientExceptionHandler
[]--[]--2020-10-30 11:02:43.584 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
[]--[]--2020-10-30 11:02:43.584 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected ResponseBodyAdvice implementation in responseResultBodyAdvisor
[]--[]--2020-10-30 11:02:43.585 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in commonControllerAdvice
[]--[]--2020-10-30 11:02:44.436 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskScheduler : Initializing ExecutorService  'taskScheduler'
[]--[]--2020-10-30 11:02:44.586 INFO --[  restartedMain]
                o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path ''
[]--[]--2020-10-30 11:02:44.597 INFO --[  restartedMain]
                o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping : Mapped "{[/prometheus],methods=[GET],produces=[text/plain;version=0.0.4;charset=utf-8]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
[]--[]--2020-10-30 11:02:44.732 INFO --[  restartedMain]
                o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[]--[]--2020-10-30 11:02:44.900 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
[]--[]--2020-10-30 11:02:44.902 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
[]--[]--2020-10-30 11:02:44.909 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
[]--[]--2020-10-30 11:02:44.914 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
[]--[]--2020-10-30 11:02:44.916 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
[]--[]--2020-10-30 11:02:44.945 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0
[]--[]--2020-10-30 11:02:44.945 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
[]--[]--2020-10-30 11:02:44.946 INFO --[  restartedMain]
                o.s.i.channel.PublishSubscribeChannel    : Channel 'i-id-service.errorChannel' has 1 subscriber(s).
[]--[]--2020-10-30 11:02:44.946 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : started _org.springframework.integration.errorLogger
[]--[]--2020-10-30 11:02:44.946 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
[]--[]--2020-10-30 11:02:44.988 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8762 (http) with context path ''
[]--[]--2020-10-30 11:02:44.992 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Started IIDApplication in 9.816 seconds (JVM running for 10.605)
[]--[]--2020-10-30 11:02:44.996 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...begin...
[]--[]--2020-10-30 11:02:45.089 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...end...
[]--[]--2020-10-30 11:02:45.293 INFO --[RMI TCP Connection(3)-127.0.0.1]
                o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [10.110.64.31:31675]
[]--[]--2020-10-30 11:02:45.298 INFO --[RMI TCP Connection(2)-127.0.0.1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
[]--[]--2020-10-30 11:02:45.298 INFO --[RMI TCP Connection(2)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
[]--[]--2020-10-30 11:02:45.341 INFO --[RMI TCP Connection(2)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 42 ms
[]--[]--2020-10-30 11:02:45.422 INFO --[RMI TCP Connection(3)-127.0.0.1]
                o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1a99d8e1:0/SimpleConnection@1dd2b64b [delegate=amqp://guest@10.110.64.31:31675/, localPort= 63915]
[]--[]--2020-10-30 11:02:45.558 INFO --[RMI TCP Connection(3)-127.0.0.1]
                io.lettuce.core.EpollProvider            : Starting without optional epoll library
[]--[]--2020-10-30 11:02:45.559 INFO --[RMI TCP Connection(3)-127.0.0.1]
                io.lettuce.core.KqueueProvider           : Starting without optional kqueue library
[]--[]--2020-10-30 11:02:59.289 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-begin-1604026979289
[]--[]--2020-10-30 11:02:59.290 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : SecurityContextUtil.cleanSecurityContext()
[]--[]--2020-10-30 11:02:59.291 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] auth: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@5e35e6fd: Principal: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@7dc753e8; Granted Authorities: ROLE_ACCOUNT_ADMIN, ROLE_RDS_ADMIN, ROLE_UMA_AUTHORIZATION, ROLE_OFFLINE_ACCESS
[]--[]--2020-10-30 11:02:59.292 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] is KeycloakAuthenticationToken
[]--[]--2020-10-30 11:02:59.292 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isServiceAccount: false
[]--[]--2020-10-30 11:02:59.292 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 11:02:59.292 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] begin
[]--[]--2020-10-30 11:02:59.558 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] request success, responseBody: {"id":"1d44bfda-8fd2-4e2b-a99c-21bdf690c753","createdTimestamp":1588827826514,"username":"inspurtest01","enabled":true,"totp":false,"emailVerified":false,"firstName":"","lastName":"","email":"inspurtest01@inspur.com","attributes":{"lastLoginTime":["1604026691873"],"project":["inspurtest01"],"thisLoginTime":["1604026776146"]},"disableableCredentialTypes":["password"],"requiredActions":[],"federatedIdentities":[],"notBefore":1602302654,"access":{"manageGroupMembership":true,"view":true,"mapRoles":true,"impersonate":true,"manage":true}}
[]--[]--2020-10-30 11:02:59.560 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] userMap: {id=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, createdTimestamp=1588827826514, username=inspurtest01, enabled=true, totp=false, emailVerified=false, firstName=, lastName=, email=inspurtest01@inspur.com, attributes={lastLoginTime=[1604026691873], project=[inspurtest01], thisLoginTime=[1604026776146]}, disableableCredentialTypes=[password], requiredActions=[], federatedIdentities=[], notBefore=1602302654, access={manageGroupMembership=true, view=true, mapRoles=true, impersonate=true, manage=true}}
[]--[]--2020-10-30 11:02:59.560 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : {lastLoginTime=[1604026691873], project=[inspurtest01], thisLoginTime=[1604026776146]}
[]--[]--2020-10-30 11:02:59.560 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserGroupsById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 11:02:59.560 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] begin
[]--[]--2020-10-30 11:02:59.595 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] request success, responseBody: [{"id":"047bd339-8ee6-42fe-8618-a99e8279dd79","name":"group-inspurtest01","description":null,"createdAt":0,"accountId":null}]
[]--[]--2020-10-30 11:02:59.604 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isRootUser: true
[]--[]--2020-10-30 11:02:59.606 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-doFilter-1604026979606
[]--[]--2020-10-30 11:02:59.611 DEBUG--[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.doFilter()...
[i-id-service]--[82bc8ba7-5927-4008-b021-5ad28ba6d59c]--2020-10-30 11:02:59.612 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : 是否为主账号true
[i-id-service]--[82bc8ba7-5927-4008-b021-5ad28ba6d59c]--2020-10-30 11:02:59.613 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : user id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753,Creator Id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753, request url: /iid/v1/root-cert/download/373858911508283392/crt, request id: 82bc8ba7-5927-4008-b021-5ad28ba6d59c
[i-id-service]--[82bc8ba7-5927-4008-b021-5ad28ba6d59c]--2020-10-30 11:02:59.691 DEBUG--[http-nio-8762-exec-1]
                c.i.iam.adapter.aop.PermissionContextAop : requesturi=/iid/v1/root-cert/download/373858911508283392/crt
[i-id-service]--[82bc8ba7-5927-4008-b021-5ad28ba6d59c]--2020-10-30 11:02:59.740 INFO --[http-nio-8762-exec-1]
                c.i.c.c.rootcert.filetools.FileUtils     : Successfully write string to file!
[]--[]--2020-10-30 11:03:12.222 DEBUG--[      Thread-21]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] begin
[]--[]--2020-10-30 11:03:12.265 DEBUG--[      Thread-21]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] request success, responseBody: {"id":"e4e590c17448874b017448a48059000d","authUrl":"https://auth-cloud-dev.inspurcloud.cn/auth","realm":"picp","client":"bss-server","databaseName":"icp_iid","version":"1.9.7","createdAt":"2020-09-01T07:49:34Z","updatedAt":null}
[]--[]--2020-10-30 11:06:40.606 WARN --[HikariPool-1 housekeeper]
                com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=58s902ms).
[]--[]--2020-10-30 11:11:53.166 WARN --[HikariPool-1 housekeeper]
                com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m41s780ms).
[]--[]--2020-10-30 11:11:55.184 WARN --[AMQP Connection 10.110.64.31:31675]
                c.r.c.impl.ForgivingExceptionHandler     : An unexpected connection driver error occured (Exception message: Connection reset)
[]--[]--2020-10-30 11:11:55.194 ERROR--[AMQP Connection 10.110.64.31:31675]
                o.s.a.r.c.CachingConnectionFactory       : Channel shutdown: connection error
[]--[]--2020-10-30 11:11:58.349 DEBUG--[http-nio-8762-exec-3]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-begin-1604027518349
[]--[]--2020-10-30 11:11:58.349 DEBUG--[http-nio-8762-exec-3]
                c.i.i.a.filter.SecurityContextFilter     : SecurityContextUtil.cleanSecurityContext()
[]--[]--2020-10-30 11:11:58.349 DEBUG--[http-nio-8762-exec-3]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] auth: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@45bd080f: Principal: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@75839bd1; Granted Authorities: ROLE_ACCOUNT_ADMIN, ROLE_RDS_ADMIN, ROLE_UMA_AUTHORIZATION, ROLE_OFFLINE_ACCESS
[]--[]--2020-10-30 11:11:58.349 DEBUG--[http-nio-8762-exec-3]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] is KeycloakAuthenticationToken
[]--[]--2020-10-30 11:11:58.350 DEBUG--[http-nio-8762-exec-3]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isServiceAccount: false
[]--[]--2020-10-30 11:11:58.350 DEBUG--[http-nio-8762-exec-3]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 11:11:58.352 DEBUG--[http-nio-8762-exec-3]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] begin
[]--[]--2020-10-30 11:11:59.291 DEBUG--[http-nio-8762-exec-3]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] request success, responseBody: {"id":"1d44bfda-8fd2-4e2b-a99c-21bdf690c753","createdTimestamp":1588827826514,"username":"inspurtest01","enabled":true,"totp":false,"emailVerified":false,"firstName":"","lastName":"","email":"inspurtest01@inspur.com","attributes":{"lastLoginTime":["1604027271037"],"project":["inspurtest01"],"thisLoginTime":["1604027456747"]},"disableableCredentialTypes":["password"],"requiredActions":[],"federatedIdentities":[],"notBefore":1602302654,"access":{"manageGroupMembership":true,"view":true,"mapRoles":true,"impersonate":true,"manage":true}}
[]--[]--2020-10-30 11:11:59.298 DEBUG--[http-nio-8762-exec-3]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] userMap: {id=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, createdTimestamp=1588827826514, username=inspurtest01, enabled=true, totp=false, emailVerified=false, firstName=, lastName=, email=inspurtest01@inspur.com, attributes={lastLoginTime=[1604027271037], project=[inspurtest01], thisLoginTime=[1604027456747]}, disableableCredentialTypes=[password], requiredActions=[], federatedIdentities=[], notBefore=1602302654, access={manageGroupMembership=true, view=true, mapRoles=true, impersonate=true, manage=true}}
[]--[]--2020-10-30 11:11:59.299 DEBUG--[http-nio-8762-exec-3]
                com.inspur.iam.adapter.util.TokenUtil    : {lastLoginTime=[1604027271037], project=[inspurtest01], thisLoginTime=[1604027456747]}
[]--[]--2020-10-30 11:11:59.299 DEBUG--[http-nio-8762-exec-3]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserGroupsById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 11:11:59.299 DEBUG--[http-nio-8762-exec-3]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] begin
[]--[]--2020-10-30 11:11:59.348 DEBUG--[http-nio-8762-exec-3]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] request success, responseBody: [{"id":"047bd339-8ee6-42fe-8618-a99e8279dd79","name":"group-inspurtest01","description":null,"createdAt":0,"accountId":null}]
[]--[]--2020-10-30 11:11:59.353 DEBUG--[http-nio-8762-exec-3]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isRootUser: true
[]--[]--2020-10-30 11:11:59.354 DEBUG--[http-nio-8762-exec-3]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-doFilter-1604027519354
[]--[]--2020-10-30 11:11:59.354 DEBUG--[http-nio-8762-exec-3]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.doFilter()...
[i-id-service]--[6db2bc8a-e8de-43ab-9340-28f52ce77dea]--2020-10-30 11:11:59.355 INFO --[http-nio-8762-exec-3]
                c.i.cloud.common.filter.RequestFilter    : 是否为主账号true
[i-id-service]--[6db2bc8a-e8de-43ab-9340-28f52ce77dea]--2020-10-30 11:11:59.355 INFO --[http-nio-8762-exec-3]
                c.i.cloud.common.filter.RequestFilter    : user id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753,Creator Id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753, request url: /iid/v1/root-cert/download/373858911508283392/crt, request id: 6db2bc8a-e8de-43ab-9340-28f52ce77dea
[i-id-service]--[6db2bc8a-e8de-43ab-9340-28f52ce77dea]--2020-10-30 11:11:59.358 DEBUG--[http-nio-8762-exec-3]
                c.i.iam.adapter.aop.PermissionContextAop : requesturi=/iid/v1/root-cert/download/373858911508283392/crt
[i-id-service]--[6db2bc8a-e8de-43ab-9340-28f52ce77dea]--2020-10-30 11:11:59.396 INFO --[http-nio-8762-exec-3]
                c.i.c.c.rootcert.filetools.FileUtils     : Successfully write string to file!
[]--[]--2020-10-30 11:13:19.230 DEBUG--[http-nio-8762-exec-5]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-begin-1604027599230
[]--[]--2020-10-30 11:13:19.231 DEBUG--[http-nio-8762-exec-5]
                c.i.i.a.filter.SecurityContextFilter     : SecurityContextUtil.cleanSecurityContext()
[]--[]--2020-10-30 11:13:19.231 DEBUG--[http-nio-8762-exec-5]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] auth: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@3d04e4c7: Principal: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@78afd47f; Granted Authorities: ROLE_ACCOUNT_ADMIN, ROLE_RDS_ADMIN, ROLE_UMA_AUTHORIZATION, ROLE_OFFLINE_ACCESS
[]--[]--2020-10-30 11:13:19.231 DEBUG--[http-nio-8762-exec-5]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] is KeycloakAuthenticationToken
[]--[]--2020-10-30 11:13:19.231 DEBUG--[http-nio-8762-exec-5]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isServiceAccount: false
[]--[]--2020-10-30 11:13:19.231 DEBUG--[http-nio-8762-exec-5]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 11:13:19.231 DEBUG--[http-nio-8762-exec-5]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] begin
[]--[]--2020-10-30 11:13:19.361 DEBUG--[http-nio-8762-exec-5]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] request success, responseBody: {"id":"1d44bfda-8fd2-4e2b-a99c-21bdf690c753","createdTimestamp":1588827826514,"username":"inspurtest01","enabled":true,"totp":false,"emailVerified":false,"firstName":"","lastName":"","email":"inspurtest01@inspur.com","attributes":{"lastLoginTime":["1604027271037"],"project":["inspurtest01"],"thisLoginTime":["1604027456747"]},"disableableCredentialTypes":["password"],"requiredActions":[],"federatedIdentities":[],"notBefore":1602302654,"access":{"manageGroupMembership":true,"view":true,"mapRoles":true,"impersonate":true,"manage":true}}
[]--[]--2020-10-30 11:13:19.365 DEBUG--[http-nio-8762-exec-5]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] userMap: {id=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, createdTimestamp=1588827826514, username=inspurtest01, enabled=true, totp=false, emailVerified=false, firstName=, lastName=, email=inspurtest01@inspur.com, attributes={lastLoginTime=[1604027271037], project=[inspurtest01], thisLoginTime=[1604027456747]}, disableableCredentialTypes=[password], requiredActions=[], federatedIdentities=[], notBefore=1602302654, access={manageGroupMembership=true, view=true, mapRoles=true, impersonate=true, manage=true}}
[]--[]--2020-10-30 11:13:19.366 DEBUG--[http-nio-8762-exec-5]
                com.inspur.iam.adapter.util.TokenUtil    : {lastLoginTime=[1604027271037], project=[inspurtest01], thisLoginTime=[1604027456747]}
[]--[]--2020-10-30 11:13:19.367 DEBUG--[http-nio-8762-exec-5]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserGroupsById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 11:13:19.367 DEBUG--[http-nio-8762-exec-5]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] begin
[]--[]--2020-10-30 11:13:19.404 DEBUG--[http-nio-8762-exec-5]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] request success, responseBody: [{"id":"047bd339-8ee6-42fe-8618-a99e8279dd79","name":"group-inspurtest01","description":null,"createdAt":0,"accountId":null}]
[]--[]--2020-10-30 11:13:19.405 DEBUG--[http-nio-8762-exec-5]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isRootUser: true
[]--[]--2020-10-30 11:13:19.406 DEBUG--[http-nio-8762-exec-5]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-doFilter-1604027599406
[]--[]--2020-10-30 11:13:19.407 DEBUG--[http-nio-8762-exec-5]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.doFilter()...
[i-id-service]--[77b3dd77-8b61-4b6e-afe3-e0a068a9a0e6]--2020-10-30 11:13:19.407 INFO --[http-nio-8762-exec-5]
                c.i.cloud.common.filter.RequestFilter    : 是否为主账号true
[i-id-service]--[77b3dd77-8b61-4b6e-afe3-e0a068a9a0e6]--2020-10-30 11:13:19.407 INFO --[http-nio-8762-exec-5]
                c.i.cloud.common.filter.RequestFilter    : user id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753,Creator Id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753, request url: /iid/v1/root-cert/download/373858911508283392/crt, request id: 77b3dd77-8b61-4b6e-afe3-e0a068a9a0e6
[i-id-service]--[77b3dd77-8b61-4b6e-afe3-e0a068a9a0e6]--2020-10-30 11:13:19.411 DEBUG--[http-nio-8762-exec-5]
                c.i.iam.adapter.aop.PermissionContextAop : requesturi=/iid/v1/root-cert/download/373858911508283392/crt
[i-id-service]--[77b3dd77-8b61-4b6e-afe3-e0a068a9a0e6]--2020-10-30 11:13:19.450 INFO --[http-nio-8762-exec-5]
                c.i.c.c.rootcert.filetools.FileUtils     : Successfully write string to file!
[]--[]--2020-10-30 11:23:09.426 WARN --[HikariPool-1 housekeeper]
                com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=7m46s230ms).
[]--[]--2020-10-30 12:44:40.592 WARN --[HikariPool-1 housekeeper]
                com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h18m1s143ms).
[]--[]--2020-10-30 14:35:59.472 WARN --[HikariPool-1 housekeeper]
                com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h51m18s881ms).
[]--[]--2020-10-30 14:55:28.023 DEBUG--[      Thread-31]
                c.i.c.s.m.u.spring.SpringContextHolder   : 清除SpringContextHolder中的ApplicationContext:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7e0e7692: startup date [Fri Oct 30 11:02:36 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 14:55:29.180 INFO --[      Thread-31]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
[]--[]--2020-10-30 14:55:29.183 INFO --[      Thread-31]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
[]--[]--2020-10-30 14:55:31.416 DEBUG--[localhost-startStop-2]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.destroy()...
[]--[]--2020-10-30 14:55:36.778 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Starting IIDApplication on JiangYuPengdeMacBook-Pro.local with PID 30733 (/Users/jiangyupeng/Java/Company/iid-service/out/production/classes started by jiangyupeng in /Users/jiangyupeng/Java/Company/iid-service)
[]--[]--2020-10-30 14:55:36.779 DEBUG--[  restartedMain]
                com.inspur.cloud.IIDApplication          : Running with Spring Boot v2.0.5.RELEASE, Spring v5.0.9.RELEASE
[]--[]--2020-10-30 14:55:36.780 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : The following profiles are active: prod
[]--[]--2020-10-30 14:55:36.900 INFO --[  restartedMain]
                o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c2417a8: startup date [Fri Oct 30 14:55:36 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 14:55:37.589 INFO --[  restartedMain]
                o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'httpSessionManager' with a different definition: replacing [Generic bean: class [org.keycloak.adapters.springsecurity.management.HttpSessionManager]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/org.keycloak/keycloak-spring-security-adapter/4.6.0.Final/8a42a701686abd300fd73288f1e1ce9807a95dd1/keycloak-spring-security-adapter-4.6.0.Final.jar!/org/keycloak/adapters/springsecurity/management/HttpSessionManager.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=securityConfig; factoryMethodName=httpSessionManager; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/inspur/iam/adapter/config/SecurityConfig.class]]
[]--[]--2020-10-30 14:55:37.898 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-10-30 14:55:37.925 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-10-30 14:55:37.970 INFO --[  restartedMain]
                o.s.i.config.IntegrationRegistrar        : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
[]--[]--2020-10-30 14:55:38.349 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
[]--[]--2020-10-30 14:55:38.355 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
[]--[]--2020-10-30 14:55:38.452 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$428ca311] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 14:55:38.547 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7c20e4e3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 14:55:38.720 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$e712a012] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 14:55:39.421 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8762 (http)
[]--[]--2020-10-30 14:55:39.441 INFO --[  restartedMain]
                org.apache.catalina.core.StandardService : Starting service [Tomcat]
[]--[]--2020-10-30 14:55:39.442 INFO --[  restartedMain]
                org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.34
[]--[]--2020-10-30 14:55:39.445 INFO --[localhost-startStop-1]
                o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/jiangyupeng/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
[]--[]--2020-10-30 14:55:39.530 INFO --[localhost-startStop-1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
[]--[]--2020-10-30 14:55:39.530 INFO --[localhost-startStop-1]
                o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2630 ms
[]--[]--2020-10-30 14:55:41.408 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'characterEncodingFilter' to: [/*]
[]--[]--2020-10-30 14:55:41.409 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'webMvcMetricsFilter' to: [/*]
[]--[]--2020-10-30 14:55:41.410 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
[]--[]--2020-10-30 14:55:41.410 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpPutFormContentFilter' to: [/*]
[]--[]--2020-10-30 14:55:41.411 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestContextFilter' to: [/*]
[]--[]--2020-10-30 14:55:41.411 INFO --[localhost-startStop-1]
                o.s.b.w.s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
[]--[]--2020-10-30 14:55:41.412 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'securityContextFilter' to urls: [/*]
[]--[]--2020-10-30 14:55:41.412 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpTraceFilter' to: [/*]
[]--[]--2020-10-30 14:55:41.412 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticationProcessingFilter was not registered (disabled)
[]--[]--2020-10-30 14:55:41.412 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakPreAuthActionsFilter was not registered (disabled)
[]--[]--2020-10-30 14:55:41.412 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticatedActionsFilter was not registered (disabled)
[]--[]--2020-10-30 14:55:41.413 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakSecurityContextRequestFilter was not registered (disabled)
[]--[]--2020-10-30 14:55:41.413 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestFilter' to: [/*]
[]--[]--2020-10-30 14:55:41.413 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'repeatedlyReadFilter' to: [/*]
[]--[]--2020-10-30 14:55:41.414 INFO --[localhost-startStop-1]
                o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
[]--[]--2020-10-30 14:55:41.429 DEBUG--[localhost-startStop-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.init()......
[]--[]--2020-10-30 14:55:41.569 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
[]--[]--2020-10-30 14:55:41.923 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
[]--[]--2020-10-30 14:55:41.973 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
[]--[]--2020-10-30 14:55:41.985 INFO --[  restartedMain]
                o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
[]--[]--2020-10-30 14:55:42.040 INFO --[  restartedMain]
                org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
[]--[]--2020-10-30 14:55:42.041 INFO --[  restartedMain]
                org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
[]--[]--2020-10-30 14:55:42.076 INFO --[  restartedMain]
                org.hibernate.annotations.common.Version : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
[]--[]--2020-10-30 14:55:42.345 INFO --[  restartedMain]
                org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
[]--[]--2020-10-30 14:55:42.493 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
[]--[]--2020-10-30 14:55:42.551 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] there is no iam folder in Resource!
[]--[]--2020-10-30 14:55:42.552 DEBUG--[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] projectPath: /Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/com.inspur.iam/iam-adapter-java/1.9.7/6706f5ae335155c33a45369c1400847f77286669
[]--[]--2020-10-30 14:55:42.552 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.LiquiabseInit] there is no liquibase-xml in local directory!
[]--[]--2020-10-30 14:55:42.564 DEBUG--[  restartedMain]
                com.inspur.iam.adapter.util.VersionUtil  : [VersionUtil.uploadVersion] adaper version: 1.9.7
[]--[]--2020-10-30 14:55:43.098 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 开始创建RestTemplate-->[tokenType=USER,timeZone=GMT,WriteDatesAsTimestamps=null,referer=https://console1.cloud.inspur.com/,connectionRequestTimeout=0,ConnectTimeout=0,ReadTimeout=0]
[]--[]--2020-10-30 14:55:43.105 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 创建RestTemplate完成-->org.keycloak.adapters.springsecurity.client.KeycloakRestTemplate@5a77a4f5
[]--[]--2020-10-30 14:55:43.257 DEBUG--[  restartedMain]
                c.i.c.s.m.u.spring.SpringContextHolder   : 注入ApplicationContext到SpringContextHolder:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c2417a8: startup date [Fri Oct 30 14:55:36 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 14:55:43.420 INFO --[  restartedMain]
                o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1c3698e8, org.springframework.security.web.context.SecurityContextPersistenceFilter@4eaf75e9, org.springframework.security.web.header.HeaderWriterFilter@663ff328, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@139985f8, org.springframework.security.web.authentication.logout.LogoutFilter@595cd0b9, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@53b7440, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d8c02ac, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3fa125d0, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@7c7ace91, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@4679b8b9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f62fd0e, org.springframework.security.web.session.SessionManagementFilter@6b28e9fd, org.springframework.security.web.access.ExceptionTranslationFilter@48580a48, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2e5db2d3]
[]--[]--2020-10-30 14:55:43.500 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService  'taskExecutor'
[]--[]--2020-10-30 14:55:43.617 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 14:55:43.724 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c2417a8: startup date [Fri Oct 30 14:55:36 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 14:55:43.737 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Detected ResponseBodyAdvice bean in responseResultBodyAdvisor
[]--[]--2020-10-30 14:55:43.765 WARN --[  restartedMain]
                o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[]--[]--2020-10-30 14:55:43.829 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.device.controller.DeviceController.querySecretKeyList(int,int,java.lang.String,java.lang.String,java.lang.Integer)
[]--[]--2020-10-30 14:55:43.830 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/download],methods=[GET]}" onto public void com.inspur.cloud.console.device.controller.DeviceController.downloadDevices(javax.servlet.http.HttpServletResponse,java.lang.String,java.lang.String,java.lang.Integer) throws java.io.IOException
[]--[]--2020-10-30 14:55:43.830 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secret],methods=[GET]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecret(java.lang.String,java.lang.String)
[]--[]--2020-10-30 14:55:43.830 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secrets],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecrets(org.springframework.web.multipart.MultipartFile) throws java.io.IOException
[]--[]--2020-10-30 14:55:43.832 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictCache()
[]--[]--2020-10-30 14:55:43.832 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictGroupCache(java.lang.String)
[]--[]--2020-10-30 14:55:43.832 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}/items/{itemId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<com.inspur.cloud.console.dict.entity.DictItemBean> com.inspur.cloud.console.dict.controller.DictController.getDictItemByKey(java.lang.String,java.lang.String)
[]--[]--2020-10-30 14:55:43.833 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<?> com.inspur.cloud.console.dict.controller.DictController.getDict(java.lang.String)
[]--[]--2020-10-30 14:55:43.833 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<java.util.List<com.inspur.cloud.console.dict.entity.DictItemBean>> com.inspur.cloud.console.dict.controller.DictController.getDictItemByGroupId(java.lang.String)
[]--[]--2020-10-30 14:55:43.834 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/health-status],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.health.HealthController.healthStatus()
[]--[]--2020-10-30 14:55:43.836 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.addProduct(com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-10-30 14:55:43.836 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}],methods=[PUT]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.updateProduct(java.lang.String,com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-10-30 14:55:43.837 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail],methods=[GET]}" onto public com.inspur.cloud.console.product.entity.ProductDo com.inspur.cloud.console.product.controller.ProductController.productDetails(java.lang.String)
[]--[]--2020-10-30 14:55:43.837 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.queryProductList(int,int,java.lang.String)
[]--[]--2020-10-30 14:55:43.837 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.productList(java.lang.String,int,int)
[]--[]--2020-10-30 14:55:43.838 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.product.entity.ProductsVO> com.inspur.cloud.console.product.controller.ProductController.productList()
[]--[]--2020-10-30 14:55:43.838 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/metrics]}" onto public void com.inspur.cloud.console.prometheus.controller.MetricsController.metrics(javax.servlet.http.HttpServletResponse) throws java.io.IOException
[]--[]--2020-10-30 14:55:43.841 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/import-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.importCA(com.inspur.cloud.console.rootcert.entity.ImportRootCertParams) throws java.io.IOException
[]--[]--2020-10-30 14:55:43.841 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/create-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.createCA(com.inspur.cloud.console.rootcert.entity.CreateRootCertParams)
[]--[]--2020-10-30 14:55:43.841 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/rootCertList],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.rootcert.entity.RootCert> com.inspur.cloud.console.rootcert.controller.RootCertController.queryRootCertList()
[]--[]--2020-10-30 14:55:43.841 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/crt],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCaCrt(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-10-30 14:55:43.842 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/key],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCaKey(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-10-30 14:55:43.843 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/info],methods=[GET]}" onto public com.inspur.cloud.console.usercert.entity.UserCert com.inspur.cloud.console.usercert.controller.UserCertController.getUserCert()
[]--[]--2020-10-30 14:55:43.843 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/is-open],methods=[GET]}" onto public int com.inspur.cloud.console.usercert.controller.UserCertController.isOpenService()
[]--[]--2020-10-30 14:55:43.844 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/opening],methods=[POST]}" onto public int com.inspur.cloud.console.usercert.controller.UserCertController.openService()
[]--[]--2020-10-30 14:55:43.844 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/number],methods=[GET]}" onto public com.inspur.cloud.console.kgc.entity.ProductAndDeviceNum com.inspur.cloud.console.usercert.controller.UserCertController.calulateNumber()
[]--[]--2020-10-30 14:55:43.846 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
[]--[]--2020-10-30 14:55:43.846 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
[]--[]--2020-10-30 14:55:43.896 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 14:55:43.897 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 14:55:43.918 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in clientExceptionHandler
[]--[]--2020-10-30 14:55:43.919 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
[]--[]--2020-10-30 14:55:43.919 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected ResponseBodyAdvice implementation in responseResultBodyAdvisor
[]--[]--2020-10-30 14:55:43.919 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in commonControllerAdvice
[]--[]--2020-10-30 14:55:44.712 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskScheduler : Initializing ExecutorService  'taskScheduler'
[]--[]--2020-10-30 14:55:44.859 INFO --[  restartedMain]
                o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path ''
[]--[]--2020-10-30 14:55:44.870 INFO --[  restartedMain]
                o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping : Mapped "{[/prometheus],methods=[GET],produces=[text/plain;version=0.0.4;charset=utf-8]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
[]--[]--2020-10-30 14:55:45.018 INFO --[  restartedMain]
                o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[]--[]--2020-10-30 14:55:45.183 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
[]--[]--2020-10-30 14:55:45.184 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
[]--[]--2020-10-30 14:55:45.191 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
[]--[]--2020-10-30 14:55:45.196 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
[]--[]--2020-10-30 14:55:45.198 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
[]--[]--2020-10-30 14:55:45.226 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0
[]--[]--2020-10-30 14:55:45.227 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
[]--[]--2020-10-30 14:55:45.227 INFO --[  restartedMain]
                o.s.i.channel.PublishSubscribeChannel    : Channel 'i-id-service.errorChannel' has 1 subscriber(s).
[]--[]--2020-10-30 14:55:45.227 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : started _org.springframework.integration.errorLogger
[]--[]--2020-10-30 14:55:45.227 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
[]--[]--2020-10-30 14:55:45.267 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8762 (http) with context path ''
[]--[]--2020-10-30 14:55:45.272 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Started IIDApplication in 9.637 seconds (JVM running for 10.18)
[]--[]--2020-10-30 14:55:45.275 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...begin...
[]--[]--2020-10-30 14:55:45.403 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...end...
[]--[]--2020-10-30 14:55:45.501 INFO --[RMI TCP Connection(2)-192.168.137.190]
                o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [10.110.64.31:31675]
[]--[]--2020-10-30 14:55:45.508 INFO --[RMI TCP Connection(1)-192.168.137.190]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
[]--[]--2020-10-30 14:55:45.508 INFO --[RMI TCP Connection(1)-192.168.137.190]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
[]--[]--2020-10-30 14:55:45.534 INFO --[RMI TCP Connection(1)-192.168.137.190]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 26 ms
[]--[]--2020-10-30 14:55:45.591 INFO --[RMI TCP Connection(2)-192.168.137.190]
                o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#73f71153:0/SimpleConnection@ea3530b [delegate=amqp://guest@10.110.64.31:31675/, localPort= 52581]
[]--[]--2020-10-30 14:55:45.748 INFO --[RMI TCP Connection(2)-192.168.137.190]
                io.lettuce.core.EpollProvider            : Starting without optional epoll library
[]--[]--2020-10-30 14:55:45.750 INFO --[RMI TCP Connection(2)-192.168.137.190]
                io.lettuce.core.KqueueProvider           : Starting without optional kqueue library
[]--[]--2020-10-30 14:56:12.569 DEBUG--[      Thread-20]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] begin
[]--[]--2020-10-30 14:56:12.848 DEBUG--[      Thread-20]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] request success, responseBody: {"id":"e4e590c17448874b017448a48059000d","authUrl":"https://auth-cloud-dev.inspurcloud.cn/auth","realm":"picp","client":"bss-server","databaseName":"icp_iid","version":"1.9.7","createdAt":"2020-09-01T07:49:34Z","updatedAt":null}
[]--[]--2020-10-30 15:17:38.045 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-begin-1604042258045
[]--[]--2020-10-30 15:17:38.048 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : SecurityContextUtil.cleanSecurityContext()
[]--[]--2020-10-30 15:17:38.049 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] auth: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@d27c363: Principal: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@5de06d45; Granted Authorities: ROLE_ACCOUNT_ADMIN, ROLE_RDS_ADMIN, ROLE_UMA_AUTHORIZATION, ROLE_OFFLINE_ACCESS
[]--[]--2020-10-30 15:17:38.049 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] is KeycloakAuthenticationToken
[]--[]--2020-10-30 15:17:38.049 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isServiceAccount: false
[]--[]--2020-10-30 15:17:38.050 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 15:17:38.050 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] begin
[]--[]--2020-10-30 15:17:38.466 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] request success, responseBody: {"id":"1d44bfda-8fd2-4e2b-a99c-21bdf690c753","createdTimestamp":1588827826514,"username":"inspurtest01","enabled":true,"totp":false,"emailVerified":false,"firstName":"","lastName":"","email":"inspurtest01@inspur.com","attributes":{"lastLoginTime":["1604042224867"],"project":["inspurtest01"],"thisLoginTime":["1604042236963"]},"disableableCredentialTypes":["password"],"requiredActions":[],"federatedIdentities":[],"notBefore":1602302654,"access":{"manageGroupMembership":true,"view":true,"mapRoles":true,"impersonate":true,"manage":true}}
[]--[]--2020-10-30 15:17:38.469 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] userMap: {id=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, createdTimestamp=1588827826514, username=inspurtest01, enabled=true, totp=false, emailVerified=false, firstName=, lastName=, email=inspurtest01@inspur.com, attributes={lastLoginTime=[1604042224867], project=[inspurtest01], thisLoginTime=[1604042236963]}, disableableCredentialTypes=[password], requiredActions=[], federatedIdentities=[], notBefore=1602302654, access={manageGroupMembership=true, view=true, mapRoles=true, impersonate=true, manage=true}}
[]--[]--2020-10-30 15:17:38.470 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : {lastLoginTime=[1604042224867], project=[inspurtest01], thisLoginTime=[1604042236963]}
[]--[]--2020-10-30 15:17:38.470 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserGroupsById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 15:17:38.471 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] begin
[]--[]--2020-10-30 15:17:38.509 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] request success, responseBody: [{"id":"047bd339-8ee6-42fe-8618-a99e8279dd79","name":"group-inspurtest01","description":null,"createdAt":0,"accountId":null}]
[]--[]--2020-10-30 15:17:38.519 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isRootUser: true
[]--[]--2020-10-30 15:17:38.521 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-doFilter-1604042258521
[]--[]--2020-10-30 15:17:38.526 DEBUG--[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.doFilter()...
[i-id-service]--[015fc884-6488-44e9-bb0e-332fca97b2be]--2020-10-30 15:17:38.527 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : 是否为主账号true
[i-id-service]--[015fc884-6488-44e9-bb0e-332fca97b2be]--2020-10-30 15:17:38.529 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : user id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753,Creator Id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753, request url: /iid/v1/root-cert/download/374362680705122304/crt, request id: 015fc884-6488-44e9-bb0e-332fca97b2be
[i-id-service]--[015fc884-6488-44e9-bb0e-332fca97b2be]--2020-10-30 15:17:38.647 DEBUG--[http-nio-8762-exec-1]
                c.i.iam.adapter.aop.PermissionContextAop : requesturi=/iid/v1/root-cert/download/374362680705122304/crt
[]--[]--2020-10-30 15:17:44.245 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-begin-1604042264245
[]--[]--2020-10-30 15:17:44.245 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : SecurityContextUtil.cleanSecurityContext()
[]--[]--2020-10-30 15:17:44.245 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] auth: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@ddc3647: Principal: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@779addd8; Granted Authorities: ROLE_ACCOUNT_ADMIN, ROLE_RDS_ADMIN, ROLE_UMA_AUTHORIZATION, ROLE_OFFLINE_ACCESS
[]--[]--2020-10-30 15:17:44.245 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] is KeycloakAuthenticationToken
[]--[]--2020-10-30 15:17:44.246 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isServiceAccount: false
[]--[]--2020-10-30 15:17:44.246 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 15:17:44.246 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] begin
[]--[]--2020-10-30 15:17:44.416 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] request success, responseBody: {"id":"1d44bfda-8fd2-4e2b-a99c-21bdf690c753","createdTimestamp":1588827826514,"username":"inspurtest01","enabled":true,"totp":false,"emailVerified":false,"firstName":"","lastName":"","email":"inspurtest01@inspur.com","attributes":{"lastLoginTime":["1604042224867"],"project":["inspurtest01"],"thisLoginTime":["1604042236963"]},"disableableCredentialTypes":["password"],"requiredActions":[],"federatedIdentities":[],"notBefore":1602302654,"access":{"manageGroupMembership":true,"view":true,"mapRoles":true,"impersonate":true,"manage":true}}
[]--[]--2020-10-30 15:17:44.420 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] userMap: {id=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, createdTimestamp=1588827826514, username=inspurtest01, enabled=true, totp=false, emailVerified=false, firstName=, lastName=, email=inspurtest01@inspur.com, attributes={lastLoginTime=[1604042224867], project=[inspurtest01], thisLoginTime=[1604042236963]}, disableableCredentialTypes=[password], requiredActions=[], federatedIdentities=[], notBefore=1602302654, access={manageGroupMembership=true, view=true, mapRoles=true, impersonate=true, manage=true}}
[]--[]--2020-10-30 15:17:44.421 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : {lastLoginTime=[1604042224867], project=[inspurtest01], thisLoginTime=[1604042236963]}
[]--[]--2020-10-30 15:17:44.422 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserGroupsById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 15:17:44.422 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] begin
[]--[]--2020-10-30 15:17:44.463 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] request success, responseBody: [{"id":"047bd339-8ee6-42fe-8618-a99e8279dd79","name":"group-inspurtest01","description":null,"createdAt":0,"accountId":null}]
[]--[]--2020-10-30 15:17:44.468 DEBUG--[http-nio-8762-exec-2]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isRootUser: true
[]--[]--2020-10-30 15:17:44.468 DEBUG--[http-nio-8762-exec-2]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-doFilter-1604042264468
[]--[]--2020-10-30 15:17:44.469 DEBUG--[http-nio-8762-exec-2]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.doFilter()...
[i-id-service]--[9dffa49b-e032-499b-b189-d0706a7dbfbf]--2020-10-30 15:17:44.469 INFO --[http-nio-8762-exec-2]
                c.i.cloud.common.filter.RequestFilter    : 是否为主账号true
[i-id-service]--[9dffa49b-e032-499b-b189-d0706a7dbfbf]--2020-10-30 15:17:44.469 INFO --[http-nio-8762-exec-2]
                c.i.cloud.common.filter.RequestFilter    : user id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753,Creator Id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753, request url: /iid/v1/root-cert/download/374362680705122304/crt, request id: 9dffa49b-e032-499b-b189-d0706a7dbfbf
[i-id-service]--[9dffa49b-e032-499b-b189-d0706a7dbfbf]--2020-10-30 15:17:44.471 DEBUG--[http-nio-8762-exec-2]
                c.i.iam.adapter.aop.PermissionContextAop : requesturi=/iid/v1/root-cert/download/374362680705122304/crt
[]--[]--2020-10-30 15:18:09.368 DEBUG--[      Thread-30]
                c.i.c.s.m.u.spring.SpringContextHolder   : 清除SpringContextHolder中的ApplicationContext:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c2417a8: startup date [Fri Oct 30 14:55:36 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 15:18:10.503 INFO --[      Thread-30]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
[]--[]--2020-10-30 15:18:10.506 INFO --[      Thread-30]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
[]--[]--2020-10-30 15:18:12.762 DEBUG--[localhost-startStop-2]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.destroy()...
[]--[]--2020-10-30 15:19:10.916 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Starting IIDApplication on JiangYuPengdeMacBook-Pro.local with PID 30978 (/Users/jiangyupeng/Java/Company/iid-service/out/production/classes started by jiangyupeng in /Users/jiangyupeng/Java/Company/iid-service)
[]--[]--2020-10-30 15:19:10.918 DEBUG--[  restartedMain]
                com.inspur.cloud.IIDApplication          : Running with Spring Boot v2.0.5.RELEASE, Spring v5.0.9.RELEASE
[]--[]--2020-10-30 15:19:10.918 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : The following profiles are active: prod
[]--[]--2020-10-30 15:19:11.036 INFO --[  restartedMain]
                o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5fd55c0e: startup date [Fri Oct 30 15:19:11 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 15:19:11.788 INFO --[  restartedMain]
                o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'httpSessionManager' with a different definition: replacing [Generic bean: class [org.keycloak.adapters.springsecurity.management.HttpSessionManager]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/org.keycloak/keycloak-spring-security-adapter/4.6.0.Final/8a42a701686abd300fd73288f1e1ce9807a95dd1/keycloak-spring-security-adapter-4.6.0.Final.jar!/org/keycloak/adapters/springsecurity/management/HttpSessionManager.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=securityConfig; factoryMethodName=httpSessionManager; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/inspur/iam/adapter/config/SecurityConfig.class]]
[]--[]--2020-10-30 15:19:12.073 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-10-30 15:19:12.100 INFO --[  restartedMain]
                o.s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
[]--[]--2020-10-30 15:19:12.139 INFO --[  restartedMain]
                o.s.i.config.IntegrationRegistrar        : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
[]--[]--2020-10-30 15:19:12.498 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
[]--[]--2020-10-30 15:19:12.503 INFO --[  restartedMain]
                o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
[]--[]--2020-10-30 15:19:12.599 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$af1d59bf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 15:19:12.690 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e8b19b91] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 15:19:12.872 INFO --[  restartedMain]
                o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$53a356c0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[]--[]--2020-10-30 15:19:13.583 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8762 (http)
[]--[]--2020-10-30 15:19:13.601 INFO --[  restartedMain]
                org.apache.catalina.core.StandardService : Starting service [Tomcat]
[]--[]--2020-10-30 15:19:13.601 INFO --[  restartedMain]
                org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.34
[]--[]--2020-10-30 15:19:13.604 INFO --[localhost-startStop-1]
                o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/jiangyupeng/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
[]--[]--2020-10-30 15:19:13.683 INFO --[localhost-startStop-1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
[]--[]--2020-10-30 15:19:13.683 INFO --[localhost-startStop-1]
                o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2647 ms
[]--[]--2020-10-30 15:19:15.406 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'characterEncodingFilter' to: [/*]
[]--[]--2020-10-30 15:19:15.406 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'webMvcMetricsFilter' to: [/*]
[]--[]--2020-10-30 15:19:15.407 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
[]--[]--2020-10-30 15:19:15.407 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpPutFormContentFilter' to: [/*]
[]--[]--2020-10-30 15:19:15.407 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestContextFilter' to: [/*]
[]--[]--2020-10-30 15:19:15.408 INFO --[localhost-startStop-1]
                o.s.b.w.s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
[]--[]--2020-10-30 15:19:15.408 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'securityContextFilter' to urls: [/*]
[]--[]--2020-10-30 15:19:15.408 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'httpTraceFilter' to: [/*]
[]--[]--2020-10-30 15:19:15.408 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticationProcessingFilter was not registered (disabled)
[]--[]--2020-10-30 15:19:15.408 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakPreAuthActionsFilter was not registered (disabled)
[]--[]--2020-10-30 15:19:15.409 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakAuthenticatedActionsFilter was not registered (disabled)
[]--[]--2020-10-30 15:19:15.409 INFO --[localhost-startStop-1]
                o.s.boot.web.servlet.RegistrationBean    : Filter keycloakSecurityContextRequestFilter was not registered (disabled)
[]--[]--2020-10-30 15:19:15.409 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'requestFilter' to: [/*]
[]--[]--2020-10-30 15:19:15.409 INFO --[localhost-startStop-1]
                o.s.b.web.servlet.FilterRegistrationBean : Mapping filter: 'repeatedlyReadFilter' to: [/*]
[]--[]--2020-10-30 15:19:15.410 INFO --[localhost-startStop-1]
                o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
[]--[]--2020-10-30 15:19:15.425 DEBUG--[localhost-startStop-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.init()......
[]--[]--2020-10-30 15:19:15.583 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
[]--[]--2020-10-30 15:19:16.013 INFO --[  restartedMain]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
[]--[]--2020-10-30 15:19:16.062 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
[]--[]--2020-10-30 15:19:16.073 INFO --[  restartedMain]
                o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
[]--[]--2020-10-30 15:19:16.135 INFO --[  restartedMain]
                org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
[]--[]--2020-10-30 15:19:16.136 INFO --[  restartedMain]
                org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
[]--[]--2020-10-30 15:19:16.171 INFO --[  restartedMain]
                org.hibernate.annotations.common.Version : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
[]--[]--2020-10-30 15:19:16.432 INFO --[  restartedMain]
                org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
[]--[]--2020-10-30 15:19:16.579 INFO --[  restartedMain]
                o.s.o.j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
[]--[]--2020-10-30 15:19:16.639 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] there is no iam folder in Resource!
[]--[]--2020-10-30 15:19:16.639 DEBUG--[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.getDirectory] projectPath: /Users/jiangyupeng/.gradle/caches/modules-2/files-2.1/com.inspur.iam/iam-adapter-java/1.9.7/6706f5ae335155c33a45369c1400847f77286669
[]--[]--2020-10-30 15:19:16.639 WARN --[  restartedMain]
                c.inspur.iam.adapter.util.LiquibaseUtil  : [LiquibaseUtil.LiquiabseInit] there is no liquibase-xml in local directory!
[]--[]--2020-10-30 15:19:16.652 DEBUG--[  restartedMain]
                com.inspur.iam.adapter.util.VersionUtil  : [VersionUtil.uploadVersion] adaper version: 1.9.7
[]--[]--2020-10-30 15:19:17.183 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 开始创建RestTemplate-->[tokenType=USER,timeZone=GMT,WriteDatesAsTimestamps=null,referer=https://console1.cloud.inspur.com/,connectionRequestTimeout=0,ConnectTimeout=0,ReadTimeout=0]
[]--[]--2020-10-30 15:19:17.189 DEBUG--[  restartedMain]
                c.i.i.adapter.config.RestTemplateFactory : 创建RestTemplate完成-->org.keycloak.adapters.springsecurity.client.KeycloakRestTemplate@5b287239
[]--[]--2020-10-30 15:19:17.341 DEBUG--[  restartedMain]
                c.i.c.s.m.u.spring.SpringContextHolder   : 注入ApplicationContext到SpringContextHolder:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5fd55c0e: startup date [Fri Oct 30 15:19:11 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 15:19:17.498 INFO --[  restartedMain]
                o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@44ea61e4, org.springframework.security.web.context.SecurityContextPersistenceFilter@26538228, org.springframework.security.web.header.HeaderWriterFilter@6cd18b65, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@7a58d844, org.springframework.security.web.authentication.logout.LogoutFilter@774cf5e0, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@c5d112, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3929306b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45d415ac, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@2d233aef, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@112acff2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@610390c5, org.springframework.security.web.session.SessionManagementFilter@5946ab8c, org.springframework.security.web.access.ExceptionTranslationFilter@152d202f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7923fb6b]
[]--[]--2020-10-30 15:19:17.578 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService  'taskExecutor'
[]--[]--2020-10-30 15:19:17.682 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 15:19:17.775 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5fd55c0e: startup date [Fri Oct 30 15:19:11 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 15:19:17.788 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerAdapter : Detected ResponseBodyAdvice bean in responseResultBodyAdvisor
[]--[]--2020-10-30 15:19:17.821 WARN --[  restartedMain]
                o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[]--[]--2020-10-30 15:19:17.899 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/download],methods=[GET]}" onto public void com.inspur.cloud.console.device.controller.DeviceController.downloadDevices(javax.servlet.http.HttpServletResponse,java.lang.String,java.lang.String,java.lang.Integer) throws java.io.IOException
[]--[]--2020-10-30 15:19:17.900 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secret],methods=[GET]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecret(java.lang.String,java.lang.String)
[]--[]--2020-10-30 15:19:17.901 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/create/secrets],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.device.controller.DeviceController.createSecrets(org.springframework.web.multipart.MultipartFile) throws java.io.IOException
[]--[]--2020-10-30 15:19:17.901 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/device/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.device.controller.DeviceController.querySecretKeyList(int,int,java.lang.String,java.lang.String,java.lang.Integer)
[]--[]--2020-10-30 15:19:17.903 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<java.util.List<com.inspur.cloud.console.dict.entity.DictItemBean>> com.inspur.cloud.console.dict.controller.DictController.getDictItemByGroupId(java.lang.String)
[]--[]--2020-10-30 15:19:17.904 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictCache()
[]--[]--2020-10-30 15:19:17.904 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/refresh/groups/{groupId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.dict.controller.DictController.refreshDictGroupCache(java.lang.String)
[]--[]--2020-10-30 15:19:17.904 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict/groups/{groupId}/items/{itemId}],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<com.inspur.cloud.console.dict.entity.DictItemBean> com.inspur.cloud.console.dict.controller.DictController.getDictItemByKey(java.lang.String,java.lang.String)
[]--[]--2020-10-30 15:19:17.905 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/dict],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean<?> com.inspur.cloud.console.dict.controller.DictController.getDict(java.lang.String)
[]--[]--2020-10-30 15:19:17.906 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/health-status],methods=[GET]}" onto public com.inspur.cloud.common.response.entity.ResponseBean com.inspur.cloud.console.health.HealthController.healthStatus()
[]--[]--2020-10-30 15:19:17.909 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.product.entity.ProductsVO> com.inspur.cloud.console.product.controller.ProductController.productList()
[]--[]--2020-10-30 15:19:17.910 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.productList(java.lang.String,int,int)
[]--[]--2020-10-30 15:19:17.910 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product],methods=[POST]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.addProduct(com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-10-30 15:19:17.910 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}],methods=[PUT]}" onto public java.lang.String com.inspur.cloud.console.product.controller.ProductController.updateProduct(java.lang.String,com.inspur.cloud.console.product.entity.ProductVo)
[]--[]--2020-10-30 15:19:17.911 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{productId}/detail],methods=[GET]}" onto public com.inspur.cloud.console.product.entity.ProductDo com.inspur.cloud.console.product.controller.ProductController.productDetails(java.lang.String)
[]--[]--2020-10-30 15:19:17.911 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/product/{pageNo}/{pageSize}],methods=[GET]}" onto public com.inspur.cloud.common.page.Page com.inspur.cloud.console.product.controller.ProductController.queryProductList(int,int,java.lang.String)
[]--[]--2020-10-30 15:19:17.912 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/metrics]}" onto public void com.inspur.cloud.console.prometheus.controller.MetricsController.metrics(javax.servlet.http.HttpServletResponse) throws java.io.IOException
[]--[]--2020-10-30 15:19:17.915 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/rootCertList],methods=[GET]}" onto public java.util.List<com.inspur.cloud.console.rootcert.entity.RootCert> com.inspur.cloud.console.rootcert.controller.RootCertController.queryRootCertList()
[]--[]--2020-10-30 15:19:17.916 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/import-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.importCA(com.inspur.cloud.console.rootcert.entity.ImportRootCertParams) throws java.io.IOException
[]--[]--2020-10-30 15:19:17.916 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/create-cert],methods=[POST]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.createCA(com.inspur.cloud.console.rootcert.entity.CreateRootCertParams)
[]--[]--2020-10-30 15:19:17.916 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/crt],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCaCrt(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-10-30 15:19:17.917 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/root-cert/download/{certId}/key],methods=[GET]}" onto public void com.inspur.cloud.console.rootcert.controller.RootCertController.downloadCaKey(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
[]--[]--2020-10-30 15:19:17.918 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/info],methods=[GET]}" onto public com.inspur.cloud.console.usercert.entity.UserCert com.inspur.cloud.console.usercert.controller.UserCertController.getUserCert()
[]--[]--2020-10-30 15:19:17.918 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/is-open],methods=[GET]}" onto public int com.inspur.cloud.console.usercert.controller.UserCertController.isOpenService()
[]--[]--2020-10-30 15:19:17.919 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/opening],methods=[POST]}" onto public int com.inspur.cloud.console.usercert.controller.UserCertController.openService()
[]--[]--2020-10-30 15:19:17.919 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/iid/v1/user-cert/number],methods=[GET]}" onto public com.inspur.cloud.console.kgc.entity.ProductAndDeviceNum com.inspur.cloud.console.usercert.controller.UserCertController.calulateNumber()
[]--[]--2020-10-30 15:19:17.922 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
[]--[]--2020-10-30 15:19:17.922 INFO --[  restartedMain]
                o.s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
[]--[]--2020-10-30 15:19:18.001 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 15:19:18.001 INFO --[  restartedMain]
                o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[]--[]--2020-10-30 15:19:18.024 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in clientExceptionHandler
[]--[]--2020-10-30 15:19:18.025 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
[]--[]--2020-10-30 15:19:18.025 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected ResponseBodyAdvice implementation in responseResultBodyAdvisor
[]--[]--2020-10-30 15:19:18.025 INFO --[  restartedMain]
                o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in commonControllerAdvice
[]--[]--2020-10-30 15:19:18.824 INFO --[  restartedMain]
                o.s.s.concurrent.ThreadPoolTaskScheduler : Initializing ExecutorService  'taskScheduler'
[]--[]--2020-10-30 15:19:18.972 INFO --[  restartedMain]
                o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path ''
[]--[]--2020-10-30 15:19:18.983 INFO --[  restartedMain]
                o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping : Mapped "{[/prometheus],methods=[GET],produces=[text/plain;version=0.0.4;charset=utf-8]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
[]--[]--2020-10-30 15:19:19.112 INFO --[  restartedMain]
                o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[]--[]--2020-10-30 15:19:19.294 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
[]--[]--2020-10-30 15:19:19.296 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
[]--[]--2020-10-30 15:19:19.303 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
[]--[]--2020-10-30 15:19:19.308 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
[]--[]--2020-10-30 15:19:19.310 INFO --[  restartedMain]
                o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
[]--[]--2020-10-30 15:19:19.340 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0
[]--[]--2020-10-30 15:19:19.340 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
[]--[]--2020-10-30 15:19:19.340 INFO --[  restartedMain]
                o.s.i.channel.PublishSubscribeChannel    : Channel 'i-id-service.errorChannel' has 1 subscriber(s).
[]--[]--2020-10-30 15:19:19.340 INFO --[  restartedMain]
                o.s.i.endpoint.EventDrivenConsumer       : started _org.springframework.integration.errorLogger
[]--[]--2020-10-30 15:19:19.340 INFO --[  restartedMain]
                o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
[]--[]--2020-10-30 15:19:19.382 INFO --[  restartedMain]
                o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8762 (http) with context path ''
[]--[]--2020-10-30 15:19:19.386 INFO --[  restartedMain]
                com.inspur.cloud.IIDApplication          : Started IIDApplication in 9.576 seconds (JVM running for 10.325)
[]--[]--2020-10-30 15:19:19.390 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...begin...
[]--[]--2020-10-30 15:19:19.479 INFO --[  restartedMain]
                c.i.cloud.console.dict.cache.DictCache   : DictCache.refresh()...end...
[]--[]--2020-10-30 15:19:19.994 INFO --[RMI TCP Connection(4)-127.0.0.1]
                o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [10.110.64.31:31675]
[]--[]--2020-10-30 15:19:19.998 INFO --[RMI TCP Connection(3)-127.0.0.1]
                o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
[]--[]--2020-10-30 15:19:19.999 INFO --[RMI TCP Connection(3)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
[]--[]--2020-10-30 15:19:20.019 INFO --[RMI TCP Connection(3)-127.0.0.1]
                o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 20 ms
[]--[]--2020-10-30 15:19:20.084 INFO --[RMI TCP Connection(4)-127.0.0.1]
                o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#59a6c96e:0/SimpleConnection@1ff11ff8 [delegate=amqp://guest@10.110.64.31:31675/, localPort= 56050]
[]--[]--2020-10-30 15:19:20.288 INFO --[RMI TCP Connection(4)-127.0.0.1]
                io.lettuce.core.EpollProvider            : Starting without optional epoll library
[]--[]--2020-10-30 15:19:20.291 INFO --[RMI TCP Connection(4)-127.0.0.1]
                io.lettuce.core.KqueueProvider           : Starting without optional kqueue library
[]--[]--2020-10-30 15:19:31.657 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-begin-1604042371657
[]--[]--2020-10-30 15:19:31.659 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : SecurityContextUtil.cleanSecurityContext()
[]--[]--2020-10-30 15:19:31.660 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] auth: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@5d2b3420: Principal: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@d60c532; Granted Authorities: ROLE_ACCOUNT_ADMIN, ROLE_RDS_ADMIN, ROLE_UMA_AUTHORIZATION, ROLE_OFFLINE_ACCESS
[]--[]--2020-10-30 15:19:31.661 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] is KeycloakAuthenticationToken
[]--[]--2020-10-30 15:19:31.661 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isServiceAccount: false
[]--[]--2020-10-30 15:19:31.661 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 15:19:31.661 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] begin
[]--[]--2020-10-30 15:19:32.018 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserById] request success, responseBody: {"id":"1d44bfda-8fd2-4e2b-a99c-21bdf690c753","createdTimestamp":1588827826514,"username":"inspurtest01","enabled":true,"totp":false,"emailVerified":false,"firstName":"","lastName":"","email":"inspurtest01@inspur.com","attributes":{"lastLoginTime":["1604042236963"],"project":["inspurtest01"],"thisLoginTime":["1604042330486"]},"disableableCredentialTypes":["password"],"requiredActions":[],"federatedIdentities":[],"notBefore":1602302654,"access":{"manageGroupMembership":true,"view":true,"mapRoles":true,"impersonate":true,"manage":true}}
[]--[]--2020-10-30 15:19:32.021 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] userMap: {id=1d44bfda-8fd2-4e2b-a99c-21bdf690c753, createdTimestamp=1588827826514, username=inspurtest01, enabled=true, totp=false, emailVerified=false, firstName=, lastName=, email=inspurtest01@inspur.com, attributes={lastLoginTime=[1604042236963], project=[inspurtest01], thisLoginTime=[1604042330486]}, disableableCredentialTypes=[password], requiredActions=[], federatedIdentities=[], notBefore=1602302654, access={manageGroupMembership=true, view=true, mapRoles=true, impersonate=true, manage=true}}
[]--[]--2020-10-30 15:19:32.022 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : {lastLoginTime=[1604042236963], project=[inspurtest01], thisLoginTime=[1604042330486]}
[]--[]--2020-10-30 15:19:32.022 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [TokenUtil.getUserGroupsById] not exists in redis, query KK, id:1d44bfda-8fd2-4e2b-a99c-21bdf690c753
[]--[]--2020-10-30 15:19:32.022 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] begin
[]--[]--2020-10-30 15:19:32.067 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.getKcUserGroups] request success, responseBody: [{"id":"047bd339-8ee6-42fe-8618-a99e8279dd79","name":"group-inspurtest01","description":null,"createdAt":0,"accountId":null}]
[]--[]--2020-10-30 15:19:32.076 DEBUG--[http-nio-8762-exec-1]
                com.inspur.iam.adapter.util.TokenUtil    : [SecurityContextFilter.initUserInfo] isRootUser: true
[]--[]--2020-10-30 15:19:32.078 DEBUG--[http-nio-8762-exec-1]
                c.i.i.a.filter.SecurityContextFilter     : [SecurityContextFilter.doFilter] SecurityContextFilter-doFilter-1604042372078
[]--[]--2020-10-30 15:19:32.082 DEBUG--[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.doFilter()...
[i-id-service]--[ee54a7ab-1b03-4da6-8355-0eb98e1bc52c]--2020-10-30 15:19:32.083 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : 是否为主账号true
[i-id-service]--[ee54a7ab-1b03-4da6-8355-0eb98e1bc52c]--2020-10-30 15:19:32.084 INFO --[http-nio-8762-exec-1]
                c.i.cloud.common.filter.RequestFilter    : user id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753,Creator Id: 1d44bfda-8fd2-4e2b-a99c-21bdf690c753, request url: /iid/v1/root-cert/download/374362680705122304/key, request id: ee54a7ab-1b03-4da6-8355-0eb98e1bc52c
[i-id-service]--[ee54a7ab-1b03-4da6-8355-0eb98e1bc52c]--2020-10-30 15:19:32.160 DEBUG--[http-nio-8762-exec-1]
                c.i.iam.adapter.aop.PermissionContextAop : requesturi=/iid/v1/root-cert/download/374362680705122304/key
[]--[]--2020-10-30 15:19:46.658 DEBUG--[      Thread-20]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] begin
[]--[]--2020-10-30 15:19:46.718 DEBUG--[      Thread-20]
                com.inspur.iam.adapter.util.IamUtil      : [IamUtil.uplaodVersion] request success, responseBody: {"id":"e4e590c17448874b017448a48059000d","authUrl":"https://auth-cloud-dev.inspurcloud.cn/auth","realm":"picp","client":"bss-server","databaseName":"icp_iid","version":"1.9.7","createdAt":"2020-09-01T07:49:34Z","updatedAt":null}
[]--[]--2020-10-30 15:19:48.051 DEBUG--[      Thread-30]
                c.i.c.s.m.u.spring.SpringContextHolder   : 清除SpringContextHolder中的ApplicationContext:org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5fd55c0e: startup date [Fri Oct 30 15:19:11 CST 2020]; root of context hierarchy
[]--[]--2020-10-30 15:19:49.196 INFO --[      Thread-30]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
[]--[]--2020-10-30 15:19:49.204 INFO --[      Thread-30]
                com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
[]--[]--2020-10-30 15:19:51.532 DEBUG--[localhost-startStop-2]
                c.i.cloud.common.filter.RequestFilter    : RequestFilter.destroy()...
